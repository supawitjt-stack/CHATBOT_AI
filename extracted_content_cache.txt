--- Page 13 ---
 7 การจัดเตรียมเครื่องมือ อนที่เราจะเข้าสู่ขันตอนการเขียนโค้ดภาษา c ตามที่จะกล่าวถึงในบทต่อตไป สิ่งที่เรา ก.  จำเป็นต้องจัดเตรียมเอาไว้ล่วงหน้าก็คือ  เครื่องมือในการเขียนโค้ดและทดสอบเพื่อ ดูผลลัพธ์ ซึ่งแม้จะมีตัวเลือกอยู่มากมาย แต่ในหนังสือเล่มนี้ จะเลือกมานำเสนอเฉพาะเครื่องมือที่ ะ ได้รับความนิยมสูงสุดในปัจจุบัน โดยเครื่องมือที่เลือกนี้ ไมใช่เฉพาะกับการเขียนโค้ดภาษา c เท่านั้น แต่ยังสามารถนำไปใช้สำหรับการเขียนโค้ดภาษาคอมพิวเตอร์อื่น" ได้เกือบทั้งหมด  จึงถือเป็น ข้อได้เปรียบอย่างหนึ่งเมื่อเราศึกษาเรียนรู้การเขียนโปรแกรมภาษาอืนต เพิ่มเติมในอนาคต การติดตั้ง vs code ะ การเขียนโค้ดภาษา c. นน แม้เราจะมี  เครื่องมือให้เลือกใช้มากมาย แต่ในที่นี้ผู้ เขียน ติดตั้ง visual studio code ns code) จะแนะวิธีการทีได้รับความนิยมสูงสุดในปัจจุบัน ติดตั้ง mingw (ดัวแปลภาษา c) เพียงวิธีเดียว  นั่นภก็คือ การใช้งานผ่าน  visual studio code (เรานิยมเรียกสั้นไ ว่า vs code) ตั้งค่าตำแหม่งดัวแปลภาษาใน environment อย่างไรก็ตาม  เนื่องจาก vc code สร้างมาสำหรับการเขียนโค้ดภาษา c. ติดตังส่วนเสริม c/c++ package แต่สามารถใช้กับภาษาคอมพิวเตอร์ทั่วซ ไป ได้  เกือบทั้งหมด ดังนั้น เรายังต้องติดตั้งเครื่องมือ ติดตังส่วมเสริม code runner พร้อมเซตค่า  อื่นต เพิ่มเติมอีก  โดยขั้นตอนที่จำเป็นต้องทำ สามารถสรุปได้ดังนี้ ไม่ได้ถูก โดยตรง
--- Page 14 ---
14 การเขียนโปรแกรมกาษา c ขั้นพืนฐาน 1 ติดตั้ง visual studio code (vs code) เพื่อใช้เป็นเครื่องมือหลักในการเขียนและ แสดงผลลัพธ์รวมถึงจัดการไฟล์ของโค้ด ะู 2 ติดตั้ง mingw เพื่อเป็นตัวแปลภาษา (compiler) ของภาษา c 3. เซตตำแหน่งที่ติดตั้ง mingw ลงใน  environment  variables ของระบบ  เพื่อให้ โปรแกรมอีนซ รู้ตำแหน่งของตัวแปลภาษา 4. ติดตั้งส่วนเสริม cic++ package ลงใน vs code เพื่อเป็นตัวช่วยในการเขียนโค้ด ภาษา c. ะู 5. ติดตั้งส่วนเสริม code runner ลงใน vs code เพื่อเชื่อมโยงระหว่าง vs code ะ ะู กับ mingw ซึ่งจะช่วยให้เราสามารถรันทดสอบโค้ดได้ง่ายขึน รวมทั้งตั้งค่าการแสดง ผลลัพธ์อีกด้วย  ทั้งหมดที่กล่าวมา จะแยกกล่าวรายละเอียดเป็นหัวข้อต่างๆ ในลำดับต่อไป แต่ในหัวข้อนี้ ู จะกล่าวถึงขันตอนแรกนันภก็คือ การติดตั้ง vs code ซึงเป็นโปรแกรมประเภท ide (integrated development environment) ที่ microsoft สร้างขึ้นมาสำหรับใช้ในการเขียนโค้ดทั่วซ ไป และ ได้รับความนิยมสูงสุดในปัจจุบัน  เนื่องจากมีลักษณะที่โดดเด่นหลายประการ เช่น  ให้ใช้งานฟรี รองรับการเขียนโค้ดได้หลายภาษา และที่สำคัญคือ มีส่วนเสริมการทำงานให้เลือกใช้มากมาย  สำหรับการติดตั้ง vs code ลงในเครื่องที่เราจะใช้งาน มีขั้นตอนโดยสังเขปคือ ะู 1 สามารถดาวน์โหลดชุดติดตั้งได้ที่ https: code. visualstudio. com download daanload uigal วนcว tods  https: ficode.visua studio.con downlaad  visual suudio code  dor rodates .biog adll attnaions  faq mindd  .deb upm mac 378 ]0 ai ย]สสลา.โ oร{c 2 เลือกดาวน์โหลดให้ตรงกับระบบปฏิบัติการที่เรากำลังใช้งาน (ในที่นี้จะกล่าวถึงเฉพาะ ะู  ระบบ windows เท่านัน) ะู 3. หลังจากดาวน์โหลดเสร็จ  ให้ดับเบิลคลิกไฟล์ติดตั้งที่ได้มา และในหน้าจอถัดไป  ก็ ยอมรับเงื่อนไขแล้วคลิกปุม next
--- Page 15 ---
 บทที 1| การจัดเตรียมเคร้องมือ 15 4 ขั้นตอนต่อไป จะมีออปชันให้เลือก ก็แนะนำให้เลือกทั้งหมด แล้วคลิกปุ่ม next วอrบา  mitrosor miaual sudง cada rla uวnร^ aฎramont stud  mitrosolt  ra! ad|0 lodg {u:er สเาราาาา panฎ ฑงาาฎา! nt mobon วoor aound ena ]aร พcำ .uonal tase ahoud bะ uerdor a)isd x กรปาา ! )59:] 00=3 argeenl jou inst qนeu[ l3 iaiid una 33!!-3![ เมทนเเะ สว.ปเอนนท saled ie gdurวาs 33g3iวu hould iie actuว dcafham ahra tcaling yaua  shrcio taว ther dat this lirens= applies m rhe ทaal sricin cone produrr. soura cade อส ทaร! stutia soeis avaitable at nts daitn rom tiam  at/sro aaaccaliona; andar the nit วaramr at uraat jaatวว con utnsliaithun commmcosott^smona lntmosterh icerett addit ตาร liturse iamndon san dr jound inpur โaoa วบรระเm]ไอปะ atuan  แuu eua wd ควรเลือก lu dlod..viรuย lบct.เปเaบาแอเปาน acran nan fona nmon in mini+s etar aiะdon: tamta เกงกu microsoft software license terms aaaรa zada รำ ananf tnr accannnn ทงเมด กราาอาาาาีารารรารการาา microsoft visual studio code aacset ahe agreement ยอมรับข้อตกลง 0)13ว กว: 8caent th3 33c:m:-: 2 คลิกปุ่ม next lar! 2 คลึก next อะ. เร ganga| 5. ต่อจากนั้น คลิกปุ่ม install. เพื่อเริ่มการติดตั้งไฟล์ จากนั้นก็รอจนกว่าจะแล้วเสร็จ รเบน  miucsul iseal. sudip core asrl rsปv lo insull ระบกราา4 tยออว baปn aatshina wsal sfudio cors on aouf romoufar da raall la cnunue เt da n๕3lissวn, of dict aad: พqou 9วาt to rnew al chengs any somngs.  atfinal na q!=:: adctan wth tad acon วa uininns emamr ala matant กราu ma coan l .  anion la tnuuวะวa|  au0ท aรeร เ)gแu am]  te ววา mitr far aunccrted fa apes atttatnfas anatit ed เาร บวาว การติดตั้ง mingw ะ การที่ภาษาคอมพิวเตอร์จะทำงานได้นั้น ต้องอาศัยตัวแปลภาษา (compiler) ซึ่งสิ่งนี้ ไม่ ะ ได้ถูกติดตั้งมาพร้อมกับ vs code โดยเราต้องติดตั้งเพิ่มเติมลงไปต่างหาก ชึ่งตัวแปลภาษา c มี  ผู้สร้างให้เลือกใช้มากมาย สำหรับในที่นี้จะใช้ตัวแปลภาษาของ gcc (gnu compiler collection) ที่้ได้รับความนิยมสูงสุด แต่จะใช้ในเวอร์ชัน mingw (minimalist gcc for windows) ซึ่งเป็น ะ การลดขนาดของตัวแปลภาษาลงสำหรับใช้งานบนระบบ windows  ทั้งนี้ mingw มีทั้ง licenst โดยตรง
--- Page 16 ---
16 การเขียนโปรแกรมกาษา c ขั้นพืนฐาน แบบติดตั้งด้วยไฟล์ installer และแบบคัดลอกไฟล์มาไว้ในเครื่องก็ใช้ได้เลย โดยแบบ installer นั้นจะมีขั้นตอนการติดตั้งปลีกย่อยซึ่งค่อนข้างยุ่งยากเล็กน้อย ในที่นี้ผู้เขียนจึงจะกล่าวถึงเฉพาะ แบบคัดลอกไฟล์ เพราะสะดวก รวดเร็วกว่า โดยมีแนวทางการนำมาใช้งานดังนี้ 1  สามารถดาวน์โหลด mingw ได้ที่  https:/sourceforge. net/projects/mingw w64/files/ แล้วเลื่อนลงมาคลิกที่ลิงก์ x86_64-win32-sjlj ดังภาพ (เชื่อไฟล์อาจถูกเปลี่ยนแปลง ไปเรื่อยต แต่ควรเลือกไฟล์ชื่อขึ้นต้นด้วย x86_64-win32 อันแรกสุด ซึ่งตามปกติ จะ เป็นเวอร์ชันล่าสุด) m5อ4 ม.อ เ5- wi e intps lรourreforge nattpro]e t/ming'"'-14/5|==/ =rda  sourceforge  mingw w64 gcc-8.1.0 456_64 t0๖ 3)] 45_64 [o sgh 486,64 wn32 =|] x&54 win32 sch joว:mว]i l68๖-ก0ร1=a sompceorgr ncuurgicsts mingy mtamiea took hains trgsting `ว]n53//255 ธ 310 ea3 m32 s)] rt เta7: 2 หลังจากดาวน์โหลดเสร็จ  ปกติจะได้ไฟล์ที่ถูกบีบอัดเอาไว้ ก็ให้ขยายไฟล์ดังกล่าว เซึ่ง หลังการขยายจะได้โฟลเดอร์ชื่อ mingw64 พร้อมกับไฟล์จำนวนมากในโฟลเดอร์นั้น  ก็ให้เราคัดลอกโฟลเดอร์ mingw64  ไปเก็บไว้ยังตำแหน่งที่เราอ้างอิงได้สะดวก  เซึ่ง โดยทั่วไป เรานิยมเก็บไว้ที่ไดรฟ์ c ดังนั้น ตำแหน่งของมันจะเป็น c:lmingw64 (หรือ จะขยายไฟล์มาไว้ที่นี้โดยตรงเลยก็ได้) local dis ic} ส.กา aharo searnloral มn tama hafe maaltien tipe รบะ t-)anฏ )5'7+1 )!);56 a lada  uevcloner hl )1/5/2565 2);37 ala jolda in:cl -2/5/2565303 ail: bวlau   ming#u+ )5'6'25:5 1949 aiata]de i.a ialaar 23/22585 1231 fle falde วitaก itam salatia วิธีการตามที่ผู้เขียนเลือกใช้ดังที่กล่าวมานี้` เราเพียงแค่คัดลอกไฟล์มาก็ใช้งานได้แล้ว แต่  อย่าลืมตำแหน่งที่เราเก็บไฟล์เอาไว้คือ c:imingw64 ซึ่งต้องใช้อ้างอิงในหัวข้อต่อไป id
--- Page 17 ---
 บทที 1| การจัดเตรียมเครืองมือ 17 การเซตตำแทิน่งของตัวแปลภาษา แม้เราจะนำชุดไฟล์ของ mingw มาจัดเก็บในเครื่องแล้ว แต่ระบบหรือโปรแกรมอื่นต ก็ ยังไม่รู้จักตำแหน่งของมัน ดังนัน เราต้องเซตตำแหน่งของ mingw ลงใน  environment ของ  ระบบ เพื่อให้โปรแกรมอื่น1รู้จักตำแหน่งของมัน และเข้าถึงได้ โดยมีขั้นตอนดังนี้ i. จากขั้นตอนการติดตั้งในหัวข้อที่แล้ว  ผู้เขียนได้บอกไว้ว่า  เราต้องจำไว้ด้วยว่าติดตั้ง  mingw เอาไว้ที่ใด ซึ่งตามปกติหากใช้ตามค่าที่ผ้เขียนแนะนำตำแหน่งของตัวแปล ภาษาก็จะอยู่ที่ c:lmingw64lbin ถ้าไม่แน่ใจ ให้เปิดไปตรวจสอบอึกครั้งก็ได้ uin . ama snans ะบ amingw tdn  sarth bin ก.ป. baa mae: .. 5!7~: adar2line !7/๖235) 1940 analton lมม 17/52561 1740 aกรรn 4ม53 ห3 12/5!2561 1340  aprlica บon 185] 43 วin shorr: รธาารรร2นมรี ahortaut xa inams tan: aเad 2. ที่ระบบ windows ให้คลิกขวาที่ปุ่ม start แล้วเลือก system (หรือคลิกขวาที่ไอคอน my computer หรือ this pc จากนั้นเลือกเมนู  properties หรือใช้วิธี อื่นฯ นอก เหนือจากนี้ก็ได้) แล้วในขั้นตอนถัดไปให้คลิกที่ลิงก์หรือเมนู  advanced  system  settings (ระบบปฏิบัติการแต่ละเวอร์ชันอาจจัดวางตำแหน่งที่แตกต่างกัน)  sariros  hami= about  remote desktop  hกd a seting sytam protoction  system  ad anred system sefings  ballery  raname this fc ladvancod]  slaage ael hela tl_l 3. ในขั้นตอนถัดไป เมื่อปรากฏหน้าจอ system properties ให้เลือกแท็บ advanced จากนั้นคลิกที่ปุม environment variables. . 4. เมื่อปรากฏหน้าจอ environment variables ให้คลิกที่ตัวแปร (variable) path จาก นั้นคลิกปุ่ม edit...
--- Page 18 ---
18 การเขียนโปรแกรมกาษา c ขั้นพืนฐาน 5stem apete5 emแoune yaaaes comtrua naril= สราaะ adransad s .aเ talarhen aอl y! m; ha วฎฎ=aan as an an r ataarin mara raanitasa trar }aa  usar uanables aar mv pamar arca  yariatlc  yaluc /:,= ="=<:: 0[06-:33(36|1=d|ว0 /='0[,0332-. e0,i43/m='0[,  crocclate latathlcoate 131551613392453298 on=dnng  cqsars amonebive saringa . cumm aoda"loup uonm nranpuhon3]รaเกเ t  calsars! am aocdata local temp uae[ amhes im- '1ท}/m40)aaora/]1๘mง  dakop ralaudl าu' signin 3=^0: รaเา azsoer  pea.. asi:.  nelaia syslen stamio. susian jara. ara dะruasnฎ mor anon รรทเอทออlย5 saitgร  ariagl- telue 2 envuonmena030|=$ paorascr คริเรเอr อะา3 สราราวเา uaraaramflesuwnotwรhonern-|m4nt|3:เ`4!47/!)[ร: tamp -เทฝวั051าา dk canual .บ. .า  cwwindowst tep usrnae avsit. all enynonu:ert yaristle 5. เมื่อปรากฏหน้าจอ edit environment  caueran sool tat aran  togramup  hon  ton iii ana!.. ปรร cปรcrsmf aopdatallecs  togfams python}toniio variable . ให้คลิกปุ่ม new แล้วใส่ตำแหน่ง clsers mnapodata leran frograma pthon ation39: scripts' . cรเเ5t4^oม0:๒]p0amp thon}74on39' ของ mingw  ลงไปตามที่ได้จัดเก็บ ausepprofileapp[:3:a locah micrวรวร: tcowadp5 aain:a  cquersan poolatat acanptogramu mroson 5 cadrtoin cปรeร/ aopdata1  oamning om palat=  ไฟล์ เอาไว้ ชึ่งในกรณีของผู้ เขียนคือ camingwt toin 2  c:lmingw64 lbin ทั้งนี้หากผู้อ่านจัดเก็บที่  mova la  ตำแหน่งอืน ก็ให้ระบุไปตามนัน เสร็จแล้ว maw= eown  คลิกปม ok tait :c!: 6. เมือย้อนกลับมายังหน้าจอในขันตอนก่อน ะ นี้ ก็ให้คลิกปุ่ม ok  ทงหมด ก็ถือเป็น ะู อันเสร็จสินขันตอนการเซตค่า อา .ราาา การติดตั้ง cic++ package สำหิธับ vs code  จากที่ได้กล่าวไปบ้างแล้วว่า vs code เป็นเครื่องมือสำหรับเขียนโค้ดทัวซไปที่ไม่เจาะจง ว่าจะใช้กับภาษาคอมพิวเตอร์อันใดอันหนึ่ง ดังนัน หากเราจะใช้ในการเขียนโค้ดภาษาใด  ก็อาจ ต้องติดตั้งส่วนเสริม (extension) เพื่อเป็นตัวช่วยสำหรับใช้งานร่วมกับภาษานั้นซ ฺสำหรับในกรณี ของภาษา c  ก็ให้เราติดตั้งส่วนเสริมที่ชื่อ cic++ package ที่พัฒนาโดยทีมงานของ microsoft โดยตรง ดังขั้นตอนต่อไปนี้ seang5 อ.
--- Page 19 ---
 บทที 1| การจัดเตรียมเคร้องมือ 19 1. เปิดเข้าสู่ vs code แล้วคลิกที่ไอคอน extensions ที่แถบด้านข้ายมือ (การติดตั้ง ส่วนเสริมต้องเชื่อมต่ออินเทอร์เน็ต) 2. ในช่องค้นหา ให้พิมพ์คำว่า cic++ fil=  edit  selection  mrew go run tarminal ลงไป  exteusons maakeipuice ี .= 2 cic+ 3. หลังจากปรากฏรายชื่อส่วนเสริม  เชึ่งมี cic+  อยู่ค่อนข้างมาก  แต่อันที่แนะนำให้ติด acs ch+t intellizense. debugging.  microscft inรอd ตั้งโดยคลิกปุม install  ตรงส่วนเสริม cic++ extension pack ะู b9 uc++  popular enensions jor c++ de  อันนั้น (หมายเลข 3 ในภาพ) คือ miicrosatt  install cicaa mhemes รารท 1) cic++ uic++ ui themes for uicep extension  microsott indad 2) cic++ extension pack ส่วนเสริม c/c++ เราติดตั้งดังขั้นตอนที่ผ่านมา เป็นเพียงตัวช่วยในการเขียนโค้ดเท่านั้น แต่หากเราต้องการความสะดวกสบายในการทดสอบโค้ดที่เขียน  ก็อาจต้องติดตั้งส่วนเสริมอื่นฯ  เพิ่มลงไปอีก ตามที่จะกล่าวถึงในหัวข้อต่อไป การติดตั้ง code runner สำทิธับ vs code ะู การติดตัง vs code และ mingw รวมทังส่วนเสริมของ c/c++ ดังขันตอนทีได้กล่าวมา แม้จะเพียงพอทีจะเขียนโค้ดภาษา c. บน vs code ได้แล้ว  แต่ก็ยังมีความยุ่งยากในการรัน ะ  ทดสอบ เพราะหากต้องการดูผลลัพธ์ของโค้ดที่เขียน เราต้องพิมพ์คำสั่งลงไปเอง ดังนั้น เพื่อลด ความยุ่งยากดังกล่าว เราอาจติดตั้งส่วนเสริมของ vs code ที่ชื่อ code runner เป็นตัวช่วย ในขั้นตอนการรันทดสอบเพื่อดูผลลัพธ์ ดังขั้นตอนต่อไปนี้ 1. เปิดเข้าสู่ vs code แล้วคลิกทีไอคอน  fle fdit  salection view ตว  run terminal extensions ที่แถบด้านซ้ายมือ (ต้อง atenร0nร: maerauย b เชื่อมต่ออินเทอร์เน็ต)  code runner 2  code runner 7.132!/ 2. ในช่องค้นหา  ให้พิมพ์คำว่า code aun cca+ java. j5. pna puth 3. ใ. un han paldad required iinsall. runner ลงไป test runner for jaya 13.5เ  run and dsbug junit or testnc test. 3. หลังจากปรากฏรายชือส่วนเสริม code microsoft irilal  runner ก็ให้คลิกปม install 4. หลังติดตั้งเสร็จ ให้ปดโปรแกรม vs code แล้วค่อยเปิดขึ้นมาใหม่
--- Page 20 ---
20 การเขียนโปรแกรมกาษา c ขั้นพืนฐาน 5. ต่อไปเราจะตั้งค่า เพื่อให้ code runner นำผลลัพธ์ไปแสดงที่ terminal ของ vs code โดยเลือกเมนู file > preferences >  settings 6. การค้นหาตัวเลือกเป้าหมาย วิธีที่สะดวกรวดเร็วที่สุดคือ เมื่อเปิดเข้าสู่แท็บหรือหน้าจอ  settings ให้พิมพ์ค้นหาด้วยคำว่า "code runner run in terminal" ก็จะปรากฏ ตัวเลือกเป้าหมายคือ code runner: run in terminal (รายการนี้จะปรากฏเมื่อ ะู ติดตั้ง code runner เอาไว้แล้วเท่านั้น) ต่อไปเราก็เลือก (เช็ก) ที่รายการนั้น ดังภาพ   settings zoda runngr run in temminal  user  workspace  etensions /2i  code runner.: run in terminal run code configurat 2 whathar ta run cada in iinegrated lermimal. 7 หลังจากทำตามขั้นตอนดังที่กล่าวมาจนครบแล้วต้องบันทึกการเปลี่ยนแปลงเสมอ เช่น เลือกเมนู file > save หรือกด <ctr| + s> จากนันก็สามารถปิด[แท็บ settings ได้เลย และถือเป็นอันเสร็จสิ้นขั้นตอนการตั้งค่า การเลือกที่ run in terminal ตามที่เราเซตค่าในขั้นตอนดังกล่าวมานี้ ก็เพื่อให้ code  runner แสดงผลลัพธ์และรับข้อมูลจากคีย์บอร์ดผ่านทาง terminal ของ vs code โดยตรง นั่นเอง การทดสอบโค้ดภาษา c หลังจากที่เราได้จัดเตรียมเครื่องมือที่ต้องใช้สำหรับการทดสอบภาษา c จนครบทงหมด แล้ว ดังหัวข้อที่ผ่านไฺมา ขั้นตอนต่อไปเราก็จะทดสอบเครื่องมือเหล่านั้นว่าใช้งานร่วมกันได้จริง หรือไม โดยมี แนวทางดังต่อไปนี้ สร้างโฟลเดอร์สำทิธับเก็บโค้ด ตามหลักการที่ถูกต้องของ vs code นั้น เราควรสร้างโฟลเดอร์สำหรับจัดเก็บไฟล์ของ  โค้ดให้เป็นสัดส่วน  เพราะการดำเนินการบางอย่างเราต้องทำกับโฟลเดอร์ที่บรรจุไฟล์เท่านั้น ซึ่ง แนวทางที่ผู้เขียนจะเลือกใช้ประกอบในหนังสือเล่มนี้คือ
--- Page 21 ---
 บทที 1| การจัดเตรียมเคร้องมือ 21 กำหนดโฟลเดอร์ชื่อ c-lang สำหรับเก็บโค้ดรวมของทุกบทฺ โดยโฟลเดอร์นี้จะสร้างไว้ที่  c:lc-lang  local lsk {c) สอ adine shans อา ต  searh lacal disk i  nama ata monifiad si7a 54a5!' 1252554742 zilg laldar  wiareagent 15/6/2565 21;03 tla fcldar อเอรl! sandbdr 13/5/2503 ]9:45 aic loldar ท.ก 1/11/2564 14 57  tehdar  -lang 17/5/2565 )1:|3  flu faldur  deve orarh ai 11/5/2565 21:37 fla inldar  intel 22/5/2555 8:73 silr ialdar  mimg6: 15/6/2565 19;49 fla inhdar asiising rtem selectd งู เนื่องจากในแต่ละบท จะมีไฟล์ย่อยต ของแต่ละตัวอย่างเป็นจำนวนมาก ดังนั้น เพื่อ ให้ง่ายต่อการเข้าถึงไฟล์เป้าหมาย  เราจะสร้างโฟลเดอร์ย่อยต ซ้อนไว้ใน c:ic-lang  เพื่อจัดเก็บโค้ดของแต่ละบท เช่น โฟลเดอร์ chapter1 สำหรับเก็บโค้ดของบทที่ 4  c:ic-langichapter1| โฟลเดอร์ chapter2 สำหรับเก็บโค้ดของบทที่ 2 จะอยู่ที่ c:ic-langlchapter2| โฟลเดอร์ chapter3 สำหรับเก็บโค้ดของบทที่ 3 จะอยู่ที่ c:ic-langlchapter3| โฟลเดอร์อื่นซ ก็ใช้หลักการเดียวกัน r.an. อ  hoit)s shars .รง  cis  sgarch crlang ปamu มอน mouiliud p- 5ur  hantar1 )7/42555 )5:37 fia falda  chapter2 )7/622505 15:37 fila falder   chapter.3 17/6/2565 15]7 fle folder jiiams ในแต่ละบท จะสร้างไฟล์ตามชือบท.-ลำดับตัวอย่าง เช่น  โค้ดของตัวอย่าง 1-1 จะอยู่ที่ไฟล์ c:ic-langlchapter1 lexample1-1.c  โค้ดของตัวอย่าง 1-2  c:ic-langichapter1 lexample1-2.c  โค้ดของตัวอย่าง 2-1 c:ic-langichapter2 lexample2 -1.c  โค้ดของตัวอย่าง 3-5  c:ic-lang lchapter3 lexample3-5.c  โค้ดของตัวอย่างอื่นซ ก็ใช้หลักการเดียวกัน t0 file จะอยู่ที่ aiang จะอยู่ที่ไฟล์ จะอยู่ที่ไฟล์  จะอยู่ทีไฟล์
--- Page 22 ---
22 การเขียนโปรแกรมกาษา c ขั้นพืนฐาน  thaplur1 สไา auma shars  ciclangtchapteri  search chapter1 wam=  date monifed tn= sita  example1-i |716/156515:43 cnurte iile ka:  examale1-2 17/5/2565 1543  csource fie ad axamplel-3 !7/6!256515:43 sวoure file kb aitans หลังจากที่เราทราบหลักการโดยสังเขปแล้ว ต่อไปเราจะลองทดสอบการใช้งาน โดยในขั้น ตอนแรก ถ้าเรายังไม่มีโฟลเดอร์รวม ให้สร้างขึ้นมาก่อน ดังนี้ 1. เปิด file explorer ของระบบ windows แล้วไปที่ c:i 2 สร้างโฟลเดอร์ใหม่ชือ c-lang  ( เช่น คลิกขวา แล้วเลือก new > folder) 3. เปิดเข้าไบในโฟลเดอร์ c-lang แล้วสร้างโฟลเดอร์ชื่อ chapter1 สำหรับเก็บไฟล์ของ  บทที่ 1 (ขั้นตอนนี้ อาจไปสร้างใน vs code ก็ได้) e-lang fle fiae share laa  c;{c-lng  seufch clang nare  nate mcdifed type sze  chap:ar1 17|62555 11;13 ila aidar ftam am salactad การสร้างไฟล์และทดสอบโค้ดภาษา c หลังจากที่เราสร้างโฟลเดอร์สำหรับจัดเก็บโค้ดเอาไว้แล้ว ดังหัวข้อที่ผ่านมา ต่อไปเราจะ สร้างไฟล์ภาษา c เพื่อทดสอบการทำงาน ดังนี้ 1 เปิดเข้าสู่ vs code 2 file >  open folder หรือเลือกจากลิงก์ open  folder บนหน้าจอ  get  started  ก็ได้ จากนั้นเลือกโฟลเดอร์ของบทที่ 4 ตามที่เราได้สร้างเอาไว้ นั่นคือ c:ic-langichapter1  คลิกเมนู
--- Page 23 ---
 บทที 1| การจัดเตรียมเครืองมือ 23 3  คลิกที่ไอคอน new file ดังภาพ แล้วกำหนด file edit  selection vew cd aun ชื่อไฟล์ โดยให้มีส่วนขยายหรือนามสกุลของ  axpipe- ไฟล์เป็น .c. เท่านั้น (หมายถึงไฟล์ภาษา c) เช่น  chapter1 e q อ c.   example1-1.c  ในที่นี้กำหนดชื่อเป็น example1-1.c 2 4. ให้ลองพิมพ์ โค้ดง่ายต ลงไป ดังนี้ (รายละเอียด ใ ของโค้ดจะกล่าวถึงในบทต่อตฺไป) fle edil  selection  view' co run terminal exampale1 tง  thmpleri  exptoren c  example1-1.s   chaptur1 c example1-1,d> c example1 1c  =include  astdio.h> p. void main() { b puts  "hello lor1d" ); 5. หลังการเขียนหรือแก้ไขโค้ด ต้องบันทึกการเปลี่ยนแปลงทุกครั้ง เช่น เลือกเมนู file  save หรือกด <ctr| + $> 6. รันทดสอบโค้ดที่เขียนด้วยวิธีใดวิธีหนึ่งคือ วิธีที่ 1  คลิกที่ปุ่มไอคอนหัวลูกศรที่อยู่บริเวณมุมขวาบนของพื้นที่เขียนโค้ด วิธีที่ 2  คลิกขวาบริเวณพื้นที่เขียนโค้ด แล้วเลือกเมนู run code (เมนูรายการนี้ จะปรากฏเฉพาะกรณีทีเราติดตังส่วนเสริม code runner เอาไว้แล้วเท่านัน) หรือ กด <alt +ctrl + n> วัธีที 2: วัธีที 1: คลิกขวา แล้วเลือก run code คลิกที่ไอคอนหัวลูกศร tile adi  selection go run  wamplei ls- chapter'  visual studk_ d8  eune c  example rin code  cr+at+n  hprea1 c cxamp! go to defnition fi2 c eample1-1t aด to declaration go to type datn tion p. go to ralerences  shiit+f12  peak b find all raterences  shift+alt+f12  helo miey
--- Page 24 ---
24 การเขียนโปรแกรมกาษา c ขั้นพืนฐาน 7 เมือสังรันตามที่กล่าวมา ผลลัพธ์ที้ได้จะถูกนำมาแสดงบน terminal  (จะปรากฏโดย  อัตโนมัติ) ดังภาพ file et  salection mrea ตง  fun example1 te mhaptan1 ทรมป siudi+ dร axnionen  evample1-1c x  chapter1 exhmpla1 he  uscade atamplel-ms  #antiud=  astaio.h>  axamplel-1 exe ใ vaid  nainu) outs( "hallo  horld"); b nalems ouilt ierin junfen  cudb 7 c:e lang chapter1cd "c: !<-lang chapcer1|" 23  3c  example: 1.s -0 anp1e1-1 3& s is-  : ichapter1|" examp1e1-1  hallo worla c:le langichapter1 อย่างไรก็ตาม เนื่องจากการรันโค้ดภาษา c จะได้ไฟล์  .exe เพิ่มขึ้นมาอีกไฟล์ ซึ่งโปรแกรม  ประเภท anti virus อาจมองว่าไม่ปลอดภัย และอาจบล็อกการรันก็เป็นได้ ซึ่งเราอาจแก้ปัญหา ด้วยวิธีใดวิธีหนึ่งคือ วิธีที่ 1  อาจหยุดการทำงานของโปรแกรม  anti virus  ชั่วคราวในระหว่างที่กำลัง  ทดสอบการรันภาษา c แต่วิธีนี้อาจไม่ปลอดภัย หากในขณะนั้นเราใช้อินเทอร์เน็ต  ควบคู่กันไปด้วย วิธีที่ 2  อาจสร้าง exception ภายในโปรแกรม anti virus เพื่อให้มันยกเว้นการ  ตรวจสอบตำแหน่งโฟลเดอร์ที่เราจัดเก็บโค้ด เช่น ในที่นี้คือ c:ic-lang ดังในภาพถัดไป เป็นการสร้าง exception บนโปรแกรม avast  (เลือกไอคอน menu >  settings >  exceptions > add exception) าา  close sepch  ปรer intonace  exceptions  caneral  undale aวาe  specilic files. fclders., or websites to exclude from all of our shields end sruns. atr that ncbatnn ard tenc ded aj domaln. solfyodand mmmvanoc com nods en  notiticauors dealethelesceplon lorall ol int ahoo.cdml  andlatcerton  add aduced eicgpon  ercrptons patectdn bted malonad rile folder adds  cusers m appdata roaming npminoce_moduleslexpo-  clhhode modlles udnbinatles mindolaacb lacb.exc eoins paannd tall exe  parowdnce pal oral pod c:wuserswy anaconda3 python exe ctc langl troublesncding ax  lang
--- Page 25 ---
 บทที 1| การจัดเตรียมเคร้องมือ 25 หากเราต้องการสร้างไฟล์สำหรับตัวอย่างต่อตไป ก็ทำเหมือนเดิม นั่นคือ เปิดเข้าสู่ vs ู code แล้วเข้าสู่โฟลเดอร์ c:ic-langlchapterx ที่ต้องการจัดเก็บไฟล์นั้น แล้วกึคลิกไอคอน new file จากนั้นก็กำหนดชื่อที่มีส่วนขยายเป็น .c ตามเดิม ฺซึ่งเราจะสร้างเพิ่มกี่ไฟล์ก็ได้ file edit  selection ew go  expmapen  chapter1 e d c example1- ic na fla c evample1-2.c ใ d exampin1 หลังจากทีเราเสร็จสินการใช้งาน อาจปิดโฟลเดอร์นัน  เช่น เลือกที่เมนู file >  close folder  แต่กรณีนี้ หากจะใช้งานเมื่อเข้าสู่ vs code ครั้งต่อไป ต้องเปิดโฟลเดอร์ก่อน ตามหลัก การเดิมทังหมด กาธไช้เครื่องมือพื้นฐานของ vs code ก่อนที่เราจะเข้าสู่ขันตอนการเขียนโค้ดภาษา c. อย่าง[เต็มรูปแบบในบทต่อไป ก็ควรรู้จัก กับการใช้เครื่องมือพื้นฐานบางส่วนของ vs code เพิ่มเติม เผื่อจำเป็นต้องใช้งานในบางโอกาส โดยสิ่งที่เราควรรู้จักในเบื้องต้นมีดังนี้ หิน้าจอเธิมต้น (get started) ตามปกติ เมื่อเราเปิดเข้าสู่ vs code จะปรากฏหน้าจอ get started เป็นอันดับแรก ซึ่ง ลักษณะที่สำคัญเกี่ยวกับหน้าจอนี้คือ อาจมีการแจ้งข้อมูลข่าวสารที่น่าสนใจเกี่ยวกับ vs code มีลิงก์สำหรับให้เราคลิกเพื่อเปิดไฟล์หรือโฟลเดอร์เป้าหมายที่ต้องการได้อีกหนึ่งวิธี นอกเหนือจากการเลือกที่เมนู มีลิงก์ที่แสดงประวัติการเปิดโฟลเดอร์ที่เราเข้าสู่ vs code ในครั้งก่อนซ ชึ่งหากมี โฟลเดอร์เป้าหมายที่เราต้องการรวมอยู่ด้วย ภก็สามารถคลิกเปิดจากตรงนี้ได้ทันที a.e
--- Page 26 ---
26 การเขียนโปรแกรมกาษา c ขั้นพืนฐาน sat sturted ปิดหน้าจอ get storted start walkthroughs  new file.  ลิงก์สำหรัน get started with vs code open tile,, เปืดไฟล์ หรือ d scovur the best customizations  open folder โฟลเดอร์ to make vs code yours.  recenit  learn the fundamentals pvthon รา rignt into vs coue and .an oveniew cf the must have  develgperthai ต ประวัติการเปิด  features.  baatstran5  abvn โฟลเดอร์สามารถ app7-1 zeact เปิดจากตรงนี้ได้เลย  chap1d cbynwue  boost your productivity  mnse.  get started with  python  undaled  development ให้แสดงหน้าจอ get started wwelcome) เมื่อเริ่มต้น หร็อเปิดเ้าสู่vs code หรือไม่ show welcome page on startup หากเราต้องการปิดหน้าจอนี้ กึคลิกปุ่ม ix ที่แท็บด้านบน ฺหรือหากไม่ต้องการให้ปรากฏ หน้าจอ get started ต่อไปอีก  ก็ให้เราเอาเครื่องหมายถูกตรงตัวเลือก show welcome page on  startup ที่บริเวณขอบด้านล่างออก หรือหลังจากปิดไปแล้ว หากเราต้องการให้หน้าจอ get  stated กลับมาแสดงอีกครั้ง  ก็ให้เลือกที่เมนู help > get started การเลือกรูปแบบสี (theme) ตามปกติ vs code จะเลือกธีม  (theme) เป็นสีดำ (dark) เอาไว้ล่วงหน้า ซึ่งหากเรา ชอบแบบนี้กไม่จำเป็นต้องปรับเปลี่ยน แต่ถ้าเราต้องการสีสันในรูปแบบอื่น ก็มีตัวเลือกอยู่จำนวน หนึ่ง โดยใช้ขั้นตอนดังต่อไปนี้ 1 ที่มุมล่างขวาของโปรแกรม vs code ให้คลิกที่ไอคอน manage (รูปเฟือง) 2 เลือกที่เมนู  color theme 3 จากนั้นจะปรากฏรายชื่อสีให้เลือก ถ้าเรายังไม่ทราบว่าแต่ละสีมีลักษณะเป็นยังไง  ก็  อาจลองเลือกดูก่อนก็ได้ ถ้าไม่ถูกใจภ็ค่อยเลือกสีใหม่ แบบที่จะใช้ประกอบ ในหนังสือเล่มนี้ เผู้เขียนเลือกธีมสีแบบ light (visual studio)  jumn iiget  สำหรับรูปเ
--- Page 27 ---
 บทที 1| การจัดเตรียมเครืองมือ 27 fle edit  selection vie. .go  runl  misual s.udic ix select colar theme qup/down kes to preiew] light visual studio] lightthemes light.- ldelault iight)  เลือกสี  quiat light ช  solarized light ตามต้องการ ab'ss  dark wisual studio)  user snippets 2 dark+  default dark.)  kiinbie dark  coloriheme cul-kct-l เลือกเมนู color theme b  monokar fle izon thamne  manol ai dimmed  product icon thamne turn on settings sync .  manage workspace trust  check ioi  undates  คลิกไอคอน manoge oao การปรับเปลียนฟอนต์  ฟอนต์ (font: ในที่นี้คือตัวอักษรที่ใช้เขียนโค้ดและแสดงผลลัพธ์) ที่ vs code กำหนด เอาไว้ล่วงหน้า  แม้จะเป็นรูปแบบมาตรฐานที่นิยมใช้งานก้นทั่วไป แต่หากต้องการใช้ฟอนต์ที่เรา  ก็สามารถเปลี่ยนแปลงได้ด้วยขั้นตอนดังต่อไปนี้ 1. ที่มุมล่างขวาของโปรแกรม vs code ให้คลิกที้ไอคอน manage ( รูปเฟือง) 2. เลือกที่เมนู settings 3. คลิกแท็บ text editor 4.  คลิกแท็ก font 5.  กำหนดชื่อฟอนต์ลงในช่อง font family ซึ่งตามปกติ จะมีฟอนต์เดิมที่ vs code  กำหนดไว้ให้ล่วงหน้า หากเราต้องการเปลี่ยนไปใช้ชนิดอื่น ควรเพิ่มชื่อฟอนต์ไว้ข้างหน้า ฟอนต์เดิม เชื่อที่อยู่ก่อนจะถูกพิจารณาก่อน และไม่แนะนำให้ลบชื่อฟอนต์เดิมออก) โดย  คั่นด้วยเครื่องหมาย และถ้าชื่อฟอนต์ชนิดนั้นมีช่องว่าง ให้เขียนไว้ในเครื่องหมาย  ซึ่งชื่อฟอนต์ที่ระบุต้องถูกติดตั้งเอาไว้ในเครื่องนั้นอยู่ก่อนแล้ว (การติดตั้งฟอนต์ ให้  คัดลอกไฟล์ของฟอนต์ไปไว้ที่ c:wwindows|fonts แล้วเริ่มโปรแกรมที่จะใช้ฟอนต์ใหม่) 6. ถ้าต้องการกำหนดขนาด ก็ระบุตัวเลขลงในช่อง font size และเมือปิดหน้าจอ setting  ฟอนต์ที่ตั้งค่าเอาไว้ก็จะมีผลทันที ถูกใจ
--- Page 28 ---
28 การเขียนโปรแกรมกาษา c ขั้นพืนฐาน  cammand palette cul shitt-p b 2  sertings ct+ เล็อกเมนู settings online services settings afantian cirl shit+x turan settings sine  vanage work space trust  check ldr upoaias. คลิกไอคอม monoge ooao  commnly used font text edrtor คลิก text editor  cursoi font family กำเนดชือฟอนด์เผิมสมไป find  conton thaiont anฟ (ควรกำงนดไว้ข้างหน้าเอนต์เดิม)  font คลิก font fomatขางู souit codd  consolas coujicr new, monospace dift edito  minimap  font ligatures  suggestians  conigures jont ligatures or jar fgatures. can dg cithera boolcan to mnaala disable liga rile5 css font feature setrings' pronert  wnikhanch faiปns ttngยย  window features  font size  app| ication  cantrols the font size in pixelss  security  etansions กาเนดขมาดเอนต์ นอกจากนี้ ยังมีเทคนิคเพิ่มเติมอีกอย่างคือ การย่อหรือขยาย  (zoom) ขนาดของฟอนต์ ในโปรแกรม vs code ให้ใหญ่ขึ้นหรือเล็กลง ฺซึ่งกรณีนี้ จะมีผลกับทั้งโค้ด เมนฺู และข้อความอื่น1  ทั้งหมดบน vs code โดยใช้วิธีการง่ายต คือ หากต้องการขยายขนาดเพิ่มขึ้น (zoom in: คล้ายกับการเข้าไปมองใกล้ต ซึ่งจะเห็น  ขนาดที่ใหญ่ขึ้น) ให้กดคีย์บอร์ดปุ่ม <ctrl => หรือเลือกเมนู view >  appearance > zoom in ซึ่งหากทำซ้ำเช่นนี้อีก ขนาดของฟอนต์จะเพิ่มขึ้น 4 ระดับ ไปเรื่อยๆ หากต้องการลดขนาดให้เล็กลง (zoom out: คล้ายกับการออกมามองไกลต ฺซึ่งเราจะ เห็นขนาดที่เล็กลง) ให้กดคีย์บอร์ดปุม <ctrl -> หรือเลือกเมนู view >  appearance >  zoom out ซึ่งหากทำซ้ำเช่นนี้อีก ขนาดของฟอนต์ จะลดลง 4 ระดับ ไปเรื่อยๆ แนวทางการติดตั้งส่วนเสริมเพิ่มเติม การเขียนโค้ดในบางกรณี  เราอาจต้องใช้ส่วนเสริม  (extension)  สำหรับการทำงาน ร่วม กับภาษา นั้นซ ซึ่งในหัวข้อที่ผ่านมา เราก็ได้ติดตั้งส่วนของภาษา cic++ ไปแล้ว จึงขอกล่าวถึง  อีกครั้งหนึ่ง เนื่องจากส่วนเสริมของ vs code ยังมีอีกเป็นจำนวนมาก ซึ่งเราสามารถตรวจสอบ  และนำส่วนเสริมอื่นตมาใช้งานเพิ่มเติมได้ดังแนวทางต่อไปนี้ p0)
--- Page 29 ---
 บทที 1| การจัดเตรียมเคร้องมือ 29 1. ในขณะนั้น ต้องเชื่อมต่อกับอินเทอร์เน็ต แล้วคลิกที่ไอคอน extensions ที่ขอบด้าน ช้าย (ดูภาพถัดไป) หรือเลือกที่เมนู view >  extensions 2. ใส่คีย์เวิร์ดลงไป หลังจากนั้นจะปรากฏรายชื่อส่วนขยายที่อาจเกี่ยวข้องกับคีย์เวิร์ด ดังกล่าว 3. ถ้าเราต้องการติดตั้งส่วนเสริมใด ก็คลิกปุ่ม install บนรายการนั้น หรือหากต้องการดู รายละเอียดเพิ่มเติม เกี่ยวกับส่วนเสริมใด ก็คลิกที่รายการดังกล่าว ดังภาพ d. 3)ย45*m.. extesion c/++ tunner x 2 cic++ runner พะง.6 cicaa eatension pack  ponunr axtensons mor-+ trannec! a 1,323|322 ช fzrosctt cic++  compla run and  dcbug single ar cic+- com .. t 2w^ เน.  comoie s. run singls ds+  danielpinoan5 instal oc++ runner @นม บร details  faature contributions  changelog pepend  compila unand frannea inรtal. cc+ ต  cammletion and dagnasuc vscode cic++ runner การเอาmโมม เกรม 4 ถ้าค้นหาส่วนเสริมใดที่ถูกติดตั้งเอาไว้แล้ว จะมีรูปไอคอน manage ที่มุมล่างขวาของ ะู 2ู รายการนั้น ทั้งนี้หากเราต้องการลบส่วนขยายนั้นทิ้งไป จากนั้นทำดังนี้ (1) คลิกที่ไอคอน manage ที่ส่วนเสริมนั้น (รูปเฟือง) (2) เมื่อปรากฏเมนู ให้คลิกที่ uninstall มี iมวทปร:า .= atension.: un cica+ et intefisense  p mupsoit c/c cic-+ themes b uithemes for cic++ exn . icosatt โr_๒'e 1/&/?9e ac-- extonsion pad  popula  xtensons forc diadle micro afl .า dic-+ com... ๓า  compile & run sirglg dt  switch jo fre nalaase version  aanispintonn5  install another varsiona act+ runner าร  uninรtal 2  comp la; rur and deb  ranncr9-  couy  debug.  dang...  debugg
--- Page 30 ---
30 การเขียนโปรแกรมกาษา c ขั้นพืนฐาน กาธนำโค้ดของหินังสือมาใช้งาน  สำหรับโค้ดของหนังสือเล่มนี้ |ผู้อ่านสามารถดาวน์โหลดได้ที่ https: /www. developerthai  com หลังจากนั้นก็ให้ขยายไฟล์ดังกล่าว ซึ่งจะได้โฟลเดอร์ที่ชื่อ c-lang ก็ให้นำโฟลเดอร์ดังกล่าว ะู ไปเก็บไว้ที่ c:l ดังนั้น ตำแหน่งของมันก็จะเป็น c:ic-lang โดยภายในโฟลเดอร์ c-lang จะประกอบ ด้วยโฟลเดอร์ย่อยต ของบทต่างๆ เช่น chapter1  chapter2, คังหลักการทีได้กล่าวมาแล้ว เมื่อต้องการเปิดดูโค้ด  และ/หรือ  รันทดสอบ เก็ให้เข้าสู่ vs code  แล้วเปิดโฟลเดอร์ c:ic-lang แล้วโฟลเดอร์ของทุกบทก็จะถูกเปิดพร้อมกันทั้งหมด หรือจะเลือกเปิดเฉพาะโฟลเดอร์ ของบทที่ต้องการ เช่น c:ic-langlchapter2 ซึ่งจะเข้าถึงไฟล์ได้ง่ายขึ้น หลังจากนั้นกึคลิกชื่อไฟล์ ของตัวอย่างที่ต้องการได้เลย  aplcrer c  example2 3.c x ix chaprer2 สอ c eample2-3 c7 yscode  zinclua2 astdio.n> c   example2- is vaid nain() { c example2 2.c  p. printf("123"  example2 3.c printf( c examp!e2 a.c printf(" 456"); printf printf("579");  สิ่งที่เราได้เรียนรู้ไนบทนี้ เป็นการจัดเตรียมเครื่องมือก่อนจะเข้าสู่ขั้นตอนการเขียนโค้ด ภาษา c อย่างแท้จริงในบทต่อตไป ชึ่งหากเรามี เครื่องมือที่ครบถ้วนและรู้จักวิธีการใช้งานที่ดี พอในระดับหนึ่งแล้ว ก็จะมีส่วนช่วยให้เราศึกษาเรียนรู้ได้รวดเร็วยิ่งขึ้นด้วย
--- Page 31 ---
2 การเขียนโค้ดภาษา c ในเบื้องต้น าษา c มีองค์ประกอบและข้อกำหนดที่สำคัญหลายอย่างชึ่งเราควรรู้จักในเบื้องต้น โดย ภลึะงที่จะกล่าวดึงโะททนี่ เช่น คำสงวน  คำสั่งที่จำเป็นสำหรับการเขียนโค้ดในเบื้องต้น การแสดงผล การกำหนดบล็อกและคำอธิบาย"โค้ด  เป็นต้น ซึ่งสิ่งเหล่านี้ล้วนเป็นพื้นฐานสำคัญ ของภาษา c ที่เราต้องใช้งานกันไปตลอด ประวัติโดยย่อของภาษา c ภาษา c. ถูกสร้างขึ้นเมื่อประมาณปี ค.ศ. 1972 โดย dennis  ritchie ที่ห้องปฏิบัติการ ของ bell  labs  (หรือ at & t ในปัจจุบัน) ซึ่งวัตถุประสงค์เริ่มแรกก็เพื่อใช้ในระบบ  unix อย่างไรก็ตาม dennis  ritchie ไม่ใช่|ผู้บุกเบิกในการสร้างภาษา c มาตั้งแต่เริ่มต้น  แต่ภาษานี้  ได้จากการพัฒนาเพิ่มเติมต่อจากภาษาคอมพิวเตอร์อื่น" ที่มือยู่ก่อนแล้วในขณะนั้น และหลังจาก ยุคของ dennis ritchie ก็มีหลายองค์กรทีได้นำภาษา cมาพัฒนาเพิ่มเติมเรื่อยมาซึงเราสามารถ สรุปวิวัฒนาการที่เกี่ยวเนื่องกับภาษา c โดยสังเขปตั้งแต่อดีตจนถึงปัจจุบัน ได้ดังนี้ 1960: ภาษา algo สร้างโดยองค์กรระหว่างประเทศ (international committee) ไม่มีข้อกำหนดการใช้งานที่ชัดเจน เนื่องจากมีลักษณะที่เป็นนามธรรม (abstract)  มากเกินไป 1963: ภาษา cpl (combine programming language) สร้างขึ้นที่มหาวิทยาลัยเคมบริดจ์ (cambridge university) มีลักษณะที่เจาะจงมากเกินไป จึงไม่สะดวกต่อการใช้งานจริง 
--- Page 32 ---
32 การเขียนโปรแกรมกาษา c ขั้นพืนฐาน 1967: ภาษา bcpl (basic combine programming language) สร้างโดย martin richards ที่มหาวิทยาลัยเคมบริดจ์ ยังมีลักษณะที่เจาะจงเหมือนเดิม จึงเหมาะกับการใช้งานเฉพาะอย่าง เพราะขาด ความยืดหยุ่นต่อการใช้งานทั่วตไป 1970: ภาษา b. สร้างโดย ken thompson ที่ห้องปฏิบัติการ bell labs (at &t) สร้างขึ้นจากพื้นฐานของภาษา bcpl  (จึงเป็นที่มาของชื่อภาษา b) โดยแก้ไข ข้อบกพร่องหลายอย่างและทำให้ภาษามีขนาดเล็กลง เช่น การลดจำนวนคีย์เวิร์ด แต่ก็ยังเหมาะกับการแก้ปัญหาที่มีลักษณะเฉพาะเจาะจง1เหมือนเดิม 1972: ภาษา c. สร้างโดย dennis ritchie สร้างขึ้นจากพื้นฐานของภาษา bcpl และภาษา b ร่วมกัน จึงกลายเป็นที่มาของ ชื่อภาษา c ว่าพัฒนาต่อจากภาษาในตระกูล b ภาษา c มีวิวัฒนาการต่อเนื่องมาหลายเวอร์ชัน ซึ่งสามารถสรุปได้ดังนี้ 1972: กำเนิดภาษา c (หรือเรียกว่า c72) 1978: k&r c (หรือเรียกว่า c78) โดย ik มาจากชื่อของ ken thompson และ r มาจากชือของ dennis ritchie 1989: ansi c (หรือเรียกว่า c89) 1990: |$0 c (c90) 1999: c99 2011: c11 2017: c17 2023:  c23 (เป็นเพียงการคาดการณ์ในขณะที่เขียนหนังสือเล่มนี้ แต่ยังไม่มี การประกาศใช้งานจริง) ข้อดีและข้อเสียของภาษา c. ถึงแม้ภาษา c จะถูกสร้างมานานมากแล้ว รวมถึงเป็นต้นแบบให้กับกับภาษา อื่นต อีกหลาย ภาษา หากนับจากอดีตถึงปัจจุบัน ก็ถือว่าเป็นภาษาทีประสบความสำเร็จและมีอิทธิพลต่อเทคโนโลยี ด้านไอทีมากที่สุดอีกภาษาหนึ่ง และมีกลุ่มนักพัฒนาจำนวนมากจากทั่วโลกที่ยังคงเลือกใช้ภาษา c
--- Page 33 ---
 บทที 2 | การเขียนโค้ดภาษา c ในเบ้องต้น 33 กันต่อไป ถึงแม้จะมีภาษาอืนต ที่ถูกพัฒนาขึนมาภายหลังและพยายามจะมาทดแทนภาษานีก็ตาม  แต่ภาษา c ก็ยังเป็น1 ใน 5 ของภาษาคอมพิวเตอร์ที่ผู้ใช้งานมากที่สุดในโลกไม่เคยเปลี่ยนแปลง ถึงอย่างไรก็ตาม ฺภาษา c ก็มีข้อดีและข้อเสียเช่นเดียวกับภาษา อืนต ซึ่งเราสามารถสรุปได้ดังนี้ ข้อดีบางส่วนของภาษา c. มีรูปแบบไวยากรณ์การเขียนโค้ดที่ไม่ยากและเข้าใจได้ง่าย สามารถเรียนรู้ได้ในระยะเวลาอันรวดเร็ว จึงเหมาะที่จะศึกษาเป็นภาษาเริ่มแรก ก่อน ก้าวไปสู่ภาษา อื่นต ต่อไป เช่น c++, c# เป็นต้น ทำงานได้เร็วกว่าเมื่อเทียบกับภาษา อื่นๆ ถือเป็นจุดเด่นที่สำคัญยิ่งของภาษานี้ มีไลบรารีให้เลือกใช้จำนวนมากและครอบคลุมการทำงานที่สำคัญทั้งหมด รองรับการใช้งานในทุกระบบ เนื่องจากภาษา c เป็นพื้นฐานที่ถูกใช้ในการพัฒนาระบบ ปฏิบัติการทั้งหมดไม่ว่าจะเป็น  unix/ linux.,  windows., mac, ios,  android., ดังนั้น  จึงสามารถนำโค้ดที่เขียนไปใช้กับทุกระบบ ตามคำกล่าวที่ว่า write once  compile everywhere ข้อเสียบางส่วนของภาษา c. ภาษา c เป็นภาษาแบบ procedural (function) ไมใช่ภาษาแบบ oop (object ori- ented programming)  จึงอาจเกิดความยุ่งยากต่อการนำไปสร้างเป็นแอปพลิเคชันที่ชับ ซ้อนมากขึ้น เมื่อเทียบกับภาษาที่เป็น oop เช่น c++, c#, java., objective-c เป็นต้น ไม่มีระบบจัดการปัญหา garbage collection หรือส่วนของหน่วยความจำที่ไม่จำเป็น ต้องใช้งานต่อไปอีก อาจทำให้เกิดปัญหาหน่วยความจำเต็ม หรือมีพื้นที่ว่างเหลือไม่พอ ไม่มีวิธีการป้องกันและจัดการข้อผิดพลาด  exception  handling  เหมือนที่มี  ในภาษา อื่นต ฺจึงอาจทำให้เกิดข้อผิดพลาดในระหว่างรันได้ง่าย ภาษา c ยังขาดเทคนิคที่จะช่วยให้การเขียนโค้ดนั้นง่ายขึ้น บางอย่างก็ใช้วิธีการที่ ล้าสมัย ฺถ้าเทียบกับภาษาใหม่ต  ที่สร้างขึ้นในภายหลัง ซึ่งส่วนใหญ่จะมีแนวคิดและ  หลักการที่ทันสมัยมากกว่า ทั้งนี้ก็อาจเนื่องมาจากภาษา c. นน ถูกสร้างมานานมาก ะู แล้ว และเป็นรากฐานของภาษา อื่นต อีกหลายภาษา รวมถึงมีหลายมาตรฐาน ดังนั้น การเปลี่ยนแปลงกฎเกณฑ์ต่างๆ จึงทำได้ยาก ในแบบ
--- Page 34 ---
34 การเขียนโปรแกรมกาษา c ขั้นพืนฐาน คำสงวนของภาษา c. คำสงวน (reserved words) หรือคีย์เวิร์ด (keywords) เป็นคำสำหรับใช้เป็นคำสั่งเพื่อ  ควบคุมหรือกำหนดวิธีการทำงานในภาษา c ซึ่งเราจะนำคำเหล่านี้ไปตั้งเป็นชื่อตัวแปร หรือฟังก์ชัน ไม่ได้ โดยคำทีถูกใช้เป็นคำสงวนในภาษา c คือ auto do  signed unsigned break  double it  sizeof  void case else int static  volatile  char enum long  struct  while  const  extern  register switch  inline (c99+)  continue  float return  typedef restrict (c99+)  default for short union bool (c99+) นอกจากนี้ ยังมีคำสงวนอีกบางส่วนที่ถูกเพิ่มเติมเข้ามาในเวอร์ชันหลังๆ แต่เรามักไม่ค่อย  ได้ใช้งานสำหรับการเขียนโปรแกรมทั่วซ ไป กันบ่อยนัก จึงไม่ขอนำมากล่าวถึง โดยวัตถุประสงค์ พอสังเขปสำหรับคำสงวนบางส่วน มีดังนี้  (รายละเอียดที่ชัดเจนของคำเหล่านี้  เราจะได้เรียนรู้  ในภายหลัง) int, float, char, double, long.,  bool: ใช้ในการกำหนดชนิดข้อมูลของตัวแปร if., else, switch, case, default: ใช้ในการกำหนดเงื่อนไขเพื่อตัดสินใจ หรือควบคุม โครงสร้างการทำงานของโปรแกรมนั่นเอง  while, do: รูปแบบการวนลูปเพื่อการทำซ้ำ break: ใช้เพื่อหยุดการวนรอบของลูป หรือออกจากเงื่อนไขแบบ switch case void: การส่งค่าเข้าและออกจากฟังก์ชัน  กำหนดตำแหน่งที่จะข้ามไปทำงาน auto, signed, const, extern., register, unsigned, volatile: ใช้ร่วมกับการประกาศ ตัวแปรสำหรับกรณีเฉพาะ return: สำหรับการส่งค่ากลับออกจากฟังก์ชัน หรือหยุดการทำงานของฟังก์ชัน  continue.: ให้วนลูปถัดไปทันที โดยไม่ทำคำสั่งที่เหลือภายในลูป  goto for.,  goto
--- Page 35 ---
 บทที 2 | การเขียนโค้ดภาษา c ในเบ้องต้น 35 enum : สร้างชุดหรือกลุ่มของค่าคงที่ (set of constants)  sizeof: สำหรับการตรวจสอบขนาด struct., typedef: สร้างชนิดให้กับกลุ่มข้อมูลแบบโครงสร้าง (structures) union: กำหนดกลุ่มตัวแปรที่จะใช้ตำแหน่งและพื้นที่จัดเก็บข้อมูลบนหน่วยความจำ  ร่วมกัน  ทบทวนการสร้างไฟล์ภาษา c ในบทที่แล้ว เราได้ทราบแนวทางการสร้างและทดสอบไฟล์ภาษา c กันไปแล้ว โดยในบทนี้ ก็มีหลายกรณีที่เราต้องเขียนโค้ดตัวอย่าง  เพื่อทดสอบการใช้งานควบคู่กันไป  ทั้งนี้  เราจำเป็น ต้องแยกแต่ละตัวอย่างไว้คนละไฟล์ จึงขอนำวิธีการสร้างไฟล์ภาษา c ที่เคยกล่าวไว้ในบทที่แล้ว มากล่าวทบทวนอีกครั้งหนึ่ง ดังนี้  สำหรับตัวอย่างในบทที่ 2 เราจะเก็บไฟล์ทั้งหมดเอาไว้ที่ c:ic-langichapter2 ดังนั้น เราจำเป็นต้องสร้างโฟลเดอร์ chapter2 ช้อนไว้ในโฟลเดอร์ c-lang ใน vs code ให้เปิดโฟลเดอร์ c:ic-langlchapter2 ที่ได้สร้างเอาไว้ เมื่อต้องการสร้างไฟล์ตัวอย่างสำหรับบทนี้ ก็ file  ldit  selection  view go  คลิกที่ไอคอน  new  file  แล้วกำหนด:ชื่อไฟล์  emone" โดยให้มีส่วนขยายเป็น .c เท่านั้น  ซึ่งในบทนี้   chapter2 - 0จ ะู c jexample2-3.c  จะตั้งชื่อตัวอย่างต่างๆ เป็น  example2-1.c, enimple?n  example2-2.c เป็นเช่นนี้ไปเรื่อยฯ p erampie.'-.! t  องค์ประกอบของการเขียนโค้ดภาษา c ในเบื้องต้น ไม่ว่าจะเขียนโค้ดเพื่อวัตถุประสงค์ใดก็ตาม ฺเราจำเป็นต้องใช้ข้อกำหนดพื้นฐานของภาษา  เหมือนซ กัน  ดังนัน ก่อนที่เราจะเข้าสู่ขั้นตอนการเขียนโค้ดที่ซับซ้อนมากขึ้นในลำดับต่อตไป  ก็ควรรู้จักกับองค์ประกอบของการเขียนโค้ดในเบื้องต้นเอาไว้ล่วงหน้า  เพราะมันคือสิ่งจำเป็นที่ เราต้องนำไปใช้งานอยู่ตลอด โดยจะแยกแต่ละประเด็นที่น่าสนใจออกเป็นหัวข้อต่างๆ ดังต่อไปนี้  คำสัง #include คำสั่ง include ในภาษา c จะใช้สำหรับการอ้างถึงไฟล์ภายนอกที่จัดเก็บชุดคำสั่งพิเศษ ที่ ต้องนำเข้ามาใช้งานร่วมกับโค้ดในไฟล์นั้นดังแนวทางในภาพ
--- Page 36 ---
36 การเขียนโปรแกรมกาษา c ขั้นพืนฐาน = include sstdio.n>  stdio .h # include  znatn.n> #include <st^ing .h> matn.h void mainu) string. h ทั้งนี้ สาเหตุที่เราต้องอ้างถึงชุดคำสั่งจากไฟล์ภายนอกก็เนื่องจากตามปกตินั้น ชุดคำสั่ง ดังกล่าว ไมใช่พื้นฐานที่จำเป็นสำหรับการทำงานทั่วซไปของ์ภาษา c  แต่อาจใช้ในบางกรณี ะ ดังนั้น เมื่อใดที่จำเป็นต้องใช้ ก็จะอ้างถึงด้วยคำสั่ง include ในรูปแบบดังนี้ # include .<ชื่อไฟล์ .h> หรือ # include ชื่อไฟล์ .h" กลุ่ม ไฟล์ที่จัดเก็บชุดคำสั่งพิเศษดังกล่าว เราเรียกว่า เฮดเดอร์ (header) ด้วยเหตุนี้ จึง มีส่วนขยายเป็น .h. ทั้งหมด โดยไฟล์เหล่านี้ เราจะได้เรียนรู้เพิ่มเติมต่อไปเรื่อยตแต่เฮดเดอร์ที่ เราจะได้ใช้งานอยู่บ่อยๆ ก็คือ stdio.h ซึ่งจากที่ผ่านมาจะเห็นว่า เราเขียนโค้ดบรรทัดแรกเป็น # include <stdio n> include  เป็นคำสงวนของภาษา c. ที่ใช้อ้างถึงไฟล์ภายนอกดังที่กล่าวมาแล้ว  โดย  ในกรณีนี้ต้องเขียนเครื่องหมาย # กำกับไว้ข้างหน้า เพื่อให้แตกต่างจากคำสั่งทั่วไป stdio.h คาว่า stdio ย่อมาจาก standard input/output ซึ่งเป็นมาตรฐานการรับและ แสดงผลข้อมูลทางจอภาพ ถ้าเราไม่อ้างถึงเฮดเดอร์อันนี้ เมื่อเรียกใช้ฟังก์ชันที่เกี่ยว กับการรับและแสดงผลข้อมูล  เช่น puts., gets.,  printf., scanf และอีกหลายฟังก์ชัน ก็จะเกิดข้อผิดพลาดเมื่อรันทดสอบ ซึ่งเราจะได้เรียนรู้เพิ่มเติมในภายหลัง ถ้าเราติดตังตัวแปลภาษา c ตามวิธีการของหนังสือเล่มนี้ (เกล่าวไว้ในบทที่ 1) ตำแหน่ง ของไฟล์เฮดเดอร์ ก็น่าจะอยู่ที่ c:lmingw64|x86_64-w64-mingw32linclude ซึ่งถ้าเราลอง เปิดเข้าไปดูก็จะพบกับไฟล์จำนวนมาก ในลักษณะดังนี้
--- Page 37 ---
 บทที 2 | การเขียนโค้ดภาษา c ในเบ้องต้น 37 inc ud= fld  hnmn สากา am0934{336_:4-w64 m ngwaapaude searcn induge iama date madified tpe sie atint 17/5/2551 19:39 css haadar file 7 ห{8  stiia 12/5!2561 10;39 cr hgader file 55 k3 .ulb 14/5/2561 1!)39 cy. heoder iil3 28 aa at 12/5/2561 19;39 c+ hgader file i0a8 istiarr 12/5/25611939 c feaner file ;0  stiren 12/5/261 !9:39 n haader file 2k8   stllork 12/5/2561 19:39 cr header file a{a atm )215/2561 15;39 cr agadcr hle ra  ststage 12/5/2561 19:39 u. haauer lile ka starduic 12/5/2561 19;39 c+ header file ikd starptop 12/5/2561 19;39 c- mater fil= are stralian |2/5'2561 19;39 c> haadar iil= 7{8   string 12/5/2561 10:39 cu haadar file 12:8 1ว37 items การประกาศเฮดเดอร์ ให้เขียนไว้ส่วนหัวของไฟล์ก่อนจะเริ่มต้นโค้ดหลัก  เพื่อให้มันถูก ประมวลผลก่อนส่วนโค้ดที่เราเขียนในลำดับถัดมา ซึ่งตามปกติ ในการเขียนโค้ดที่ซับซ้อนขึ้น เรา  อาจต้องอ้างถึงเฮดเดอร์มากกว่า 1 อัน โดยใช้หลักการเดิมทั้งหมด เช่น #include <stdio.h> #include <math. n> #include <string.h>  ฟังก์ชัน main  ในภาษา c.  (รวมถึงภาษาคอมพิวเตอร์โดยส่วนใหญ่) จะใช้ฟังก์ชันที่ชื่อ main  เพื่อเป็น จุดเริ่มต้นในการทำงาน ซึ่งความจริงนั้น นอกจากคำว่า main แล้วอาจมีองค์ประกอบอื่นตฺที่เรา สามารถเขียนเพิ่มเติมร่วมกับคำว่า main ได้ แต่ในเบื้องต้นนี้ จะแนะนำเพียงแบบเดียวไปก่อน นั่นคือ void  main( ) [ void เป็นคำสงวนในภาษา c ชึ่งใช้เพื่อบ่งชี้ว่าฟังก์ชันนี้ จะไม่มีการส่งข้อมูลใดต กลับ  ออกไปจากฟังก์ชัน main  เป็นชื่อฟังก์ชันหลักของโค้ดโปรแกรมนั้น ซึ่งเป็นส่วนแรกที่จะถูกเรียกขึ้นมา ทางาน
--- Page 38 ---
38 การเขียนโปรแกรมกาษา c ขั้นพืนฐาน กาธกำทินดบล็อกคำสังด้วยวงเล็บ {} การกระทำหรือดำเนินการบางอย่าง อาจประกอบด้วยคำสังย่อยต.มากกว่า 1 คำสัง และ ะ เพื่อให้เราทราบขอบเขตว่าการกระทำนั้น ประกอบด้วยคำสั่งย่อยตใดบ้าง c จะใช้วงเล็บ {} เป็นตัวกำหนดขอบเขต โดยนำคำสั่งย่อยๆ ที่จะดำเนินการต่อเนื่องกันไปตามลำดับมาเขียนไว้ ในวงเล็บ {} ดังรูปแบบต่อไปนี้ คำสั่งที่  คำสั่งที่ 2  คำสั่งที่ 3  แต่ละคำสั่งภายในบล็อก  ควรเยื้องเข้าไปเป็นระยะ 1  แท็บ  โดยให้จุดเริ่มต้นของแต่ละ  บรรทัดอยู่ในแนวเดียวกัน แม้จะไมใช่ข้อบังคับ แต่ก็เป็นสิ่งที่นิยมทำกันทั่วไป เพราะช่วยให้โค้ดนั้น  อ่านง่ายขึ้น ซึ่งจากที่ผ่านมาจะเห็นว่า เราได้กำหนดวงเล็บ {} ต่อท้ายฟังก์ชัน main เพื่อกำหนด คำสั่งย่อยๆ ที่จะดำเนินการ เช่น void  main( )  กำหนดคำสั่งย่อย1ไว้ในนี้ ู การเขียนวงเล็บเปิด เพื่อเริ่มต้นบล็อกคำสั่งนั้น  เราอาจวางไว้ที่บรรทัดถัดไป หรือจะ เขียนต่อจากท้ายบล็อกในบรรทัดเดียวกันก็ได้ ดังวิธีการต่อไปนี้ วิธีที่ 1  new line block โดยเขียนวงเล็บเปิด { เพื่อเริ่มต้นบล็อกคำสั่ง ที่บรรทัด ถัดไป เช่น void  main() คำสั่งย่อยซ  ในภาษา
--- Page 39 ---
 บทที 2 | การเขียนโค้ดภาษา c ในเบ้องต้น 39 วิธีที่ 2 in-line block โดยเขียนวงเล็บเปิด { ต่อท้ายบล็อกในบรรทัดเดียวกัน เช่น  void  main( )  คำสังย่อยๆ การเขียนโค้ดภาษา c ในยุคแรกต จะนิยม?ใช้แบบที่ 4 เป็นส่วนใหญ่  เพราะอ่านโค้ดได้ ง่ายกว่า แตในยุคหลังฯ ที่การเขียนโค้ดจะซับซ้อนและยืดยาวมากขึ้นเรื่อยต เราจึงนิยมใช้แบบที่ 2 มากกว่า เพราะใช้พื้นที่ในการเขียนโค้ดน้อยกว่า จึงทำให้โค้ดดูสั้นลง แต่อย่างไรก็ตาม เกณฑ์หรือข้อบังคับว่าเราต้องใช้แบบใด ทั้งนี้ผู้อ่านสามารถใช้แบบใดก็ได้ที่ตนถนัด และสำหรับใน หนังสือเล่มนี้ จะเลือกใช้แบบที่ 2 เป็นหลัก ซึ่งเป็นรูปแบบที่พบเห็นในการใช้งานจริงได้มากกว่า การกำหินดจุดสิ้นสุดคำสั่งด้วยเครื่องหิมาย }  คำสั่งต่างๆ ในภาษา c ที่เราเขียน มักใช้เพื่อทำสิ่งใดสิ่งหนึ่งโดยเฉพาะ ดังนั้น เราอาจ ต้องนำคำสั่งย่อยจหลายอันมาใช้งานร่วมกัน เพื่อดำเนินการอย่างใดอย่างหนึ่ง ด้วยเหตุนี้จึงต้องมี  สิ่งที่ใช้ระบุขอบเขตหรือจุดสิ้นสุดในแต่ละคำสั่ง โดยในภาษา c จะใช้เครื่องหมาย semicolon (;)  เพื่อกำหนด จุดสิ้นสุดของแต่ละคำสั่ง โดยวางเครื่องหมายนี้ต่อท้ายคำสั่ง เช่น void  main() คำสั่งที่ 1; <= เขียนเครื่องหมาย  ปิดท้าย เพื่อบ่งชี้ว่า สิ้นสุดคำสั่งที่ คำสั่งที่ 2 ; <= เขียนเครื่องหมาย  ปิดท้าย เพื่อบ่งชี้ว่า สิ้นสุดคำสั่งที่ 2 คำสั่งที่ 3 ; <= เขียนเครื่องหมาย  ปิดท้าย เพื่อบ่งชี้ว่า สิ้นสุดคำสั่งที่ 3 และจากการทีเราระบุเครืองหมาย ต่อท้าย เพื่อระบุจุดสิ้นสุดคำสั่ง ดังนั้น จึงสามารถ นำคำสั่งถัดไปฺมาเขียนต่อเนื่องในบรรทัดเดียวกันได้ เพราะมี เครื่องหมาย เป็นตัวแบ่งหรือบ่งชี้  จุดสิ้นสุดคำสั่งอยู่แล้ว เช่น void  main() [ คำสั่งที่ 1 :  คำสั่งที่ 2 :  คำสั่งที่ 3 ;  ไม่มีกฎ
--- Page 40 ---
40 การเขียนโปรแกรมกาษา c ขั้นพืนฐาน การเขียนคำอธิบายโค้ด (comment)  เราสามารถเขียนข้อความแทรกลงในโค้ด เพื่ออธิบาย!เกี่ยวกับโค้ดส่วนนั้นพอสังเขปฺ หรือ จะเขียนข้อความในวัตถุประสงค์ อื่นต ทั้งนี้  เมื่อเราย้อนกลับมาอ่านโค้ดในภายหลัง หรือเมื่อส่ง ะู  โค้ดให้กับคนอื่นตต่อไป  ก็จะอ่านเข้าใจโค้ดส่วนนั้นได้เร็วขึ้น ซึ่งวิธีการเขียนคำอธิบายโค้ดใน ภาษา c นัน  อาจทำแบบใดแบบหนึ่ง ดังนี้ การเขียนคำอธิบายแบบบล็อก (block comment) วิธีนี้ จะกำหนด จุดเริ่มต้นและสิ้นสุดบล็อกด้วยสัญลักษณ์ /* */ ตามลำดับ โดยนับตั้งแต่ สัญลักษณ์ /* เป็นต้นไป จะถือเป็นคำอธิบายทั้งหมด จนกว่าจะเจอสัญลักษณ์ */ จึงจะถือว่าสิ้นสุด ะ คำอธิบาย ดังนัน เราจึงสามารถเขียนคำอธิบายหลายบรรทัดไว้ในบล็อกเดียวกันได้ เช่น i.  example2-o.c i c progranning  language nritten  by dennis ritchie void  main() main pnogram puts( "hello  world" ) ;  display nessage /* puts( " goodbye" ) ; / โค้ดบรรทัดนี้ไม่ถูกประมวลผล แม้จะเป็นคำสังในภาษา c ก็ตาม เพราะเขียนไว้ใน  block  comment การเขียนคำอธิบายแบบบรรทัด (line comment) คำอธิบายแบบนี้ จะใช้สัญลักษณ์ // เป็นตัวกำหนดจุดเริ่มต้น และถือว่าจุดสิ้นสุดบรรทัด (ตำแหน่งที่เรากด <enter> เพื่อขึ้นบรรทัดใหม่) เป็นจุดสิ้นสุดคำอธิบาย นั่นแสดงว่า เราจะเขียน คำอธิบายที่ยาวได้ไม่เกิน 1 บรรทัด และถ้าต้องการเขียนคำอธิบายที่ยาวหลายบรรทัด ต้องกำหนด ด้วยสัญลักษณ์ // ไปทุกบรรทัด เช่น iexample2  o.c iic programming  language iwritten by dennis ritchie
--- Page 41 ---
 บทที 2 | การเขียนโค้ดภาษา c ในเบ้องต้น 41 void  main( ) iinain program puts(  hello  world" ); idisplay  message /puts( "  goodbye" ) ; / /โค้ดบรรทัดนี้ไม่ถูกประมวลผล /i แม้จะเป็นคำสั่งในภาษา c.  ก็ตาม ii เพราะเขียนตามหลัง line  comnent การแสดงข้อความในเบื้องต้น  ในการเขียนโค้ดภาษา c. นน ไม่ว่าจะเป็นการทดสอบหรือเพื่อใช้งานจริง ก็อาจมีกรณีที่ ต้องแสดงข้อความบางอย่างแก่ ผู้ใช้ ซึ่งอาจเป็นข้อความทั่วไป  การแสดงผลลัพธ์ คำแจ้งเตือน รวมถึงการแสดงข้อผิดพลาดต่างๆ โดยการแสดงข้อความตามทีกล่าวมา อาจเป็นเพียงการแสดง ข้อความแบบง่ายๆ หรืออาจเป็นข้อความที่มีการจัดรูปแบบก็ได้ สำหรับข้อความที่มีการจัดรูปแบบ ที่ซับซ้อนขึ้นจะกล่าวถึงในบทที่ 4 แต แในบทนี้ จะแนะนำเพียงการเขียนข้อความพื้นฐานธรรมดา ไปก่อน ดังรายละเอียดต่อไปนี้ การแสดงข้อความด้วยฟังก์ชัน puts() วิธีการแสดงข้อความ แแบบที่ง่ายที่สุดในภาษา c น่าจะเป็นการใช้ฟังก์ชัน  puts( ) แบบดังนี้ puts  ข้อความทีต้องการแสดง ะ  ฟังก์ชัน  puts( ) อยู่ในกลุ่มเฮดเดอร์ stdio.h ดังนั้น  เราต้องอ้างอิงเฮดเดอร์นี้ด้วย  #include <stdio.h> เอาไว้ล่วงหน้าเหมือนที่เคยทำมา จึงจะใช้งานฟังก์ชันนี้ได้ ข้อความที่จะแสดงด้วย puts( ) ต้องเขียนไว้ในเครื่องหมายคำพูดแบบ  เท่านัน ถึง จะเป็นตัวเลขก็ต้องเขียนไว้ในเครื่องหมายนี้แเช่นกัน เช่น "123"  ฟังก์ชัน  puts( ) แสดงได้เพียงข้อความเดียว ถ้าเราจะแสดงหลายข้อความก็ต้อง กำหนด:แต่ละข้อความด้วยฟังก์ชัน  puts( )  แยกกัน  หรือใช้ฟังก์ชัน  puts( ) หลาย  ครั้งนั่นเอง ะู  ฟังก์ชัน puts() เป็นการแสดงข้อความ 1  บรรทัด ดังนัน เมือเราใช้ฟังก์ชัน puts( ) เพื่อแสดงข้อความครั้งถัดไป มันจะถูกนำไปแสดงหรือขึ้นบรรทัดใหม่โดยอัตโนมัติ  ในรูป
--- Page 42 ---
42 การเขียนโปรแกรมกาษา c ขั้นพืนฐาน ข้อความทีอยู่ในเครื่องหมาย  อันเดียวกัน ต้องเขียนให้จบในบรรทัดเดียวกัน จะแยก บางส่วนไปขึ้นบรรทัดใหม่ไม่ได้ (ความจริงมีวิธีที่ทำได้แต่จะมีบัญหาการเว้นระยะห่าง) ถ้าข้อความนั้นยาวเกินไป ไม่สามารถเขียนจบในบรรทัดเดียวกัน วิธีแก้ปัญหาในเบื้องต้น  คือ ให้แยกเป็นข้อความย่อยต แล้วกำหนดไว้ในเครื่องหมาย  คนละอัน  สำหรับแนวทางการใช้งาน ให้เราดูจากตัวอย่างต่อไปนี้ ชึ่งวิธีการสร้างไฟล์ตัวอย่าง  ในภาษา c ได้กล่าวเอาไว้แล้ว ตัวอย่าง 2-1 การแสดงข้อความอย่างง่ายด้วยฟังก์ชัน puts( ) # include  <stdio n> void  nain() า puts( "c is a real world  widely  available  and puts( "c is a sial1 , efficient,  powerfu1 , and puts( "c has been  standardized.,  portable  and c: ic- langichapter2>cd "c: ie- langichapter2|" && gcc  exanple2-1.c ac  example2-1 ar2|"exanp1e2-1 c is real  . world, widely available and  popular language c is  small, efficient,  powerful, and  flexible language c has been  standardized ,  portable  and  close to hardana c: ie- langichaater2> การแสดงข้อความด้วยฟังก์ชัน printf() ู ตามปกตินัน  เรามักใช้  printf( ) กับข้อความที่มีการจัดรูปแบบบางอย่าง f ที เขียนต่อท้ายชื่อฟังก์ชัน ฺมาจากคำว่า format ที่หมายถึงการจัดรูปแบบนั่นเอง แต่อย่างไรก็ตาม ในเบื้องต้นนี้ เราจะใช้ฟังก์ชัน  printi() เพื่อแสดงข้อความธรรมดาที่ยังไม่มีการจัดรูปแบบใดฯ  เช่นเดียวกับ puts( ) โดยข้อแตกต่างที่สำคัญในเบื้องต้นของ 2  ฟังก์ชันนี้คือ  ฟังก์ชัน puts( ) จะแสดงข้อความโดยขึ้นบรรทัดใหม่โดยอัตโนมัติ  ฟังก์ชัน  printf( ) หากแสดงข้อความแบบธรรมดา จะแสดงที่บรรทัดเดิมต่อเนื่องไป เรื่อยๆ โดยตัว
--- Page 43 ---
 บทที 2 | การเขียนโค้ดภาษา c ในเบ้องต้น 43  สำหรับแนวทางการใช้ฟังก์ชัน printi() ในเบื้องต้น ให้ดูจากตัวอย่างต่อไปนี้ ตัวอย่าง 2-2 การแสดงข้อความอย่างง่ายด้วยฟังก์ชัน printf( #include <stdio.h> void  nain() printf( "c is a  rea1  world widely avai lable  and printf( "c is a  sial1, efficient  powerfu1 and printf( "c has been standardized portable  and c: ic- langlchapter2>cd "c: ic-langichapter2| &&  gcc  example2-2.c .. exam๖1e2-2  && : le- langichapter2 |"example2-2 cis rea1 world, widely  available  and  popular  language.c is a  small, efficient,  วowarfl, and  flexible language .c has  been  standardized,  portable  and close to har duare c:ic-  ichapter2>| จากผลลัพธ์จะเห็นได้ว่า printf( ) จะเขียนข้อความต่อท้ายข้อความเดิมในบรรทัดเดียวกัน ไปเรื่อยซ  ทั้งนี้ สำหรับวิธีการแก้ไขให้คาสั่ง  printf( ) แสดงข้อความที่บรรทัดใหม่  จะกล่าวถึง ในหัวข้อถัดไป ตัวอย่าง 2-3 การแสดงข้อความด้วยฟังก์ชัน printf( ) #include <stdio.n> void  main() printf("123 ) printf( printf( "456 printf printf( 579 c: ie-langichapter2>cd "c: ic-langichapter2i &&  gcc  examle2-3.c c: ie- lang ichapter2 |example2-3 123 456 579 c: ie langichapter2>  lang
--- Page 44 ---
44 การเขียนโปรแกรมกาษา c ขั้นพืนฐาน  อักขระพิเศษสำทิธับขึ้นบรรทัดไหิม่ an) ถ้าเรามีข้อความย่อยตหลายอันที่จะแสดงผล เก็ต้องใช้ฟังก์ชัน puts( ) หรือ printf( ) ชำๆ ตามจำนวนข้อความจนครบ ดังตัวอย่างที่ผ่านไฺมานั่นเอง ซึ่งการเรียกฟังก์ชันเดิมซ้ำไแบบนี้ถือ เป็นข้อบกพร่องที่เราควรแก้ไข โดยวิธีการที่จะแนะนำในเบื้องต้นคือ การแทรกอักขระพิเศษลงใน ข้อความเพื่อให้เกิดการขึ้นบรรทัดใหม่ โดยไม่จำเป็นต้องใช้ puts( ) หรือ  printf( ) ซ้ำหลายครั้ง ดังหลักการต่อไปนี้  ให้แทรกอักขระพิเศษคือ in  (หมายถึง  new  line) ลงในข้อความ ณ  ตำแหน่งที่ ต้องการขึ้นบรรทัดใหม่ ในข้อความเดียวกัน (ในเครื่องหมาย เดียวกัน) จะแทรก in ลงไปกี่ครั้งก็ได้ โดย =  จะเกิดการขึ้นบรรทัดใหม่ทุกครั้งในตำแหน่งที่เป็นอักขระ in =ู้ ความจริงแล้ว อักขระพิเศษที่ขึ้นต้นด้วย ยังมีอีกหลายอัน โดยเราเรียกอักขระพิเศษ ในกลุ่มนี้ว่า escape sequence ซชึ่งจะกล่าวรายละเอียดเพิ่มเติมในบทที่ 3 เนื่องจากการแทรกอักขระ in  ลงในข้อความ  เป็นเพียงเรืองง่ายๆ  จึงขอให้ดูแนวทาง การใช้งานจากตัวอย่างต่อไปนี้ได้เลย ตัวอย่าง 2-4 การแทรกอักขระพิเศษ in ลงในข้อความเพื่อขึ้นบรรทัดใหม่ one # include <stdio.h> t.!0 thrge four void main() five printf( "onein" ) ; six  seven printf( "twoin") ; printf( three in" ) ; eignt printf( " fourin") nine ten printf( "five ins ix inseven in") ; (  ineight ); (  innine" ) : ( tenin") puts puts puts
--- Page 45 ---
 บทที 2 | การเขียนโค้ดภาษา c ในเบ้องต้น 45 ตัวอย่าง 2-5 การแทรกอักขระพิเศษ in ลงในข้อความเดียวกัน (อยู่ในเครื่องหมาย อ เดียวกัน) เพื่อขึ้นบรรทัดใหม่ # include <stdio.h>  void  main() puts ( |n1989 :  ans1 cin1990: iso ci1999 : c99" ) printf( "4n2011: c11!2017 : c1712023 : c231n") ; c: ie- langichapter2>ca "c: ie- langichapter2| &&  gcc  exampie4 1.c ..  examp1e4-1 &&  "c: le-langichapter2 |"examp1e4-1 1989: ansi c 1999: iso  c 1999: c99 2811: cl1 2917: cl7 2923 : c23 c: ie- ianglchapter2>  สิ่งที่เราได้เรียนรู้ไนบทนี้ ถึงจะเป็นเพียงพื้นฐานของภาษา c ในเบื้องต้น  แต่มันคือสิ่ง  สำคัญที่เราต้องใช้งานกันอยู่ตลอด  โดยการเขียนโค้ดในบทต่อตฺไป  เราจำเป็นต้องนำสิ่งที่ได้ กล่าวถึงในบทนี้ ไปใช้งานร่วมกันแทบทุกกรณี
--- Page 46 ---
     . รราร >า ปต  . ;: {?,:.: :,:::7 . ก ext ecred_ob]ec >[ay .. aa].sele selec . dc erator cunsse .. the is x m รอ .       ต olea object* operator):  selected anrror . nirror อ  none อ bject
--- Page 47 ---
3 ชนิดข้อมูลและตัวแปร ข  อมูลแต่ละอย่างที่นำมาใช้งานในการประมวลผลต่างๆ นั้น ต้องตรงกับชนิดใดชนิดหนึ่งที่ ข. ภาษา c รองรับ เนื่องจากวิธีดำเนินการกับข้อมูลแต่ชนิดจะแตกต่างกันออกไป  แต่ละค่า เราต้องสร้างชื่ออ้างอิงให้กับมัน ซึ่งเรียกว่า ตัวแปร หรืออาจกล่าวได้ว่า สิ่งที่เกี่ยวข้อง กับข้อมูลแต่ละค่า ก็คือตัวแปรและชนิดข้อมูลของตัวแปรนั้น เพื่อให้ตัวประมวลผลสามารถเลือก วิธีจัดการกับข้อมูลได้อย่างถูกต้อง ดังเนื้อหาที่เราจะได้เรียนรู้กันในบทนี้ ชนิดข้อมูลในภาษา c ข้อมูลต่างๆ ที่เราจะนำมาประมวลผล ฺจะต้องมีชนิดหรือประเภทที่แน่นอน ทั้งนี้ก็เพราะ ข้อมูลแต่ละชนิดนั้นจะใช้วิธีจัดการและจัดเก็บที่แตกต่างกัน  โดยในภาษา c. จะแบ่งข้อมูลออก เป็นชนิดย่อย ค่อนข้างมาก ซึ่งเราสามารถจำแนกเป็น 2 กลุ่มหลักต ดังนี้  predefined data type หรือ primitive data type หรือ base type เป็นชนิดข้อมูล อู้ แบบพื้นฐานที่ถูกกำหนดมาล่วงหน้าหรือมือยู่แล้วในภาษา c จึงสามารถใช้งานได้ทันที ซึ่งชนิดข้อมูลในกลุ่มนี้ ยังสามารถแบ่งเป็นกลุ่มย่อยต ได้อีก โดยกลุ่มที่น่าสนใจคือ ชนิดเลขจำนวนเต็ม (integer) เช่น int., short., long เป็นต้น ชนิดเลขทศนิยม (float) เช่น float., double เป็นต้น ชนิด:อักขระ (character) เช่น char ชนิดจริงเท็จ (boolean) เช่น bool  user defined data  type เป็นชนิดข้อมูลที่ผู้ใช้  (เผู้เขียนโค้ด) กำหนดขึ้นมาเอง เช่น typedef., struct เป็นต้น โดยข้อมูล
--- Page 48 ---
48 การเขียนโปรแกรมกาษา c ขั้นพืนฐาน โดยส่วนใหญ่ เราจะใช้งานข้อมูลในกลุ่ม predefined เป็นหลัก ส่วนกรณีของ user defined  อาจได้ใช้งานในบางกรณี  สำหรับข้อมูลในกลุ่ม predefined ซึงแบ่งย่อยออกเป็นชนิดต่างๆ ที่ หลากหลาย โดยในบทนี้  เราจะศึกษารายละเอียดของบางชนิดที่น่าสนใจ  แล้วส่วนที่เหลือก็จะ กล่าวเพิ่มเติมในบทต่อตไป ข้อมูลประเภทเลขจำนวนเต็ม ข้อมูลประเภทเลขจำนวนเต็ม  (integer) จะแบ่งย่อยออกเป็นชนิดย่อยตตามขนาดหรือ  ช่วงตัวเลขที่สามารถจัดเก็บได้ ซึ่งสามารถสรุปได้ดังตารางต่อไปนี้ ชนิด ขนาด คาตาสด ค่าสูงสุด short 2-byte 32,768 32,767 int a-byte -2,147,483,648 2,147,483,647  long 4 byte -2,147,483,648 2,147,483,647  long 8 byte 9,223,372,036,854,775,808 9,223,372,036,854.775,807  unsigned short a byte 65,535 unsigned int 4-byte 4,294,967,295 unsigned long long 8-byte 18,446,744,073,09,551,615  ค่าตำสุด  (minimum) และค่าสูงสุด  (maximum) เป็นตัวกำหนดขอบเขตของข้อมูล จู ชนิดนั้น ว่าเราสามารถกำหนดค่าเป็นตัวเลขในช่วงใด ซึ่งหากกำหนดค่าที้ไม่อยู่ในช่วง  ของมันก็จะเกิดข้อผิดพลาด เช่น ข้อมูลชนิด short ต้องกำหนดค่าในระหว่าง -32,768 ถึง 32,767 เป็นต้น หรือเราจำแบบง่ายซ ดังนี้ short  เก็บค่าได้สูงสุดประมาณ 3 หมื่น (ทั้งค่าบวกและลบ) int และ long  เก็บค่าได้สูงสุดประมาณ 2 พันล้าน (ทั้งค่าบวกและลบ) เราสามารถระบุคำว่า signed และ unsigned นำหน้าชนิดข้อมูล ซึ่งจะมีความหมาย ดังนี้ signed หมายถึง ข้อมูลนั้นสามารถมี เครื่องหมาย (ลบ) นำหน้า หรือกล่าวได้ว่า  อาจเป็นได้ทั้งค่าบวกและค่าลบนั่นเอง แต่อย่างไรก็ตาม เนื่องจากในกรณีนี้ถือเป็น ลักษณะปกติของเลขทั่วไปอยู่แล้ว ดังนั้น เราไม่จำเป็นต้องเขียน signed กำกับไว้ ข้างหน้าก็ได้ เช่น singed int อาจเขียนสั้นๆ แค่ int เป็นต้น long
--- Page 49 ---
บทที 3 | ชนิดข้อมูลและตัวแปร 49  unsigned หมายถึง ข้อมูลแบบไม่มีเครื่องหมายนำหน้า หรือเป็นได้แค่จำนวนเต็ม ะ บวกเท่านัน และจะเห็นได้ว่า  ค่าสูงสุดของข้อมูลในช่วงบวก จะเพิ่มเป็น 2 เท่าจาก ชนิดปกติ (signed) โดยในกรณีนี้เราต้องระบุคำว่า unsigned กำกับข้างหน้าชนิด อู้ ข้อมูลเสมอ ทังนีหากระบุแค่คำว่า unsigned จะหมายถึง unsigned int ข้อมูลประเภทเลขทศนิยม ข้อมูลประเภทเลขทศนิยม (float) หรือจำนวนที่สามารถมีทศนิยมได้ จะแบ่งย่อยออกเป็น ชนิดต่างๆ ดังตารางต่อไปนี้ ชนิดข้อมูล ขนาด ค่าตำสุด  ค่าสูงสุด  float a-byte 3.4e-38 3.4e+38  double 8-byte 1.7e-308 1.7e+308 long double 10-bytes 3.4e-4932 1.1e+4932 ข้อมูลชนิด float สามารถมีทศนิยมได้ ไม่เกิน 6 ตำแหน่ง ข้อมูลชนิด double สามารถมีทศนิยมได้ ไม่เกิน 15 ตำแหน่ง ข้อมูลชนิด long double สามารถมีทศนิยมได้ ไม่เกิน 19 ตำแหน่ง ข้อมูลชนิด double เป็นการขยายขนาดให้เป็น 2 เท่าจากชนิด float 3  ชนิดในกลุ่มนี้ อาจเป็นได้ทั้งค่าบวกและลบ (ไม่สามารถระบุ unsigned  กำกับได้) ข้อมูลประเภทอักขระ  คำว่าอักขระ (character) อาจหมายถึง ตัวอักษร a-z (พิมพ์เล็กหรือใหญ่ก็ได้), ตัวเลข 0-9 หรืออักขระอื่นซ  เช่น ''@' '$', *  '%', '#' เป็นต้น  แต่  ต้องเป็นอักขระเพียงตัวเดียว ะ เท่านัน โดยข้อมูลชนิดอักขระจะกำหนดด้วยคำต่อไปนี้ ชนิดข้อมูล ขนาค  ค่าตำสด ค่าสูงสุด char 1-byte -128 127  unsigned char 1-byte 255 ข้อมูลทั้ง
--- Page 50 ---
50 การเขียนโปรแกรมกาษา c ขั้นพืนฐาน ข้อมูลประเภทอักขระจะถูกจัดเก็บและจัดการในแบบรหัส ascii  (american  standard  code for information interchange) ไมใช่การเก็บอักขระตัวนั้นโดยตรง โดยอักขระแต่ละตัวจะ มีรหัสของมันเอง เช่น a (65), a (97), c (67), $ (36) เป็นต้น ตัวอย่างรหัส ascii ของอักขระ บางส่วนเป็นดังตารางต่อไปนี้ ธหส อักประ รหส อกประ รหส อาประ 33 48 91 34 49 92 35 # 93 36 $ 57 9 94 37 % 58 95 38 & 59 96 39  6o 97 ad 61 98 b 41 62 42 63 122 z 43 64 123 44 65 a 124 45 66 b 125 46 126 47 90 z 127 del  สำหรับรายละเอียดเพิ่มเติมเกี่ยวกับข้อมูลชนิดอักขระ เราจะได้เรียนรู้เพิ่มเติมในลำดับต่อไป หมายเหตุ นอกจากที่กล่าวมาแล้ว ในกลุ่ม predefined type ก็ยังชนิดข้อมูลอื่น" อีก เชน void bool ชึ่งเรายังไม่จำเป็นต้องใช้สำหรับการเรียนรู้ในช่วงบทแรกต จึงขอนำไปกล่าวร่วมกับบทที่เกี่ยวข้อง กับข้อมูลชนิดนี้โดยตรง ฺชึ่งในบทนี้จะกล่าวถึงเฉพาะชนิดข้อมูลที่จำเป็นต้องใช้ประกอบการเรียนรู้ ในเบื้องต้นไปก่อน
--- Page 51 ---
บทที 3 | ชนิดข้อมูลและตัวแปร 51 ลักษณะของตัวแปรไนภาษา c ในการเขียนโปรแกรม  เราจำเป็นต้องใช้ข้อมูลหลายอย่างร่วมกัน เชึ่งข้อมูลแต่ละอย่าง จะต้องมีชื่อในการอ้างอิง โดยเราจะเรียกชื่อที่ใช้สำหรับการอ้างอิงข้อมูลว่า ตัวแปร (variable) หรืออาจกล่าวได้ว่า ตัวแปร ก็ชื่อตำแหน่งที่ใช้จัดเก็บและอ้างถึงข้อมูล  ทั้งนี้ การตั้งชื่อตัวแปร  จะต้องเป็นไปตามหลักการหรือข้อกำหนดของภาษา c มิฉะนัน  อาจเกิดข้อผิดพลาดขึ้นได้ ดังนี้ ชื่อตัวแปร ต้องประกอบด้วยตัวอักษร a-z, a-z เลข 0-9 หรือเครื่องหมาย  yunderscore) ะ เท่านั้น จะมีอักขระอื่นซ นอกเหนือจากนี้รวมอยู่ด้วยไม่ได้ ชื่อตัวแปรจะขึนต้น (เอักขระตัวแรก) ด้วยตัวเลขไม่ได้ (แต่อาจมีตัวเลขอยู่ในตำแหน่ง  อื่นซ ฺที่ไม่ใช่ตัวแรกได้) ต้องไม่ชำกับคำสงวน (reserved words) ของภาษา c การเขียนด้วยตัวพิมพ์ในรูปแบบที่ต่างกัน ถือว่าไม่เหมือนกันแม้จะเป็นคำเดียวกันก็ตาม เช่น การเขียนเป็น value., value., value ไม่ถือว่าซ้ำกัน(ไมใช่ตัวแปรเดียวกัน) ชื่อตัวแปรในภาษา c เรานิยมเขียนเป็นตัวพิมพ์เล็กทั้งหมด (แต่ไม่ใช่ข้อบังคับ) ถ้านำหลายๆ คำมารวมกันเป็นชื่อตัวแปร ตามแนวทางที่ใช้กันส่วนใหญ่ในภาษา c. เรานิยมเชื่อมแต่ละคำด้วยเครื่องหมาย underscore (_) ซึ่งจะอ่านได้ง่ายกว่าการเขียน ติดกัน เช่น first_value., user_name., of week (แต่ไม่ใช่ข้อบังคับ) ลักษณะการตั้งชื่อตัวแปรที่ ถูกต้อง x  string2number value v3 beta2  firstname  core _i_7  priceperunit x_ num1  grand_ total  void (ตัวพิมพ์ต่างจาก reserved word)  freediskspace  day_  ax
--- Page 52 ---
52 การเขียนโปรแกรมกาษา c ขั้นพืนฐาน ลักษณะการตั้งชื่อตัวแปรที่ ไม่ถูกต้อง  price$ เพราะมีอักขระ $ อู 3x เพราะขึนต้นด้วยตัวเลข auto เพราะชำกับคีย์เวิร์ด  date month year เพราะมี เครื่องหมาย  lucky number เพราะมีช่องว่าง การประกาศตัวแปร ก่อนที่เราจะนำตัวแปรไปใช้งานได้ จำเป็นต้องประกาศตัวแปรนั้นขึ้นมาก่อน  ทั้งนี้ก็เพื่อ ะ จองพื้นที่บนหน่วยความจำสำหรับจัดเก็บข้อมูลนั่นเอง  ดังนั้น  เราจำเป็นต้องระบุชนิดข้อมูลที่ จัดเก็บด้วยตัวแปรนั้นลงไปด้วย ดังรูปแบบต่อไปนี้ ชนิดซ้อมูล  ฺชื่อตัวแปร; ชนิดข้อมูล ก็เลือกใช้ชนิดใดชนิดหนึ่งตามลักษณะของข้อมูลที่เราจะจัดเก็บ เช่น int,  float., char เป็นต้น  ชื่อตัวแปร ก็กำหนดตามหลักการที่ได้กล่าวมาแล้ว  แนวทางการประกาศตัวแปร เช่น int x; int y;  long  distance from_earth_to ian; float f: char ch: double lat itude; เราจะสร้างหรือประกาศตัวแปรซ้ำซ้อนกัน (เชื่อเดียวกัน) ไมได้  แม้จะกำหนดชนิดข้อมูล ต่างกันก็ตาม ฺเช่น กรณีต่อไปนี้ จะเกิดข้อผิดพลาดทั้งหมด int x; int x; ferror เพราะชื่อตัวแปรซช้ำกัน  float x; ferror เพราะชซื่อตัวแปรซ้ำกัน
--- Page 53 ---
บทที 3 | ชนิดข้อมูลและตัวแปร 53  กรณีที่เราจะประกาศตัวแปรหลายตฺตัว ให้มีชนิดข้อมูลเดียวกัน ฺสามารถนำมาเขียนรวม  ในคาสั่งเดียวกัน โดยระบุชนิดข้อมูลเพียงครั้งเดียว ในรูปแบบดังนี้ ชนิดข้อมูล  เชื่อตัวแปร_1 ,  เชื่อตัวแปร_2 ชื่อตัวแปร_3  ชนิดข้อมูล ก็กำหนดตามหลักการเดิม แต่เขียนเพียงครั้งเดียว  เราจะกำหนดตัวแปรจำนวนกี่ตัวก็ได้ โดยคั่นแต่ละตัวด้วยเครื่องหมาย comma ( ) แนวทางการประกาศตัวแปรแบบใช้ชนิดข้อมูลร่วมกัน เช่น int ทนn1 nun2 nun3 : เต้วแปรทังหมดเป็นชนิด int float sum,  average; dตัวแปรทังหมดเป็นชนิด  float  double lat itude  longitude; /ตัวแปรทังหมดเป็นชนิด double char letter1  letter2 , char1 char2 , char3; //เขียนแยกบรรทัดก็ได้ การกำทินดค่าใหี้กับตัวแปร ตัวแปรที่เราประกาศขึ้นมาดังหัวข้อที่แล้ว จะเป็นตัวแปรแบบว่างเปล่า หรือไม่ได้จัดเก็บ ข้อมูลใดต นั่นเอง  ทั้งนี้หลังการประกาศตัวแปร  เราต้องกำหนดค่าให้กับมันก่อนจึงจะใช้งานได้ โดยรูปแบบพื้นฐานทั่วไปของการกำหนดค่าให้กับตัวแปรคือ ชื่อตัวแปร  ค่าที่กำหนด ; โดยการกำหนดค่าให้กับตัวแปรนี  จะต้องทำหลังจากที่ได้ประกาศเอาไว้แล้วเท่านัน  ส่วน  ค่าที่กำหนดมีหลักการพื้นฐานดังนี้ ต้องสอดคล้องกับชนิดข้อมูลของตัวแปร ถ้าเป็นชนิดตัวเลข เช่น int., short,  float, double ให้เขียนตัวเลขนันลงไปโดยตรง ถ้าเป็นชนิด char ให้เขียนอักขระไว้ในเครื่องหมาย  เท่านัน กรณีที่เป็นชนิดตัวเลข  ต้องอยู่ในช่วงที่เป็นไปได้ (อยู่ภายในช่วงค่าตำสุดและสูงสุด ของข้อมูลชนิดนัน)  ค่าที่กำหนดให้แก่ตัวแปร สามารถเปลี่ยนแปลงแก้ไขในภายหลังได้ long.,
--- Page 54 ---
54 การเขียนโปรแกรมกาษา c ขั้นพืนฐาน  แนวทางการกำหนดค่าให้กับตัวแปร เช่น int  quantity;  quantity 10 : float price: price 199 . 50 : char  grade.;  grade d ลักษณะการกำหนดค่าให้กับตัวแปรที่ผิดพลาด int a; a 4 50 ; ferror เพราะตัวแปร a เป็นชนิด int //จึงต้องกำหนดค่าที่เป็นจำนวนเต็ม short b; d. 1000000 ; ferror เพราะ b  เป็นชนิด short //ชึ่งต้องมีค่าระหว่าง 32768  ถึง 32767 char c.; c. z; ferror c. "7" ferror ii.  ต้องเขียนอักขระไว้ไนเครื่องหมาย ะู อย่างไรก็ตาม ฺหากเราทราบค่าที่จะกำหนดให้กับตัวแปรอยู่แล้วในขณะนั้น อาจลดขั้นตอน ให้สั้นลง โดยประกาศตัวแปรแล้วกำหนดค่าให้กับมันในคำสั่งเดียวกันดังรูปแบบต่อไปนี้ ชนิดช้อมูล ฺชื่อตัวแปร  ค่าทีกำหนด ; แนวทางการประกาศและกำหนดค่าตัวแปรในคำสังเดียวกัน เช่น int  quantity 10 :  float  price 199 . 50 ; char  grade b" : short ni 100 : short n2 n1; เน่าค่าตัวแปร n1 มากำหนดให้ n2
--- Page 55 ---
บทที 3 | ชนิดข้อมูลและตัวแปร 55 ถ้าเราประกาศตัวแปรหลายตัวในรูปแบบการใช้ชนิดข้อมูลร่วมกัน ก็สามารถกำหนดค่า แบบต่อเนื่องในรูปแบบดังนี้ ชนิดข้อมูล ฺชื่อตัวแปร_1  ค่าที่กำหนด  ชื่อตัวแปร_2  ค่าที่กำหนด  ประกาศตัวแปรหลายตัวโดยใช้ชนิดข้อมูลร่วมกัน พร้อมกำหนดค่าให้กับมันไปพร้อมไกัน เช่น int a 1o b 20 , c 30 ;  float x 10.25 y. ว 11 50 z 12.75 ; char first= f" second= b third= i'  เราอาจกำหนดค่าให้กับตัวแปรเพียงบางตัว แต่บางตัวอาจแค่ประกาศชื่อไว้ก่อนแล้วค่อย  กำหนดค่าในภายหลังก็ได้ เช่น int a 1o. b. c. 30 ; float x, y. z 12 .75;  ในกรณีที่เราจะกำหนดค่าเดียวกันให้กับตัวแปรหลายๆ ตัว หรือให้ตัวแปรเหล่านันมีค่า เดียวกัน อาจกำหนดค่าแบบต่อเนื่องโดยระบุค่าเพียงครั้งเดียวที่ด้านขวาสุด ดังแนวทางต่อไปนี้ int x, y. 7 : x=  y=  z 10 ; . เต้าแปรทังหมดมีค่าเป็น 10 ที่กล่าวมาทั้งหมดเป็นการกำหนดค่าแบบพื้นฐานทั่วไป แต่อย่างไรก็ตาม เนื่องจากเราต้อง กำหนดชนิดข้อมูลให้กับตัวแปร และข้อมูลแต่ละชนิดก็จะมีลักษณะปลีกย่อยเฉพาะตัวบางอย่างที่ งู แตกต่างกัน ดังนั้น เราจะได้เรียนรู้เพิ่มเติมเกี่ยวกับข้อมูลแต่ละชนิดกันไปเรื่อยๆ พื้นฐานการแปลงชนิดข้อมูล  ในการประกาศตัวแปรนั้น เราต้องระบุชนิดข้อมูลที่จะจัดเก็บด้วยตัวแปรนั้นลงไปด้วย ดัง ที่เราได้เรียนรู้มาแล้ว อย่างไรก็ตาม เนื่องจากข้อมูลแต่ละชนิดมีขนาดหรือขอบเขตที่แตกต่างกัน ะู  ทั้งนี้ หากเราจัดเรียงตามขนาดจากเล็กไปใหญ่ก็จะได้เป็นดังนี้ short > int > long > float > double
--- Page 56 ---
56 การเขียนโปรแกรมกาษา c ขั้นพืนฐาน โดยข้อกำหนดพื้นฐานที่เราได้เรียนรู้มาก็คือ  ต้องกำหนดค่าให้สอดคล้องกับชนิดข้อมูล ู ของตัวแปร มิฉะนั้นอาจเกิดข้อผิดพลาด  แต่อย่างไรก็ตาม ฺในภาษา c นั้น มีกลไกที่ช่วยในการ แปลงชนิดข้อมูลจากอึกชนิดหนึ่งไปเป็นอึกชนิดหนึ่งได้ หรือที่เรียกว่า type  conversion  โดย แบ่งเป็น 2 รูปแบบคือ implicit conversion และ explicit conversion ดังรายละเอียดต่อไปนี้  double  iloat  implicit  explicit  conversion int  conversion  (widening)  (narrowing) shdlt implicit conversion  implicit  conversion หรือ  widening  conversion เป็นการแปลงจากชนิดข้อมูลที่มี ขนาดเล็กกว่า ไปเป็นชนิดที่มีขนาดใหญ่กว่า เช่น แปลงจาก short => int หรือจาก int => long เป็นต้น  ซึ่งสามารถทำได้โดยอัตโนมัติ และไม่จำเป็นต้องอาศัยการกระทำใดต  เข้ามาช่วย ชึ่ง ก็เปรียบเสมือนการนำสิ่งของขนาดเล็กไปจัดเก็บในภาชนะที่มีขนาดใหญ่กว่า ย่อมทำได้โดย  ธรรมชาติอยู่แล้ว เช่น short a 100; int i a; iiimplicit  conversion short  x 1000;  long y x: iiimplicit  conversion  float f 123 .45f; double d f; iiimplicit  conversion  explicit conversion  explicit  conversion หรือ  narrowing  conversion เป็นการแปลงจากชนิดข้อมูลทีมี  ขนาดใหญ่กว่า ไปเป็นชนิดที่มีขนาดเล็กกว่า เช่น แปลงจาก long => int หรือจาก double => int เป็นต้น โดยเหตุผลที่ต้องทำเช่นนี้ มักเกิดจากกรณีที่เราต้องนำค่าที่มีชนิดข้อมูลใหญ่กว่า ไปกำหนด iong
--- Page 57 ---
บทที 3 | ชนิดข้อมูลและตัวแปร 57 ให้กับตัวแปรที่มีชนิดข้อมูลเล็กกว่า จึงเปรียบเสมือนการนำสิ่งของที่มีขนาดใหญ่ ไปใส่ลงในภาชนะ ที่มีขนาดเล็กกว่า เย่อมทำไมได้โดยวิธีการแบบปกติแต่ในภาษา c มีวิธีการที่ช่วยแก้ปัญหานี้ได้ โดยใช้การกระทำที่เรียกว่าการคาสต์ (cast) เข้ามาช่วย ในรูปแบบต่อไปนี้ (ชนิดข้อมูล ) ค่าที่ต้องการแปลง ชนิดข้อมูลเป้าหมายของการแปลง ต้องเขียนไว้ในวงเล็บ ต้องวางชนิดข้อมูล ไว้ข้างหน้าค่าของข้อมูลที่ต้องการแปลง ถ้าเราแปลงจากจำนวนทีมีทศนิยมไปเป็นจำนวนเต็ม ส่วนทศนิยมจะถูกตัดทิงเหลือแค่  จำนวนเต็ม แต่ถ้าแปลงจากชนิดจำนวนเต็มเป็นทศนิยม ก็จะมี .0 ต่อท้าย เช่น  double d 123 int i (int )d; iii 123  short a 123 : float bd (float )a; fb 123 . 0 อย่างไรก็ตาม ฺสิ่งที่เราอาจนำมาพิจารณาด้วยก็คือขอบเขตของข้อมูลแต่ละชนิด ทั้งนี้หาก ข้อมูลเดิมมีค่าเกินขอบเขตของชนิดข้อมูลปลายทางที่เราจะคาสต์ ก็อาจได้ผลลัพธ์ที่ผิดพลาด เช่น กรณีต่อไปนี้ int value1 1234567 : short value2 ( short )value1 . /ไม่เกิดข้อผิดพลาด  แต่ได้ผลลัพธ์ที่ไม่ตรงตามคาดหวัง ii  เพราะข้อมูลชนิด short  ต้องมีค่าระหว่าง 32768  ถึง 32767 การแปลงข้อมูลโดยวิธีการคาสต์  จะมีประโยชน์เมื่อเราต้องนำไปใช้ร่วมกับการคำนวณ ที่มีข้อมูลหลายชนิดร่วมกัน ซึ่งเราจะได้เรียนรู้ไนบทที่ 5 โดยในบทนี้ เพียงแค่แนะนำให้ร้จักกับ หลักการในเบื้องต้นเอาไว้ล่วงหน้าเท่านั้น  ค่าคงที่  ค่าคงที่  เป็นการจัดเก็บข้อมูลในอึกลักษณะหนึ่งที่เราต้องใช้ค่าใดค่าหนึ่งไปตลอด จะ เปลี่ยนแปลงแก้ไขไม่ได้ (ต่างจากตัวแปร ที่เราสามารถแก้ไขค่าของมันได้ตลอด) โดยการสร้างค่า คงที่ในภาษา c สามารถทำได้ 2 วิธีคือ การใช้คำสั่ง const และ define ดังรายละเอียดต่อไปนี้ 45 ;
--- Page 58 ---
58 การเขียนโปรแกรมกาษา c ขั้นพืนฐาน การกำทินดค่าคงที่ด้วยคำสั่ง const  const (มาจากคำว่า constant) จัดเป็นคำสงวนอีกอันหนึงของภาษา c ใช้สำหรับกำหนด  ค่าคงที่ในรูปแบบดังนี้  const ชนิดข้อมูล เชื่อค่าคงที่  ค่าที่กำหนด; ต้องระบุคำว่า const นำหน้าเพื่อบ่งชี้ว่าเป็นค่าคงที่ ต้องกำหนดชนิดข้อมูลเช่นเดียวกับการประกาศตัวแปร การตั้งชื่อค่าคงที่ใช้หลักเกณฑ์เดียวกับการตั้งชื่อตัวแปร และโดยทั่วไปเรานิยมตั้งชื่อ  ค่าคงที่โดยเขียนเป็นตัวพิมพ์ใหญ่ทั้งหมด (แต่ไม่ใช่ข้อบังคับ) เช่น pi, vat, max value เป็นต้น  ทั้งนี้ก็เพื่อให้ต่างจากตัวแปรนั่นเอง ต้องกำหนดค่าให้กับมันในขันตอนการประกาศทันที จะกำหนดค่าในภายหลังเหมือน กับตัวแปรไม่ได้ และค่าที่กำหนดต้องสอดคล้องกับชนิดข้อมูลเช่นเดียวกับตัวแปร  เราไม่สามารถแก้ไขค่าคงที่ในภายหลังได้ (ต้องใช้ค่านั้นไปตลอด)  แนวทางการกำหนดค่าคงที่ด้วย const เช่น const float pi 3.141 ; const short maximum 500 : const int first  value  last val ue 100 ; const double  lat a 23456  lon 100. 001234 : const char letter c. ลักษณะการกำหนดค่าคงที่ที่ไม่ถูกต้อง เช่น  const float pi; pi 3 . 141 ; ferror  ต้องกำหนดค่าในขันตอนการประกาศ . /จะกำหนดค่าในภายหลังไม่ได้ const short  maximum 500 ;  max imum 1000 ; ferron จะแก้ไขค่าในภายหลังไม่ได้ การกำทินดค่าคงที่ด้วยคำสั่ง define  define  เป็นคำสงวนอีกอันหนึ่งของภาษา c ซึงในการสร้างนิยาม หรือข้อกำหนดบาง อย่าง (เรียกว่า มาโคร) รวมถึงการสร้างค่าคงที่กึเช่นเดียวกัน โดยในที่นี้จะกล่าวถึงเฉพาะกรณี
--- Page 59 ---
บทที 3 | ชนิดข้อมูลและตัวแปร 59 การกำหนดค่าคงที่เท่านั้น ส่วนในการใช้ define สำหรับกรณีการกำหนดมาโครจะกล่าวถึงในบทที่ 15 โดยการสร้างค่าคงที่ด้วย define จะใช้รูปแบบดังนี้  #define เชื่อค่าคงที่ ค่าที่กำหนด  #define  เป็นการบ่งชี้ว่าเราจะใช้กำหนดค่าคงที่  โดยต้องมีเครื่องหมาย #  กำกับที่ ข้างหน้า define (ลักษณะเช่นนี้เรียกว่า preprocessor ซึ่งจะได้เรียนรู้ใไนบทที่ 15) ไม่ ต้องระบุชนิดข้อมูล การตั้งชื่อค่าคงที่ ก็ใช้หลักการเดิม  (คล้ายกับ const) ไม่ ต้องใช้เครืองหมาย  เพื่อกำหนดค่า ก่อนกำหนดค่า ให้เว้นช่องว่างอย่างน้อย a ช่อง  ค่าที่กำหนดจะเป็นข้อมูลชนิดใดก็ได้ แม้กระทั่งสตริง(ข้อความ) โดยหากเป็นข้อมูล ชนิดตัวเลขหรืออักขระ ก็ใช้หลักการเดิม แต่หากเป็นสตริง (อักขระมากกว่า 1 ตัว) บ  ให้กำหนดด้วยเครื่องหมาย  เทานัน ไม่ ต้องใช้เครื่องหมาย เพือปิดท้ายคำสัง ะ โดยทั่วไปการกำหนดคงที่ด้วย define มักนำไปใช้ร่วมกันตลอดทั้งโปรแกรม เดังนั้น เรา นิยมกำหนดไว้ก่อนฟังก์ชัน main( ) หรือถัดจากส่วน include นันเอง แต่ไมใช่ข้อบังคับ เนื่องจากในกรณีนี้` เราไมได้กำหนดชนิดข้อมูลของค่าคงที่ แต่ชนิดข้อมูลจะขึ้นกับค่าที่  เรากำหนดให้กับมัน เช่น ถ้าเรากำหนดเป็นเลขจำนวนเต็ม ค่าคงที่นั้นภก็อาจเป็นชนิด ะู int ชึ่งมันจะส่งผลเมื่อเรานำค่าคงที่นั้นไปใช้งาน ทั้งนี้หากไม่สอดคล้องกับชนิดข้อมูล ที่มันจัดเก็บเอาไว้ ก็อาจเกิดข้อผิดพลาดขึ้นได้ แนวทางการกำหนดค่าคงที่ด้วยคำสั่ง define เช่น # include <stdio.h>  #define pi 3 .14159 #define  lucky_ number 13 #define  letter c  #define procram_ name  bus iness  managenent #define verston 1 d.1 void  main() ii
--- Page 60 ---
6o การเขียนโปรแกรมกาษา c ขั้นพืนฐาน  แนวทางการกำหนดค่าคงที่ด้วยคำสัง define ที่ไม่ถูกต้อง เช่น  #define float pi 3 .14159 ferror ไม่ต้องระบุชนิดข้อมูล  #define  lucky  number 13 ferror ไม่ต้องใช้เครื่องหมาย  #define letter c ferror ไม่ต้องปิดท้ายค้วย #define procram  name ferror ต้องกำหนดค่าให้มันทันที  สิ่งสำคัญที่เราได้เรียนรู้ไนบทนี้ก็คือ  ชนิดข้อมูลพื้นฐานในภาษา c และขอบเขตของมน พร้อมกับการนำชนิดข้อมูลเหล่านั้นมาใช้ในการประกาศตัวแปร  รวมถึงการกำหนดค่าให้กับมัน ซึ่งสิ่งเหล่านี้ต้องสอดคล้องกัน เช่น  หากเป็นตัวแปรชนิด  short  ก็ต้องกำหนดค่าที่เป็นเลข จำนวนเต็ม ที่อยู่ระหว่าง -32768 ถึง 32767 เป็นต้น  ตลอดจนการสร้างค่าคงที่ด้วย  const และ  define ที่จะต้องใช้ค่านั้นไปตลอด  จะเปลี่ยนแปลงในภายหลังไม่ได้  ซึ่งทั้งหมดนี้ถือเป็น หลักการที่เราต้องคำนึงถึงและนำไปใช้งานอยู่ตลอดในการเขียนโค้ดภาษา c
--- Page 61 ---
สตริง ฺกาธธับและแสดงผลข้อมูล นบทนี้สิ่งที่เราจะได้เรียนรู้คือ ข้อมูลชนิดอักขระ สตริง รวมถึงการรับและแสดงผลข้อมูล  ในลักษณะต่างๆ  ซึ่งถือเป็นพื้นฐานที่สำคัญยิ่งของภาษา c. เพราะสตริงเป็นข้อมูลหลัก ะู ที่ถูกใช้งานบ่อยที่สุด และการแสดงผลก็ต้องทำควบคู่กันไปตลอด ดังนั้น เราควรศึกษาทั้ง 2 เรื่องนี้ ให้เกิดความเข้าใจที่ดีพอในระดับหนึ่ง มิฉะนั้นอาจเกิดปัญหาในการเรียนรู้เรื่องต่อตไปได้  อักขระและสตริง  เราได้ทราบไปแล้วว่า ข้อมูลชนิด char จะจัดเก็บอักขระเพียงตัวเดียว โดยกำหนดอักขระ ไว้ในเครื่องหมาย เท่านั้น เช่น char letter1 a char letter2 c. char nl  in` /*  เn จัดเป็นอักขระ 1 ตัว */ หากเราต้องการแสดงข้อมูลชนิดอักขระ วิธีที่ง่ายที่สุดคือใช้ฟังก์ชัน putchar() ทั้งนี้ เรา จะใช้ฟังก์ชัน puts( ) ไม่ได้ และหากจะใช้ printf( ) เต้องมีการจัดรูปแบบซึ่งจะกล่าวถึงในภายหลัง โดยแนวทางการแสดงอักขระด้วยฟังก์ชัน putchar( ) เช่น char vowe11 a char vowel2 e putchar vowe11) ; putchar( เn") . เขื้นบรรทัดไหม่ putchar( vowe12 ) ; puts( vowe11) ferror printf( vowe12 ) ferror (ต้องจัดรูปแบบ) 
--- Page 62 ---
62 การเขียนโปรแกรมกาษา c ขั้นพืนฐาน อย่างไรก็ตาม ฺในการใช้งานจริงนั้น ข้อมูลส่วนใหญ่มักประกอบด้วยอักขระมากกว่า 1 ตัว ที่จัดเรียงต่อเนื่องกันในรูปแบบของข้อความหรือสตริง (string) แต่ในภาษา c. ไม่มีชนิดข้อมูล  สำหรับใช้กับสตริงโดยตรงเหมือนที่มีในหลายๆ ภาษา โดยเราต้องจัดการสตริงบนพื้นฐานของ ข้อมูลชนิด char ตามหลักการที่ว่า สตริง เป็นการนำอักขระมาจัดเรียงต่อเนืองก้นไปตามลำดับ หรือกล่าวอีกอย่างได้ว่า  สตริง t ha l l a.  n d ข้อมูลชนิดอักขระ เช่น  คำว่า thailand หรือ h e iio w .o.  hello world เกิดจากการนำอักขระมาจัดเรียงต่อ เนื่องกันดังภาพ ความจริงแล้ว ชุดข้อมูลที่มีการจัดเรียงตามลำดับดังกล่าว เราเรียกว่า อาร์เรย์ ( array) ซึ่ง เป็นเนื้อหาของบทที่ 10 แต่หากกล่าวถึงในแบบอาร์เรย์ ก็เกรงว่าผู้อ่านจะสับสน ดังนั้น จะแทน ด้วยคำว่า "ชุดข้อมูล" ไปก่อน โดยใช้พื้นฐานเพียงบางส่วนของอาร์เรย์เท่านั้น ซึ่งในภาษา c จะ จัดการกับข้อมูลประเภทสตริงในแบบชุดอักขระ ด้วยวิธีการดังต่อไปนี้ สร้างตัวแปร โดยระบุชนิดข้อมูลเป็น char เพราะเป็นอาร์เรย์ของอักขระ กำหนดตัวแปร พร้อมขนาด (จำนวนอักขระ) ที่มีได้สูงสุดสำหรับสตริงที่จะจัดเก็บใน ตัวแปรนั้น โดยระบุตัวเลขไว้ในวงเล็บ [] ต่อท้ายชื่อตัวแปร เพื่อเป็นการจองพื้นที่ใน การจัดเก็บข้อมูล ต้องกำหนดค่าที่เป็นสตริง (ใช้เครื่องหมาย ") ให้กับตัวแปรในขันตอนประกาศทันที  จะกำหนดค่าในภายหลังไม่ได้ char name[30]  john snith" char address[150 ] "london  uk char enai1[80]  johncexample com career[30]  programmer ถ้าเราไม่ต้องการระบุขนาดหรือจำนวนอักขระไว้แบบตายตัว ยังมีวิธีที่ยืดหยุ่นกว่าคือ ไม่ต้องกำหนดตัวเลขลงไป  โดยให้มีเพียงวงเล็บ [] ว่างๆ  ซึ่งกรณีนี้  เราจะกาหนด  สตริงที่มีความยาวเท่าไหร่ก็ได้ เช่น char  name[ ] john snith char address[ ] " london  uk char  emai1[ ]  johncexample con career[] "programner"  คือชุด
--- Page 63 ---
 บทที 4 | สตริง การรับและแสดงผลข้อมูล 63 นอกจากจะต้องกำหนดค่าในขันตอนการประกาศแล้ว เรายังไม่สามารถแก้ไขค่า  ในภายหลังได้อีกด้วย (เนื่องจากสตริงเป็นอาร์เรย์ ถ้าจะแก้ไขต้องใช้วิธีการแบบ  อาร์เรย์) นอกจากนี้ก็ยังไม่สามารถนำค่าจากตัวแปรหนึ่งไปกำหนดให้กับตัวแปรหนึ่ง  อีกด้วย (ให้ใช้ฟังก์ชัน strcpy( ) ที่จะกล่าวถึงในหัวข้อถัดไป) เช่น char text[100] ; text  hello  world" ferror ต้องกำหนดค่า /ในขันตอนการประกาศ char  nessage[200]  sawasdee thai  people  message  hello thai  people" ferror  แก้ไขค่าสตริงไม่ได้ char str1[] "i can c" : char str2[] str1: ferror  ใช้ strcpy( ) แทน ลักษณะการจัดเก็บข้อมูลที่แท้จริงของตัวแปรในแบบชุดอักขระคือ จะจัดเรียงอักขระ ต่อเนื่องกันไปตามลำดับ  และปิดท้ายด้วยสัญลักษณ์ '|0' เพื่อบ่งชี้ว่าเป็นจุดสิ้นสุด สตริง แต่อักขระตัวปิดท้ายนี้ ตัวแปลภาษาจะใส่ให้เราเอง โดยที่เราจะมองไม่เห็นมัน ถ้าเราระบุตัวเลขในวงเล็บ [] แสดงว่า จำนวนอักขระสูงสุดที่ตัวนั้นจัดเก็บในตัวแปร นั้นได้เท่ากับ (ตัวเลขที่ระบุ 1) t h a il a  n d l0 เนื่องจากตำแหน่งสุดท้ายต้อง h  e li wori d  l0  ใช้เก็บ lo เช่น char name[50] //จะเก็บได้สูงสุด 49  อักขระ char address[200] //จะเก็บได้สูงสุด 199 อักขระ char emai1[101] //จะเก็บได้สูงสุด 1oo  อักขระ หากเรากำหนดขนาดหรือจำนวนอักขระไว้ในวงเล็บ [] ต่อท้ายชื่อตัวแปร จะมีผลดังนี้ ถ้ากำหนดสตริงที่มีความยาวหรือจำนวนอักขระ เกินค่าที่ระบุ ฺจะเกิดข้อผิดพลาด หรือมีคำเตือน  แล้วแสดงผลเท่ากับจำนวนความยาวที่ระบุวงเล็บ  il และอาจมี  อักขระแปลกประหลาดมาต่อท้ายสตริง ถ้ากำหนดสตริงที่มีความยาวหรือจำนวนอักขระ  เท่ากับค่าที่ระบุ ฺจะไม่เกิดข้อผิด พลาด  แต่อาจมีอักขระแปลกประหลาดมาต่อท้ายสตริง ถ้ากำหนดสตริงที่มีความยาวหรือจำนวนอักขระ น้อยกว่าค่าที่ระบุ ฺจะไม่มีปัญหาใดฯ
--- Page 64 ---
64 การเขียนโปรแกรมกาษา c ขั้นพืนฐาน ช่องว่าง 1 ช่องเรานับเป็น 1  อักขระ ดังนั้น หากมี 5 ช่องว่างก็นับเป็น 5 อักขระ เราสามารถนำค่าจากตัวแปรแบบชุดอักขระไปแสดงผลด้วยฟังก์ชัน puts( ) และ printf( )  ได้โดยตรง  สำหรับแนวทางการใช้งานให้ดูจากตัวอย่างต่างๆ เดังต่อไปนี้` โดยตัวอย่างทั้งหมดในบทนี้ จะจัดเก็บไว้ที่ c:ic-langlchapter4 ซึ่งเราก็สร้างไฟล์ของแต่ละตัวอย่างตามที่ได้กล่าวไว้แล้วใน  บทที่ า ตัวอย่าง 4-1 การกำหนดตัวแปรแบบชุดอักขระ เพื่อจัดเก็บข้อมูลแบบสตริง พร้อมแนวทาง การแสดงผล # include  <stdio.h> void  main() char firstname [ ] "elon  lastname [ ]  musk address1 []  palo alto california address2 [ ]  united states of  america enail[] "elon_muskcexample con career[ ] tesla &  spacex ceo" printf(  inname: ) printf  firstname) printf( ) ; printf( lastname ) putchar( in" ); printf( career: " ) ; printf{ career)  jana: elon nusk putchar( เn")  cangen: tesla  & spacex ceo ตัวอย่าง 4-2 เป็นการทดสอบว่า หากเรากำหนดสตริงให้มีขนาดหรือจำนวนอักขระต่างจาก  ค่าตัวเลขที่กำหนดไว้ในวงเล็บ [] จะส่งผลอย่างไร # include sstdio. h>  void  main( ) .. char str1[10] 1234567890123": //ยาว 13 char str2[10] 1234567890" //ยาว 1o char str3[10] 1234578" //ยาว 8
--- Page 65 ---
 บทที 4 | สตริง การรับและแสดงผลข้อมูล 65 printf( st^1 => " ) ;  printf(str1);  putchar( เn" ) ; printf( st^2 ==> " ) ;  printf(str2 ); putchar( เn" ) ; printf( st^3 ==> " ) ;  printf(str3);  putchar( เn" ); c: ic  lang>ed c: ie iangichapter4| &&  gcc  example4 2.c .0 exanple4-2 83 c:le. examnp1e4-2,6: in function main  examp1e4-2.๕:4:21: warning: initializer string for array of chans is too char str1[1o] '1234567399123 istrl ==> 12345678935 str2 ==> 1234567898123456789081 str3 ==) 1234578 การกำทินดและแก้ไขค่าของตัวแปรสตริง  จากที่ได้กล่าวไปในหัวข้อที่แล้ว จะพบปัญหาบางอย่างคือ เราต้องกำหนดค่าให้กับตัวแปร แบบสตริง  ( ชุดอักขระ) ตั้งแต่ขั้นตอนการประกาศ  และนอกจากนี้กึยังแก้ไขค่าในภายหลังโดย การกำหนดค่าใหม่แทนที่ค่าเดิมโดยตรงไมได้ ซึ่งเป็นปัญหาสำคัญที่เราจำเป็นต้องรู้วิธีการแก้ไข เพราะในบางครั้งเราไม่สามารถกำหนดค่าตัวแปรเอาไว้ล่วงหน้าแบบตายตัวได้ นอกจากนี้ ในบาง สถานการณ์ เราจำเป็นต้องเปลี่ยนแปลงค่าของตัวแปรแบบสตริงจากค่าหนึ่งไปเป็นอีกค่าหนึ่ง เพื่อ ให้สอดคล้องกับเงื่อนไขในแต่ละขณะ ซึ่งเป็นสิ่งที่เกิดขึ้นอยู่บ่อยครั้ง สำหรับแนวทางการแก้ไข  ปัญหาดังที่กล่าวมา ฺสามารถใช้ฟังก์ชันที่จะกล่าวถึงดังต่อไปนี้ การใช้ฟังก์ชัน strcpy()  ฟังก์ชัน  strcpy() มาจากคำว่า string copy ตามปกติเราจะใช้ฟังก์ชันนีในการคัดลอก  สตริงที่ระบฺหรือค่าจากตัวแปรหนึ่ง แล้วนำมากำหนดค่าให้กับอีกตัวแปรหนึ่ง โดยใช้รูปแบบดังนี้ strcpy( ตัวแปรสตริง สตริงที่จะคัดลอก long ^..
--- Page 66 ---
66 การเขียนโปรแกรมกาษา c ขั้นพืนฐาน บ  ฟังก์ชัน strcpy( ) อยู่ในเฮดเดอร์ string.h ดังนัน เราจำเป็นต้องอ้างอิงด้วย include ก่อนการใช้งาน เราต้องประกาศตัวแปรสตริงที่จะใช้จัดเก็บสตริงที่คัดลอกมา เอาไว้ล่วงหน้า  สตริงที่จะคัดลอกมา อาจกำหนดค่าโดยตรง ฺหรือจะเป็นค่าที่จัดเก็บอยู่ในตัวแปรอื่นต  ก็ได้ (ระบุเชื่อตัวแปรนั้นลงไปแทนสตริงที่จะคัดลอก) ถ้ามีข้อมูลที่จัดเก็บตัวแปรนั้นเอาไว้อยู่ก่อนแล้ว ข้อมูลจะถูกแทนที่ด้วยค่าสตริงใหม่ char str[100]; strcpy(str  "hello world"); iistr "hello  horld" char greeting[20]  sawasdee char  msg[] "hello strcpy igreeting, nsg) igreeting  hello" ข้อควรระวังคือ ขนาดของตัวแปรสตริง ต้องสามารถรองรับ (มีขนาดมากกว่า) สตริง ใหม่ที่จะคัดลอกไป  มิฉะนั้นสตริงอาจถูกคัดลอกไปเพียงบางส่วนเท่าที่เป็นไปได้ หรือ ไม่เกินขนาดของตัวแปร  หรือสตริงอาจถูกคัดลอกไปทั้งหมดแต่มีคำแจ้งเตือนเมื่อ รันโค้ด โดยลักษณะเช่นนี้อาจขึ้นกับตัวแปลภาษา c ที่เราใช้ประมวลผล เช่น char str[5] ; strcpy(str  hello  world" ): /ต้วแปร str ควรเก็บคำว่า hell //เท่ากับขนาด [5 1] แต่ตัวแปลภาษา c บางอัน //อาจคัดลอกไปได้ทั้งหมด  และมีคำแจ้งเตือน เพื่อหลีกเลี่ยงปัญหาดังที่กล่าวมานี้ ตหากตัวแปรใด ที่เราจะใช้รองรับสตริงที่แก้ไขค่าได้ ในภายหลัง ควรกำหนดขนาดเผื่อเอาไว้ให้ใหญ่พอสมควร ซึ่งสามารถรองรับข้อความ ที่ยาวซ ได้  จากทีกล่าวมา จะเห็นว่า ฟังก์ชัน strcpy( ) สามารถแก้ไขปัญหาได้ทั้งกรณีที่เราไม่สามารถ กำหนดค่าตัวแปรแบบสตริงไว้ล่วงหน้าตั้งแต่ขั้นตอนการประกาศ  และกรณีการเปลี่ยนแปลงค่า ของตัวแปรในภายหลัง ชึ่งขอให้ดูเพิ่มเติมจากตัวอย่างต่อไปนี้ ที่ระบุ
--- Page 67 ---
 บทที 4 | สตริง การรับและแสดงผลข้อมูล 67 ตัวอย่าง 4-3 การกำหนดและเปลี่ยนแปลงค่าของตัวแปรด้วยฟังก์ชัน strcpy( ) # include <stdio.h> # include <string.h> void  main( ) { char str1[100] ; char str2[100] putchar( in" ); strcpy( str1 can you see? ): printf( st^1 "); printf(str1); putchar( " in" ); strcpy( str2 "yes i can c" ); printf( "str2 " ) ; str1 can  you str2 i can  c printf(str2); putchar( " in" ); การใช้ฟังก์ชัน strcat()  strcat( ) มาจากคำว่า string concatenate ใช้ในการนำสตริงใหม่มาต่อท้ายกับสตริงเดิม ที่จัดเก็บในตัวแปร (กรณีของฟังก์ชัน strcpy จะเป็นการแทนที่) โดยใช้รูปแบบดังนี้ strcat ( ตัวแปรสตริง  สตริงที่จะนำไปต่อท้าย ะู strcat( ) อยู่ในเฮดเดอร์ string.h เช่นเดียวกับ strcpy( ) ดังนัน จึงต้องอ้างอิงไฟล์ นี้ด้วย include จึงจะใช้งานได้  หลักการต่างๆ ของ strcat( ) ทั้งตัวแปรสตริง และสตริงที่จะนำไปต่อท้ายก็พิจารณา ในแนวทางเดียวกับ strcpy( ) เช่น char str[50] he1lo strcat (str.  wornld" ); iistr  hello worla" char nsg[100] ; strcat (nsg, " sawasdee" ); . insg " sawasdee see? yes,
--- Page 68 ---
68 การเขียนโปรแกรมกาษา c ขั้นพืนฐาน char  a[1oo] "be better than char b[] that you can be strcat (a., ); strcat (a., b) ; fa "be better than that you can be ตัวอย่าง 4-4 การกำหนดและเชือมต่อค่าของตัวแปรด้วยฟังก์ชัน strcat( ) # include <stdio.h> # include <string.h> void nain() เ char str[1oo]  happy strcat (str "); strcat (str. new year ); puts(str) ; i  /happy new year strcpy( str  happy ) strcat (str birthday" ) (str);  /happy birthday อักขระพิเศษ (escape sequence)  อักขระบางตัว ไม่มือยู่บนปุ่มคีย์บอร์ด หรืออักขระบางตัว เราจะเขียนลงในสตริงโดยตรง ไม่ได้ เพราะถูกใช้เป็นข้อกำหนดบางอย่างในภาษา c. ดังนัน จึงมีการกำหนดสัญลักษณ์พิเศษ เพื่อใช้แทนอักขระเหล่านี้ โดยสัญลักษณ์ดังกล่าวจะขึ้นต้นด้วยเครื่องหมาย เi แล้วตามด้วย  อักขระอื่นฯ เพื่อให้มีความหมายหรือวัตถุประสงค์ที่แตกต่างกันออกไป  ซึ่งเราเรียกสัญลักษณ์ หรืออักขระพิเศษในกลุ่มนี้ว่า  escape  sequence  โดยตัวที่น่าสนใจขซึ่งเรามีโอกาสได้นำไป  ใช้งานอยู่บ่อยต มีดังนี้ อักขระ คำอธิบาย in  new line ขึ้นบรรทัดใหม่ ดังที่เราเคยใช้กันมาแล้ว la  alert ให้มีเสียง beep 1 ครั้ง lb  backspace เลื่อนเคอร์เซอร์ย้อนกลับไป 4  ตำแหน่ง ir  carriage return เลื่อนเคอร์เซอร์ไปที่ตำแหน่งเริ่มต้นบรรทัด puts
--- Page 69 ---
 บทที 4 | สตริง การรับและแสดงผลข้อมูล 69 อักขระ อ คำอธิบาย  it  horizontal tab เว้นระยะในแนวนอนเท่ากับ 1 แท็บ  single quote แสดงเครื่องหมาย double quote แสดงเครื่องหมาย |?  question mark แสดงเครื่องหมาย ? backslash แสดงเครื่องหมาย ตัวอย่าง 4-5  แนวทางการใช้อักขระพิเศษที่น่าสนใจบางอันเพื่อแสดงผลลัพธ์คล้ายกับตาราง โดยจะแทรกอักขระเหล่านี้ลงในสตริงที่แสดง  evolution  of  "c" language ผลด้วย printf( )  language year created  creator  bcpl 1967 hartin richards # include <stdio.h> 1978 ken  tnompson 1972 dennis ritchie void  main( ) printf(  inevolut ion of u"ci  language เnwn" ) ; printf( " language ityear  createditcreatorin"); printf( เn" ): printf(  bcpl it it1967at |tmartin richards in" ); printf( "butut1970ut ltken thompson in" ); printf( "citit1972nt 1 tdennis ritchiewn") ; กาธรจัดรูปแบบสตริงสำทิธับแสดงผล ที่ผ่านมานั้น  เราได้เรียนรู้ไปแล้วว่า ฟังก์ชันพื้นฐานที่ใช้แสดงผลข้อมูลแบบสตริงก็คือ puts( ) และ printf( ) โดยที่ puts( ) ใช้แสดงสตริงที่กำหนดเอาไว้อย่างแน่นอน ในขณะที่ printf( ) สามารถแสดงได้ทั้งสตริงที่มีกำหนดค่าไว้อย่างแน่นอนและสตริงที่มีการจัดรูป แบบ ด้วยเหตุดัง กล่าว เราจึงอาจพบเห็นการใช้ printi( ) ได้มากกว่า puts( ) และในหัวข้อนี้ เราจะมาเรียนรู้วิธีการ  จัดรูปแบบสตริงที่จะแสดงผลด้วยฟังก์ชัน printi( ) ซึ่งถือเป็นลักษณะพื้นฐานที่สำคัญอีกอย่างหนึ่ง ของภาษา c โดยมีรายละเอียดดังต่อไปนี้
--- Page 70 ---
70 การเขียนโปรแกรมกาษา c ขั้นพืนฐาน การจัดรูปแบบในเบื้องตันสำทิรับ printf( ) บางครั้ง  สตริงหรือข้อความที่เราต้องการแสดงผลไม่สามารถกำหนดให้ครบสมบูรณ์ เอาไว้ล่วงหน้าได้ แต่อาจต้องนำข้อมูลจากที่อื่น ตมาเติมลงไปด้วย เพื่อให้สอดคล้องกับเงื่อนไข ในแต่ละขณะ เช่น คำว่า name is from and i'm  years old. จากข้อความ ส่วนที่เป็นขีดล่างซึ่งเว้นเอาไว้นั้นคือ ที่เราจะนำมาเติมลงไปในประโยคนี้ บ แต่อย่างไรก็ตาม  ถ้า สิ่งที่จะนำมาเติมอาจเป็นไปได้หลากหลาย  ครั้นเราจะใช้วิธีการนำสตริง และข้อมูลมาเชื่อมต่อกัน ก็จะยุ่งยากจนเกินไป ดังนั้น ฺในภาษา c จึงมีวิธีการแทรกข้อมูลลงใน สตริง ก่อนจะแสดงผลด้วย printf( ) แต่อย่างไรก็ตาม เนื่องจากข้อมูลที่จะแทรกสามารถเป็นไป  ได้หลายชนิด เช่น เลขจำนวนเต็ม ฺทศนิยม ฺอักขระ หรือ สตริง (ชุดอักขระ) ซึงข้อมูลแต่ละชนิด จะใช้วิธีดำเนินการที่แตกต่างกัน ดังนั้น  เพื่อให้ตัวประมวลผลสามารถจัดเตรียมวิธีการที่ถูกต้อง และสอดคล้องกับชนิดข้อมูลที่จะแทรก  เราต้องบอกให้มันรู้ล่วงหน้าว่าเราจะแทรกข้อมูลชนิดใด ลงไป โดยแทนข้อมูลแต่ละชนิดด้วยสัญลักษณ์ดังต่อไปนี้ สัญลักษณ์ ความหมาย %c  (char) สำหรับค่าทีเป็นอักขระตัวเดียว %d  (decimal)  สำหรับค่าที่เป็นเลขจำนวนเต็มทุกชนิด  (ยกเว้น long long) %e  (exponential) สำหรับแสดงตัวเลขแบบวิทยาศาสตร์ เช่น 1.23e4 %f  (float) สำหรับเลขทศนิยมทังชนิด float และ  double ซึ่งโดยทั่วไป  ผลลัพธ์ที่แสดง จะเป็นเลขที่มีทศนิยม 6 ตำแหน่ง ดังนั้น อาจมีการเติมเลข d ต่อท้ายให้ทศนิยมครบ 6 ตำแหน่ง แต่ถ้าเป็นเลขที่มีทศนิยมเกิน 6 ตำแหน่ง จะตัดให้เหลือแค่ 6 ตำแหน่ง %0.?f  (float) สำหรับเลขทศนิยมทั้งชนิด float และ double โดยให้ ? แทนตัวเลขที่ใช้กำหนด  จำนวนตำแหน่งทศนิยม  เช่น %0.3f หมายถึง ให้มีทศนิยม 3 ตำแหน่ง (อาจมีการปัด  ค่าของตัวเลข)  สำหรับแสดงตัวเลขที่คล้ายกับ %e หรือ %f ในแบบที่สั้นที่สุด  กรณีที่เป็นเลขทศนิยม และต้องการให้แสดงผลลัพธ์ตรงกับค่าจริง(ไม่เติม  o ต่อท้ายทศนิยม  ผู้เขียนแนะนำ ใช้ %g แทน %{) %s  (string) สำหรับค่าที่เป็นสตริง %% แสดงเครื่องหมาย % my  ข้อมูล %g
--- Page 71 ---
 บทที 4 | สตริง การรับและแสดงผลข้อมูล 71 สัญจักษณ์ ความหมาย %lld  (long long) สำหรับค่าที่เป็นเลขจำนวนเต็มชนิด long long  %hu  สำหรับค่าที่เป็นเลขจำนวนเต็มชนิด short (ใช้ %d แทนไค้) รูปแบบโดยทั่วไปของฟังก์ชัน printi() ที่มีการจัดรูปแบบสตริงคือ printf( "สตริงที่จัดรูปแบบ'  ค่าที่_1 ,  ค่าที่_2  ค่าที่_3  สตริงที่จะจัดรูปแบบ เก็คือสตริงที่เราจะแสดงผล  ซึ่งภายในสตริงนั้น จะมีสัญลักษณ์ ตามชนิดข้อมูลที่จะนำมาแทรกปะปนอยู่ด้วย โดยวางตำแหน่งสัญลักษณ์ ?ให้ตรงตาม ที่ต้องการแสดงผล  ค่าที่_1, ค่าที่_2, คือค่าที่เราจะนำไปแทรกลงในสตริง โดยเรียงลำดับให้ตรงกับลำดับ  สัญลักษณ์ที่วางไว้ในสตริง และชนิดข้อมูลต้องสอดคล้องกับสัญลักษณ์ มิฉะนั้น อาจ ได้ผลลัพธ์ที้ไม่ถูกต้อง หรือบางกรณีอาจเกิดข้อผิดพลาด  printf(" .%? %? %? value1, value2, value3) แนวทางการใช้สัญลักษณ์เพือแทรกข้อมูลในเบืองต้น เช่น printf( %d" 12345 ) ; //12345 printf( "%f" 123 456 ) //123.456000 printf( "%g 123 456 ) //123.456 printf( "i can %c c" ); iii can c. printf( "%s i can c" ); char color[] ned" printf( "my car is %s  color); . imy car is red char  happy[ ]  happy  %s printf( happy.,  birthday" ) .  /happy birthday printf( happy.,  new year") ihappy  new  year
--- Page 72 ---
72 การเขียนโปรแกรมกาษา c ขั้นพืนฐาน ในสตริงเดียวกัน ฺสามารถแทรกสัญลักษณ์ได้มากกว่า1 ตำแหน่ง ปะปนอยู่ในสตริง รวม ถึงอาจมีการคำนวณข้อมูลก่อนนำไปแทรก ซึ่งขอให้ดูเพิ่มเติมจากตัวอย่างดังต่อไปนี้ ตัวอย่าง 4-6  แนวทางการจัดรูปแบบ the  lucky number is 13  สตริงสำหรับฟังก์ชัน  printf( ) โดยแทรก at (f) 3. 141e93 วt (8.2*) 3 .14 วt (g) 3 . 141 สัญลักษณ์หลายๆ แบบไว้ในสตริงเดียวกัน hi t'm dennis ritchie, creator of c language  khun banchar please contact counter number  happy new year # include <stdio.h>  happy birthday void main() printf( " inthe  lucky  nunber is %d" 13 ) printf( " inpi (f) %f" 3. 141 ) ; printf(  inpi (0.2f) %0 .2f" 3 .141) ; printf(  inpi (g) %g 3 . 141 ) ; printf( " inhi in %$  %$ ; creator of %c  language  dennis "ritchie" c" ); printf(  inkhun %s  please  contact  counter nunber %d banchar 5 ) ; char  word[100]  inhappy  %s char ny[]  new year." char bd.[] "birthday in" printf( word., ny.) : printf( word bd.) ตัวอย่าง 4-7 การจัดรูปแบบสตริง โดยค่าที่นำไปเติม ฺจะได้จากการคำนวณแบบง่ายๆ เซึ่ง  กำหนดไว้ที่ฟังก์ชัน printf( ) ก่อนนำไปแทรกลงในสตริง # include <stdio.h> 1o 2e 3o # include  <string. h> t was  born in year  zoe8 and currant year is 2823 so i"m 23 years old void  main( ). printf( " in%d %d %din" 1o 20 , ( 10 20 ) ) ; int  year_born 2000 : int  current _year 2023 : char str[200]  ini was born in year. %d
--- Page 73 ---
 บทที 4 | สตริง การรับและแสดงผลข้อมูล 73 strcat (str,  inand current year is %d" ) ; strcat (str  inso i ก %d  years oldin" );  printf(str  year born  current _year  (current _year  year born) ); การกำหินดความกว้างของสตริง ะู ตามปกตินั้นขนาดความกว้างของสตริงที่แสดงผล จะเท่ากับจำนวนอักขระในสตริงนั้น แต่ บางครั้งเราต้องการจัดรูปแบบโดยให้ความกว้างของพื้นที่แสดงผลมีขนาดแน่นอน  เช่น การแสดง ผลแบบหลายบรรทัดและหลายคอลัมน์คล้ายกับตาราง ภก็สามารถจัดแนวข้อความ ให้ตรงหรือให้ =ู้ เยื้องตามต้องการได้ โดยการกำหนดความกว้างของสตริง จะใช้รูปแบบพื้นฐานดังนี้ %พอักขระของชนิดข้อมูล  ในที่นี้ จะให้ w แทนเลขจำนวนเต็ม เซึ่งใช้ระบุขนาดความกว้างที่ต้องการ  อักขระของชนิดข้อมูล ก็ขึ้นกับชนิดข้อมูลที่เราจะนำมาแทรกลงในสตริง ดังที่กล่าวไป ในหัวข้อที่แล้ว เช่น %5d, %7s หรือ %10f หากข้อมูลที่นำมาแทรกมีจำนวนอักขระ น้อยกว่า ขนาดความกว้างที่ระบฺุสตริงจะถูก  จัดชิดขวา (มีช่องว่างทางด้านช้ายเกิดขึ้นตามจำนวนอักขระที่ต่างกัน) หากข้อมูลที่นำมาแทรกมีจำนวนอักขระ มากกว่า ขนาดความกว้างที่ระบฺุข้อมูลจะถูก นำมาใส่ลงไปจนครบทุกอักขระโดยไม่เกิดข้อผิดพลาดใดๆ  สำหรับแนวทางการใช้งานในเบื้องต้น จะเปรียบเทียบให้เห็นลักษณะการจัดวางตำแหน่ง  อักขระเมื่อเทียบกับความกว้างที่ระบุ printf( "%10$ thailand" ). . /ให้พื้นที่แสดงผลมีความกว้าง 10  อักขระ iiแต่คำว่า thailand มีเพียง 8  อักขระ /จ๋งจัดชิดขวา (มีช่องว่างด้านช้าย) th a printf( "%7d" 1234 ) ; 1   2   3 4 printf( %5f" 12 .345 ) 2 3   4    5 |  0 o 0
--- Page 74 ---
74 การเขียนโปรแกรมกาษา c ขั้นพืนฐาน จากกรณีทีจำนวนอักขระของข้อมูลทีนำมาแทรกน้อยกว่าความกว้างทีระบฺุสตริงจะถูก  จัดชิดขวา แต่หากเราต้องการให้ชิดซ้าย ก็ใส่ เครืองหมายลบ (-) ข้างหน้าความกว้าง แบบ % - พอักขระของชนิดข้อมูล printf( %- 10s "thailand" ); t n a printf("%-7d" 1234 ) 1 2  3   4 กรณีที่เป็นเลขทศนิยม  (f) ถ้าเราไม่ระบุจำนวนตำแหน่งทศนิยมฺฺมันจะปรับให้มีทศนิยม 6  หลัก ดังโค้ดและภาพก่อนนี้  แต่เราสามารถกำหนดให้มีจำนวนทศนิยมตามต้องการได้โดยใช้ %w. ?f หรือ %-w. ?f (จัดชิดซ้าย) เมือ ?  คือตัวเลขซึ่งแสดงจำนวนตำแหน่งทศนิยมที่ต้องการ  หรือถ้าต้องการจัดชิดซ้าย ก็ใส่ เครื่องหมายลบข้างหน้าความกว้าง อย่างไรก็ตาม  เค่าที่แสดงผลออกมา  ฺอาจถูกปัดเศษให้ สอดคล้องกับจำนวนตำแหน่งทศนิยมที่ระบุเหมือนเช่นเคย ดังแนวทางต่อไปนี้ printf( "%10 .2f1n" 12345. 678 ) 2   3 4   5 6 8 printf( %-10.2f1n 12345.678 ) ; 1   2   3   4    5  6    8 printf( %10.2f" 12345.678 ) 1 2  3   4   5 6 8 หรือในกรณีที่เป็นตัวเลขจำนวนเต็ม บางครั้งเราต้องการแสดงผลโดยให้มีตัวเลขครบตาม  จำนวนที่ต้องการ โดยส่วนใหญ่เราจะใช้วิธีเติม 0 ข้างหน้า เช่น ถ้าต้องการเลข 3 หลัก แต่ค่าที่  ได้คือ 7 ก็อาจเติม 0 ข้างหน้าเป็น oo7 เป็นต้น  ซึ่งก็อาจกำหนดรูปแบบดังนี้ (ให้ w คือตัวเลขที่ ใช้ระบุความกว้างหรือจำนวนหลักทีต้องการ)  %owd หรือ %ow1 int code 7; int d 9. m .. 7, y. 2023 ; printf{ "%03d"  code) //007 printf( %02d/%02d/%04d" d., i . y); /* 09/07/2023  ในรูปเ รูปแบบ
--- Page 75 ---
 บทที 4 | สตริง การรับและแสดงผลข้อมูล 75 ตัวอย่าง 4-8 การจัดรูปแบบสตริง โดยกำหนดความกว้างในลักษณะทีแตกต่างกัน # include <stdio.h> void  main() printf( " an%5d 555 ) printf( เn%-5d 555 ) printf(" mn%-5din" 555 ) ; printf("!n%10 .2f" 12345 . 6789 ) printf( !n%-10.2f" 12345. 6789 ) printf(" mn%10 .2f!n" 12345. 6789) char str[] "c language 555 555 printf( " mn%-1os str) ; -555 printf( " ไn%11$ st^) : 12345, 58 printf( 1n%12$ st^) 12345. 68 12345.68 printf(" mn%13s inin" str); c language char strf[] %1os1n" c language c language printf( strf 1" ) : c lang 4age printf( strf 2" ) ; printf( strf, 2  3" ) ; 12 12  3 printf( strf - 2  3  4" ) ; 123  4 printf( strf - 2  3  4  5" ); 1 2 3 4  5 ตัวอย่าง 4-9  แนวทางการกาหนดความกวาง  วroaacts list: ของสตริง เพือแสดงผลคล้ายตาราง item  name price  ybath)  storage  ( gd) iวhone 35 , dอ8 256 ipad 29, 899 123 # include <stdio.h>  nacsook 89,889 512 void main() i /รูปแบบ  (ความกว้าง) โดยแต่ละคอลัมน์เท่ากับ 15 . /คอลัมน์แรกเป็นข้อความให้ชิดข้าย  ( ให้ความกว้างติดลบ) //ส่วนคอลัมน์ถัดไปให้ชิดขวา เพราะเป็นตัวลข char fm[200] |%-15$%15$%15$ //หัวตาราง puts(  inproducts list: ") printf( fn "item  name price ybath)  "storage {gb ) " ) printf(  in-
--- Page 76 ---
76 การเขียนโปรแกรมกาษา c ขั้นพืนฐาน //แถวที่ printf(fm, iphone "35, 000" 256" ) ; //แถวที่ 2 printf(fm, ipad" 20, 000 128 ) : //แถวที่ 3 printf( fm,  macbook "80 , 000 "512" ) ; putchar( ): การอ่านค่าสตริงที่จัดรูปแบบด้วย sprintf() การใช้ฟังก์ชัน printf( ) ดังที่กล่าวมานั้น เป็นการแสดงสตริงผลลัพธ์ออกไปโดยตรง ฺซึ่ง  เราไม่สามารถนำสตริงดังกล่าวไปใช้งานอื่นตต่อไปได้  แต่นอกจากนี้ ยังมีฟังก์ชันที่มีหลักการ คล้ายคลึงกัน นั่นคือ sprintf( ) โดยมีรูปแบบดังนี้ sprintf ( ตัวแปรเก็บข้อมูล 'สตริงที่จัดรูปแบบ'  ค่าที่_1 ค่าที่ 2  ค่าที่_3 ชื่อฟังก์ชันนี้ จะขึ้นต้นด้วยตัว "s ดังนั้น อย่าสับสนกับอีกฟังก์ชันที่ชื่อ printf( ) สตริงที่จัดรูปแบบ  ก็เหมือนกับฟังก์ชัน printf( ) ซึงเราสามารถนำสัญลักษณ์การจัด รูปแบบมาใช้ได้ทั้งหมด  ค่าทีจะนำไปแทรก ก็ใช้หลักการเดียวกับฟังก์ชัน printf( ) เช่นเคย ตัวแปรเก็บข้อมูล ฟังก์ชัน sprintf( ) จะไม่แสดงผลออกไป แต่จะเก็บสตริงผลลัพธ์ที่ จู  ได้ (หลังการแทรกข้อมูล) ไว้ในตัวแปรนี้แทน จากนั้น หากเราจะนำสตริงไปใช้งาน ภก็ ทำผ่านตัวแปรนี้ นี่คือสิ่งที่แตกต่างจาก printf( ) จากที่กล่าวมา อาจสรุปความแตกต่างระหว่าง2 ฟังก์ชันนีได้ว่า printf( ) จะแสดงผลลัพธ์  ออกไปทันที ส่วน sprintf( ) จะเก็บผลลัพธ์ไว้ในตัวแปร ชึ่งในหัวข้อต่อตไป เราจะเห็นแนวทาง การนำไป sprintf( ) ไปประยุกต์ ใช้งานที่ชัดเจนขึ้น ส่วนแนวทางการใช้งานแบบพื้นฐาน ตัวอย่างต่อไปนี้  an  ให้ดูจาก
--- Page 77 ---
 บทที 4 | สตริง การรับและแสดงผลข้อมูล 77 ตัวอย่าง 4-10 การจัดรูปแบบสตริงด้วยฟังก์ชัน sprintf( ) เพือเก็บผลลัพธ์ไว้ในตัวแปร ก่อน นำไปใช้งานอื่นตฺต่อไป โดยในตัวอย่างนี้ จะแสดงให้เห็นแนวทางการเชื่อมต่อสตริงใหม่กับค่าเดิม ในตัวแปรคล้ายกับ strcat( ) แต่กรณีนี้ เราสามารถแทรกค่าตัวแปรได้ #include <stdio.h>  today is: 31/18/2923 tnas  วorn in year  zoae and  current year is 2923 void main( ) so i'm 23 years old char today[10];  sprintf( today.,  intoday %d/%d/%d" 31 , 10 , 2023) puts( today.) ; char str[200]  sprintf(str ini was born in year  %d' 2000) ;  sprintf(str %s inand current year is  %d" str, 2023 ) ;  sprintf(str %s inso i ii %d  years old in" str., ( 2023 2000 ) ) ;  puts( str); การจัดรูปแบบตัวเลขโดยมี  คันหิลักพัน ตัวเลขที่มีค่ามากตฺหากเราเขียนต่อเนื่องกันโดยไม่มีสัญลักษณ์ใดต มาคั่นระหว่างหลัก  อาจเกิดความยุ่งยากในการอ่านค่าตัวเลข  เช่น 387504244 หรือ 256520238014257 เป็นต้น ะู ดังนั้น เพื่อแก้ปัญหาตามที่กล่าวมา เราควรใช้เครื่องหมาย  เพื่อคั่นหลักพัน เช่น 387,504,244 หรือ 256,520,238,014,257 อย่างไรก็ตาม ฺในภาษา c ไม่มีสัญลักษณ์ที่ใช้สำหรับกรณีนี้โดยตรง แต่ยังมีทางเลือกที่ใช้ทดแทนได้ ชึ่งวิธีการที่ผู้เขียนจะแนะนำต่อไปนี้ สามารถใช้งานได้บนตัวแปล ภาษา gcc/mingw แต่ไม่แน่ใจว่าจะใช้ได้ผลกับตัวแปลภาษา c ของผู้สร้างรายอื่นตหรือไม่ โดยมี แนวทางดังนี  เพิ่มค่าคงที่ และอ้างอิงไฟล์เฮดเดอร์ locale.h โดยกำหนดโค้ดตามนี้ (กำหนดไว้ ก่อนเฮดเดอร์อื่นฯ)  #define  posix_c_source 200809l # include <locale h> ก่อนการแสดงผลตัวเลขที่จะคั่นหลักพัน ให้กำหนดคำสั่ง setlocale( ) ดังนี้ set locale ( lc all, ) : is:
--- Page 78 ---
78 การเขียนโปรแกรมกาษา c ขั้นพืนฐาน การแสดงผลตัวเลข ก็ใช้ฟังก์ชัน printf( ) ตามเดิม โดยกำหนดสัญลักษณ์ ดังนี้ (ต้อง เลือกให้สอดคล้องกับชนิดข้อมูล) %  d //สำหรับเลขจำนวนเต็ม %' f หรือ %"0.?f //สำหรับเลขทศนิยม  โดย ?  คือจำนวนตำแหน่งทศนิยม % g /สำหรับเลขทศนิยม ต้องใช้เครื่องหมาย  ซึ่งจะถูกเปลี่ยนเป็น เมือแสดงผล  หลักการอื่นซ เก็เหมือนกับที่เรากำหนดสัญลักษณ์สำหรับจัดรูปแบบให้กับฟังก์ชัน  printf( ) ตามปกตินันเอง แค่เพิ่ม เข้ามา  สำหรับแนวทางการใช้งาน ให้ดูจากตัวอย่างต่อไปนี้ได้เลย  เพราะใช้หลักการเดิมเป็น ส่วนใหญ่ ตัวอย่าง 4-11 การจัดรูปแบบตัวเลขโดยมี คันหลักพัน  #define  posix_c_source  200809|_ 12,345,678 987,654,321.357 # include <locale .h> #include <stdio.h> void  nain( ) { set locale ( lc all , กา ); int a 12345678 ;  double b 987654321 357 ; putchar(   in" ); printf( "a % d" a) ; putchar( in" ): printf( "b %"0. 31" b) ; putchar( in" ); กาธธับข้อมูลทางคีย์บอร์ด ที่ผ่านมานั้น เรากำหนดข้อมูล ฺหรือค่าของตัวแปรลงโค้ดแบบตายตัว เหรือเรียกว่า hard code ซึ่งเป็นวิธีการที่ขาดความยืดหยุ่น เพราะผู้ใช้งานไม่สามารถปรับเปลี่ยนค่าเองได้ ดังนั้น ใน หัวข้อนี้ เราจะมาเรียนรู้วิธีการรับข้อมูลทางคีย์บอร์ด โดยผู้ ใช้งานสามารถกำหนดข้อมูลได้เองตาม
--- Page 79 ---
 บทที 4 | สตริง การรับและแสดงผลข้อมูล 79 ที่ต้องการ เชึ่งจะช่วยให้โปรแกรมที่เราเขียนมีผลตอบสนองที่หลากหลายมากขึ้น ตามข้อมูลที่เรา กำหนดให้กับมัน แต่อย่างไรก็ตาม ฺการรับข้อมูลทางคีย์บอร์ดมีหลายลักษณะ เซึ่งในที่นี้จะขอแยก  อธิบายตามฟังก์ชันที่ใช้งาน ดังรายละเอียดต่อไปนี้ กาธธับข้อมูลชนิดอักขระด้วย getchar() ข้อมูลชนิด:อักขระ  (char) จะมีได้เพียงอักขระตัวเดียว  เซึ่งหากเราจะรับข้อมูลชนิดนี้ทาง คีย์บอร์ด ก็ต้องใช้ฟังก์ชัน getchar( ) ที่มีรูปแบบดังนี้ ตัวแปร getchar( ) ตัวแปรที่จะใช้รับค่าจากฟังก์ชัน ต้องเป็นชนิด char เท่านัน ซึ่งอาจประกาศไว้ล่วงหน้า หรือจะประกาศในขณะนันเลยก็ได้ ก่อนรับข้อมูลด้วย getchar( ) เราควรแสดงข้อความเพื่อแจ้งให้ผู้ใช้ทราบพอสังเขปว่า ต้องใส่ข้อมูลเกี่ยวกับอะไร ซึ่งโดยส่วนใหญ่เรานิยมใช้ฟังก์ชัน printf() เพื่อให้จุดรอ รับข้อมูลอยู่ที่ท้ายข้อความ (ฟังก์ชัน printf( ) จะไม่ขึ้นบรรทัดใหม่) เมื่อการประมวลผลดำเนินมาถึงขั้นตอนที่ฟังก์ชัน  getchar( ) ถูกเรียกขึ้นมาทำงาน ส่วนแสดงผล เช่น terminal จะหยุดรอรับข้อมูลจนกว่าเราจะใส่ ค่าลงไป แล้วกด  <enter> จึงจะทำคำสั่งถัดไป ตามปกติ เราต้องใส่|อักขระเพียงตัวเดียวแล้วกด <enter> แต่ถ้าเราใส่ข้อมูลในแบบ สตริง(อักขระมากกว่า 4 มันจะอ่านเฉพาะอักขระตัวแรกที่เราใส่ลงไปเท่านั้น  ค่าที่ได้ชึ่งเก็บในตัวแปร ก็สามารถนำไปใช้งานอื่นตตามต้องการ เนื่องจากฟังก์ชัน getchar( ) ไม่มีอะไรที่ยุ่งยาก จึงขอให้ใช้แนวทางการใช้งานจากตัวอย่าง ต่อไปนี้ได้เลย ตัวอย่าง 4-12 การรับข้อมูลชนิดอักขระทางคีย์บอร์ดด้วย  getchar( )  แล้วนำไปแสดงผล (หากเรากำหนดสัญลักษณ์เป็น %c จะแสดงอักขระตัวนั้น แต่หากกำหนดเป็น %d จะแสดงรหัส ascii ของอักขระตัวนันแทน) #include <stdio.h> enter charactar >)c asciz code of c is 67 void main() printf( " inenter  character >> ); ตัว)
--- Page 80 ---
80 การเขียนโปรแกรมกาษา c ขั้นพืนฐาน char ch  getchar( ); printf{ "ascii  code of %c is %din" ch) ; กาธธับข้อมูลแบบสตริงด้วย gets()  ฟังก์ชัน gets( ) มาจากคำว่า  string ใช้ในการรับข้อมูลแบบสตริงทางคีย์บอร์ด ซึ่ง ลักษณะของฟังก์ชันนี้คือ gets( ตัวแปรที่ใช้รับข้อมูล) . จ ตัวแปรที่จะใช้รับข้อมูลต้องประกาศเอาไว้ล่วงหน้า  และเป็นชนิดชุดอักขระ (สตริง) เช่น char str[] ก่อนรับข้อมูลด้วย  gets( ) เราควรแสดงข้อความเพื่อแจ้งให้ผู้ใช้ทราบพอสังเขปว่า ต้องใส่ข้อมูลเกี่ยวกับอะไร เซึ่งโดยส่วนใหญ่เรานิยมใช้ฟังก์ชัน printi( ) รับข้อมูลอยู่ที่ท้ายข้อความ  (ฟังก์ชัน printf( ) จะไม่ขึ้นบรรทัดใหม่) ข้อมูลที่รับผ่านฟังก์ชัน ฺจะกลายเป็นชนิดสตริง แม้จะใส่เป็นอักขระตัวเดียว หรือตัวเลข  ทั้งหมดก็ตาม และไม่สามารถนำไปคำนวณได้ (ยกเว้นจะผ่านการแปลงชนิดข้อมูลก่อน ซึ่งกรณีนี้จะกล่าวถึงในหัวข้อต่อตไป) แนวทางการรับข้อมูลชนิดสตริงทางคีย์บอร์ดด้วยฟังก์ชัน gets( ) มีดังนี้ ตัวอย่าง 4-13 การรับข้อมูลชนิดสตริงทางคีย์บอร์ดด้วย gets( ) แล้วนำไปแสดงผล # include <stdio.h> what s your name >>tom jerry where ara you cone  from >>usa  howr  old ana yo4>>38 void  main()  your information: char name[30] age[3] from[200] name: tom  jerry age: 3o printf(  inwhat s your naine >>" ) : srom:  usa gets( name ) ; printf( "where ane you  come from  ) ; gets( from) printf(  how old ane you >> ); gets( age) ; ch., get เพื่อให้จุดรอ >>"
--- Page 81 ---
 บทที 4 | สตริง การรับและแสดงผลข้อมูล 81 puts( puts ( your  informat ion: );  printf(  inname: %s  inage: %s  infrom: %s in nane age. from ) ; กาธธับข้อมูลหิลายชนิดด้วย scanf() การรับข้อมูลด้วย getchar( ) หรือ gets( ) ดังที่กล่าวมานัน เป็นการรับแบบเจาะจงชนิด ะ ซึ่งอาจใช้งานได้เพียงบางกรณีเท่านั้น  ฺถ้าเราต้องการรับข้อมูลได้หลายชนิด  ภก็สามารถ เปลี่ยนไปใช้ฟังก์ชัน scanf( ) ซึงรองรับการรับข้อมูลทางคีย์บอร์ดได้หลายชนิด และมีความ  ยืดหยุ่นมากกว่า โดยตัว f ที่ต่อท้ายชื่อฟังก์ชันมาจากคำว่า format หมายถึง เราสามารถระบุรูป แบบ (ชนิด) ข้อมูลที่จะรับผ่านฟังก์ชันนี้ได้ ด้วยรูปแบบดังนี้ scanf(  สตริงควบคุมรูปแบบ ตัวแปร) หรือ scanf(  สตริงควบคุมรูปแบบ &ตัวแปร)  สตริงควบคุมรูปแบบ  (control- format-string) เป็นตัวบ่งชี้ หรือข้อกำหนดว่า  เรา จะใช้รับข้อมูลชนิดใด โดยใช้สัญลักษณ์เป็นอักขระในแบบเดียวกับที่เรากำหนดให้แก่  ฟังก์ชัน printf( ) แต่อย่างไรก็ตาม ฺในกรณีของเลขตัวเลข  เราต้องระบุสัญลักษณ์ให้ สอดคล้องกับชนิดข้อมูล เพราะบางอย่างใช้แทนกันไม่ได้ (แม้จะไม่เกิดข้อผิดพลาด แต่อาจทำให้ได้ผลลัพธ์ที้ไม่ถูกต้อง ชึ่งต่างจาก printi( ) ที่อาจใช้แทนกันได้ในบางกรณี) และเพื่อความชัดเจนยิ่งขึ้นผู้เขียนขอนำสัญลักษณ์ที่เราอาจได้ใช้งานบ่อยตมาแสดง เปรียบเทียบให้ดูระหว่างการใช้ร่วมกับ printf( ) และ scanf( ) อีกครั้งหนึ่ง data type ptintf() scant() data type ptintf()  scanf() int %d %d long long  %lld %lld unsigned int %u หรือ %d %u float %f %f  short %hd หรือ %d %hd  double %t %if unsigned short %hd หรือ %d %hu char %c %c long  %ld หรือ %d  %ld  string %$ %$ unsigned long %u หรือ %d %u ข้อมูล
--- Page 82 ---
82  การเขียนโปรแกรมกาษา c ขันพืนฐาน ตัวแปร ที่จะใช้เก็บข้อมูล ฺต้องประกาศไว้ล่วงหน้า และให้ชนิดข้อมูลสอดคล้องกับสตริง  ควบคุมรูปแบบ ทั้งนี้ การวางเครื่องหมาย & ไว้หน้าตัวแปรหรือไม่ ให้พิจารณาดังนี้ กำหนดแค่ชื่อตัวแปร (ไม่มี & นำหน้า) จะได้ข้อมูลแบบสตริง  แม้จะใส่ ค่าเป็น ตัวเลขทั้งหมดก็ตาม ฺซึ่งไม่สามารถนำไปคำนวณโดยตรงได้ กำหนดชื่อตัวแปรโดยมี & นำหน้า ถ้าใส่ข้อมูลเป็นตัวเลข ก็จะได้ข้อมูลชนิดตัวเลข ตามที่ระบุในสตริงสัญลักษณ์ และสามารถนำไปใช้ในการคำนวณได้ทันที หรือกล่าวได้ว่า กรณีที่รับข้อมูลตัวเลข ให้เขียน & นำหน้าชื่อตัวแปรในแบบ &ชื่อตัวแปร ก่อนรับข้อมูลด้วย  scanf( ) เราควรแสดงข้อความเพื่อแจ้งให้ผู้ใช้ทราบพอสังเขปว่า ต้องใส่ข้อมูลเกี่ยวกับอะไร ซึ่งโดยส่วนใหญ่เรานิยมใช้ฟังก์ชัน printf( ) เพื่อให้จุดรอ รับข้อมูลอยู่ที่ท้ายข้อความ  (ฟังก์ชัน printf( ) จะไม่ขึ้นบรรทัดใหม่) เช่น char name[50] ; int age: printf(  what s.  your name >> ") ;  scanf( %s name ) : /รับข้อมูลชนิดสตริง printf( "how old are you >> " ) ; scanf( %d &age ) ; /รับข้อมูลชนิดเลขจำนวนเด็ม  ฟังก์ชัน scanf( ) สามารถรับข้อมูลพร้อมกันได้มากกว่า 1  ค่า โดยใช้ ช่องว่าง เป็น ตัวแบ่งข้อมูล  ฺซึ่งเราต้องกำหนดสัญลักษณ์ ควบคุมรูปแบบและตัวแปรให้ครบตาม  จำนวนข้อมูล และต้องเรียงลำดับให้สอดคล้องกัน เช่น char firstname[30] lastnane[50] ; int age; printf( enter your firstname lastname  and age >>" ) ; scanf( "%$%$%d firstnane  lastname  &age ) ; /' แนวทางการใส่ข้อมูล เช่น what s your >>john smith  40  ค่าที่เก็บในตัวแปรจะเป็น firstname  john  lastname "snith" age 40
--- Page 83 ---
 บทที 4 | สตริง การรับและแสดงผลข้อมูล 83 จากกรณีที่ฟังก์ชัน scanf( ) ใช้ช่องว่างเป็นตัวแบ่งค่าของข้อมูลที่รับจากคีย์บอร์ด จึง  เกิดปัญหาเมื่อเราจะรับข้อมูลที่เป็นสตริงยาวๆ และมีหลายคำซึ่งโดยทั่วไปคำในภาษา  อังกฤษจะใช้ช่องว่างเป็นตัวแบ่งคำดังนั้น  ฺถ้าเรารับค่าแบบสตริงโดยมีตัวแปรเดียว แล้วใส่ข้อมูลทางคีย์บอร์ดที่มีหลายๆ  คำ เช่น hello how are you ค่าทีเราอ่านได้ จะเป็นคำว่า hello เท่านัน เช่น char greeting[200] ; printf( "enter string >> " ) ; scanf( "%s greeting) ; i. enter string  >>he1lo how ane you ค่าทีเก็บในตัวแปรจะเป็น greeting  hello %/ ในการรับข้อมูลสตริง ฺถ้าเรากำหนดสัญลักษณ์เป็น "%s" อาจได้เฉพาะคำแรกที่ใส่เข้า มา คาที่อยู่ถัดจากนั้นอาจสูญหายไป ทั้งนี้ เราอาจเลี่ยงไปใช้ gets( ) แทนก็ได้ หรือถ้า เราอยากใช้ scanf( ) เพียงแบบเดียวกับข้อมูลทุกชนิด ภก็มีแนวทางแก้ไขได้โดยกำหนด สัญลักษณ์ควบคุมรูปแบบเป็น "%[^ไn]" ซึ่งหมายความว่า ให้รับอักขระทั้งหมดยกเว้น  อักขระการขึ้นบรรทัดใหม่ (การกด <enter> นั่นเอง) ซึ่งกรณีนี้จะไมใช้ช่องว่างในการ แบ่งคำดังนั้น เราจะได้ค่าเป็นสตริงตามที่เรากำหนด เช่น char str[10o] ; printf( "enter string >> ); scanf( "%[^ไn] str): enter string >>1 can c.! str "i can c.! scanf( ) จะไม่มีปัญหาในการรับข้อมูลชนิดตัวเลข เพราะเลขจำนวนเดียวกันจะเขียน ติดกันโดยไม่มีช่องว่างคั่น ปัญหาที่สำคัญอีกอย่างหนึ่งคือ ถ้าเราใช้ scanf( ) เพื่อรับข้อมูลต่อเนื่องกันหลายครั้ง อาจมีบางกรณีที่มันไม่หยุดรอรับข้อมูล แต่จะข้ามไปทำคำสั่งถัดไปทันที  เนื่องจากมัน ตีความหมายว่าปม  <enter> ที่เรากดหลังใส่ข้อมูลครบเป็น อักขระ 1 ตัว (in) จาก นั้นมันก็จะเก็บอักขระนี้ไว้ในบัฟเฟอร์ (buffer) เมื่อเรารับข้อมูลครั้งถัดไปด้วย scanf()
--- Page 84 ---
84 การเขียนโปรแกรมกาษา c ขั้นพืนฐาน มันจะนำอักขระจากบัฟเฟอร์ไปกำหนดค่าให้เองโดยอัตโนมัติ เด้วยเหตุนี้มันจึงไม่หยุดรอ ซึ่งความจริงเราสามารถแก้ไขปัญหานี้ได้หลายวิธี แต่ในเบื้องต้นนี้ผู้เขียนจะ แนะนำวิธีง่ายๆ เพียงแบบเดียวไปก่อน โดยการเพิ่มคำสั่ง getchar( ) หลังจากเรียก scanf( ) เพื่อให้มันอ่านหรือล้าง (clear) อักขระ in บัฟเฟอร์ก่อนรับข้อมูลค่าต่อไป ซึ่งขั้นตอนนี้จะไม่ทำให้เกิดการหยุดรอแต่อย่างใด เช่น  char  a[1oo] b[100] : scanf("%[^1n] a) :  getchar( ); iiclear in ในบัฟเฟอร์ . ไม่หยุดรอรับข้อมูล) scanf("%[^1n]" b) :  getchar( ); iiclear ไา  ในบัฟเฟอร์ t ไม่หยุดรอรับข้อมูล ) ปัญหาที่กล่าวถึงในข้อสุดท้ายนี้ มักเกิดขึ้นในกรณีที่เรารับข้อมูลทางคีย์บอร์ดต่อเนื่องกัน มากกว่า 1 ครั้ง โดยทั่วไปมักจะเกิดกับการรับข้อมูลแบบสตริงและอักขระ ส่วนข้อมูลชนิดตัวเลข มักไม่เจอปัญหาดังกล่าว  แต่ถ้ามีกรณีเจอปัญหาแบบเดียวกัน ก็อาจนำวิธีการดังกล่าวนี้ไปใช้กับ การรับข้อมูลชนิดตัวเลขก็ได้เช่นกัน  สำหรับแนวทางการใช้งาน ให้ดูเพิ่มเติมจากตัวอย่างต่างๆ ดังต่อไปนี้ ตัวอย่าง 4-14 เป็นการนำตัวอย่างที่ 4-13 มาปรับเปลี่ยนจากการรับข้อมูลด้วยฟังก์ชัน get( )  ก็เปลี่ยนมาใช้ scanf( ) #include <stdio.h> uhat s  your name >>robert uilliam  johnson uhene ana you  come  fron  >>united kingdom  how old are you >>49 void  main()  your infornation: char nane [30] ,  from[100] int  name  roert nilliam jonnson age; from:  united kingdom age: ae printf( " anwhat s your nane >> " ) ; scanf{ "%[^in] nane );  getchar( ); iiclear  in printf( "where ane you  cone from >>" ) ; scanf{ "%[^in] fron) ;  getchar( ); iiclear รับข้อมูล  an
--- Page 85 ---
 บทที 4 | สตริง การรับและแสดงผลข้อมูล 85 printf(  how old are  you >> ): scanf( %d &age ) puts( puts(  your  information: printf(  inname: %s  infrom : %s  inage: %d  ไn name  from, age) ตัวอย่าง 4-15 การรับข้อมูลตัวเลขทางคีย์บอร์ดด้วย  scanf()  แล้วเทียบว่าระหว่างการใช้ และไมใช้เครื่องหมาย & นำหน้าชื่อตัวแปรที่เป็นชนิดตัวเลข จะให้ผลต่างกันอย่างไร # include <stdio.h> & first aumber >>40 second number >2|58 void  main() 49 s3 too int nuii1 nunn2 ; uithout first  unbar >)58  เกิดข้อผิดพลาด puts( " using &" ) ; : ie- langlchapter4> ไม่รับข้อมูลต่อ printf( "first  numbe^ ); scanf( %d  anui u) igetchar( ) //ไม่มีก็ได้ เพราะรับข้อมูลตัวเลข printf( " second  numbe^ >> ): scanf( %d anum2 ); igetchar( ); printf( "%d %d %d nui1  nun2 ,  (num1  nun2 ) ) ; puts( ' puts(  inwithout & " ) ; printf( "first  nunbe^ >>" ) ; scanf( %d nun1 ) ; //ไม่ระบุ 8 นำหน้าตัวแปร nun1 igetchar( ); printf( " second  nunber >> ) : scanf( %d nun2 ) ; //ไม่ระบุ & นำหน้าตัวแปร  nun2 igetchar( ); printf( "%d %d %d nui1 nun2 (านn1 nun2 ) ) ;  using >>  an
--- Page 86 ---
86 การเขียนโปรแกรมกาษา c ขั้นพืนฐาน ตัวอย่าง 4-16 การรับข้อมูลทางคีย์บอร์ดครั้งละ 2 ค่าโดยเป็น  example: team a tean3 >)3  2 ผลการแข่งขันฟุตบอลในบางคู่ ฺจากนั้นนำไปแสดงผล  manu  liverpoo1 >>2 4  chelsea arsana1 >>3 1  mancity  spur >>2 # include <stdio.h> void  main() [  football resuit: int ทน lp, cs nc . sp; manม -  liverpoo1  chalsea larsgna1 puts( " inexample :  inteam a team 8 >>3 2" ) :  mancity a spur printf( " inhanu  liverpoo1 >>" ) :  scanf( %d%d" &mน , &1p) ; printf( "chelsea arsena1 >>" ) ;  scanf( %d%d" acs &as ) ; printf( "hancity spur >>" ) ; scanf[ %d%d" &nc &sp) ; puts( in"): puts( "footbal1 result : ): printf( " inhanu %d %d liverpoo1 ทน lp) ; printf( " inchelsea %d %d arsenal cs., as) printf( " inmancity %d %d  spur in nc sp) ; การแปลงชนิดข้อมูลธะทิว่างสตริงและตัวเลข ภาษา cนัน จะเข้มงวดเกี่ยวกับชนิดข้อมูลเป็นอย่างมาก ดังนั้น เราต้องเลือกใช้ชนิดข้อมูล ให้ตรงตามทีกำหนด มิฉะนันอาจเกิดข้อผิดพลาด หรือได้ผลลัพธ์ที้ไม่ถูกต้อง ซึ่งปัญหาพื้นฐานอย่าง หนึ่งที่เราต้องพบอยู่บ่อย ซ ก็คือ  การใช้งานสลับไปมาระหว่างข้อมูลแบบสตริงและตัวเลข เช่น หากนำข้อมูลแบบสตริงไปคำนวณก็จะเกิดข้อผิดพลาด ฺหรือถ้านำข้อมูลชนิดตัวเลข ไปแสดงผล แบบสตริง ก็อาจเกิดข้อผิดพลาดได้เช่นกัน ด้วยเหตุนี้  เราจึงควรเรียนรู้วิธีแก้ไข  เพื่อช่วยลด ข้อผิดพลาด และให้มีทางเลือกในการใช้งานที่หลากหลายมากยิ่งขึ้น ดังแนวทางต่อไปนี้ การแปลงสตริงเป็นตัวเลขด้วยฟังก์ชัน ato_() ตัวเลขที่เขียนหรือกำหนดค่าในแบบสตริง เราเรียกว่า string number เช่น "1234 โดย ค่าเช่นนี้ถือเป็นข้อมูลประเภทสตริง ไม่สามารถนำไปคำนวณได้ ซึ่งเราอาจแก้ไขด้วยการเปลี่ยน  สตริงให้เป็นข้อมูลชนิดตัวเลขอย่างแท้จริง และสามารถนำไปคำนวณต่างๆ ได้ตามต้องการ โดย ใช้ฟังก์ชันอันใดอันหนึ่งดังต่อไปนี้ as.  an-
--- Page 87 ---
 บทที 4 | สตริง การรับและแสดงผลข้อมูล 87  atoi(string) แปลงจากสตริงเป็นเลขจำนวนเต็มชนิด int  atof(string) แปลงจากสตริงเป็นเลขทศนิยมชนิด float atol(string) แปลงจากสตริงเป็นเลขจำนวนเต็มชนิด long atoll(string) แปลงจากสตริงเป็นเลขจำนวนเต็มชนิด long ู  ฟังก์ชันเหล่านี้ อยู่ในเฮดเดอร์ stdlib.h ดังนั้น เราต้องอ้างอิงไฟล์เฮดเดอร์นี้ด้วยคำ สั่ง include จึงจะใช้งานได้ ค่าสตริงที่กำหนดให้แก่ฟังก์ชันเหล่านี้  ต้องอยู่ในหลักเกณฑ์ที่สามารถแปลงไปเป็น ตัวเลขได้ เช่น  อาจเป็นเลขจำนวนเต็มหรือมีทศนิยม ฺที่มีค่าเป็นบวกหรือติดลบก็ได้ ถ้าสตริงนั้นมีอักขระที่ไม่ใช่ตัวเลขรวมอยู่ด้วย ต้องขึ้นต้นด้วยตัวเลขฺเท่านั้น เช่น "120$" "25668" "0.95km "- 10 celsius' ซึ่งสตริงเหล่านี้สามารถใช้ฟังก์ชัน ที่สอดคล้องกันเพื่ออ่านตัวเลขที่ขึ้นต้นมาใช้งานได้ ไม่ นับรวมกรณีที่ตัวเลขอยู่ระหว่างอักขระหรือลงท้ายด้วยตัวเลข เช่น "$120"  "one2thee" "g7" ซึ่งสตริงเหล่านี้ ไม่ สามารถใช้ฟังก์ชันเพื่ออ่านตัวเลขได้  ฟังก์ชันดังที่แสดงในตาราง จะให้ผลลัพธ์เป็นข้อมูลในชนิดที่สอดคล้องกัน นั่นคือ atoi() ให้ผลลัพธ์ข้อมูลชนิด int atof( ) ให้ผลลัพธ์ข้อมูลชนิด float atol( )  ให้ผลลัพธ์ข้อมูลชนิด atoll( ) ให้ผลลัพธ์ข้อมูลชนิด long long  สำหรับแนวทางการใช้งาน ให้ดูจากตัวอย่างต่อไปนี้ ตัวอย่าง 4-17 การแปลงข้อมูลจากรูปแบบสตริง ให้เป็นตัวเลขชนิดต่างๆ แล้วทดลองนำไป  คำนวณแบบง่ายๆ เพื่อพิสูจน์ว่าค่าที่ถูกแปลงเป็นชนิดตัวเลขจริงหรือไม่ # include <stdio.h> ""123" + 1 124 "45, 67"' t 44. 57 # include <stdlib.h> "25663" 54 329 118.75ต915245  lee -219.75 void nain() enter float  number >>3.14159 char  one23[ ] 123 '3.14159" d. 5 3. 84 char ff _point_ss [] 45 67 char storage[ ] 256gb long long
--- Page 88 ---
88 การเขียนโปรแกรมกาษา c ขั้นพืนฐาน char ten[ ] -110. 75celsius char float num[20] ; int a atoi (one23 ) float b atof( ff _point_ss) ; int c atoi( storage ) ; float d atof(ten ) ; printf( "mท|"%$ | %d  เn" one23 a + 1 ) ; printf("!"%$ | %0 . 2f เn" ff_point_ss, b 1 ) : printf("!"%$ | 64 %d เn storage c 64 ) ; printf( "! %$ | 1od %0 . 2f  in tem, d 100 ) ; printf( " inenter float nunber >>" ) :  (float _nun) ; float e atof( float ทuท) printf( "! %$ | o. 5 %0 . 2f  in"  float_num, e + 0. 5 ) ; การแปลงตัวเลขเป็นสตริงด้วยฟังก์ชัน sprintf() นอกจากการแปลงจากสตริงเป็นตัวเลขดังที่กล่าวมาในหัวข้อที่แล้ว ในบางครั้งเราต้องทำ ในลักษณะที่ตรงกันข้าม นั่นคือ การแปลงจากตัวเลขไปเป็นสตริง ซึ่งแม้จะทำได้หลายวิธี แต่อัน ที่น่าจะง่ายสุดภ็คือ การนำฟังก์ชัน sprintf( ) มาดัดแปลงในรูปแบบดังนี้ sprintf ( ตัวแปรสตริงที่จะเก็บข้อมูล สัญลักษณ์รูปแบบตัวเลข ตัวเลขที่จะแปลง )  ฟังก์ชันนี้ก็คืออันเดิมที่เราเคยใช้ในการจัดเก็บสตริงผลลัพธ์หลังการจัดรูปแบบไว้ใน ตัวแปร เพียงแต่เราสามารถนำมาดัดแปลงเป็นการปรับเปลี่ยนชนิดข้อมูล สัญลักษณ์รูปแบบตัวเลข  ก็กำหนดเช่นเดียวกับฟังก์ชัน scanf( ) หรือ  printf( ) แต่ ะ ในกรณีนี้  เราต้องการสตริงผลลัพธ์ที่มีแค่ตัวเลข  ดังนั้น  ไม่ควรมีสตริงอื่น ฯ รวม อยู่ในสัญลักษณ์รูปแบบตัวเลข  และต้องกำหนดให้สอดคล้องกับชนิดข้อมูลตัวเลขที่ จะแปลง เช่น ถ้าเป็นเลขชนิด int ก็กำหนดสัญลักษณ์เป็น "%d' ถ้าเป็นเลขชนิด float ก็กำหนดสัญลักษณ์เป็น "%f" gets
--- Page 89 ---
 บทที 4 | สตริง การรับและแสดงผลข้อมูล 89 เนื่องจากเป็นฟังก์ชันเดิมที่เราผ่านการใช้งานมาแล้ว ชึ่งรายละเอียดปลีกย่อยต่างๆ ก็ ยังเหมือนเดิม  เพียงแต่มาปรับเปลี่ยนจากเดิมอีกเล็กน้อย  สำหรับแนวทางการใช้งาน ตัวอย่างต่อไปนี้ ตัวอย่าง 4-18 แนวทางการแปลงจากชนิดข้อมูลตัวเลขให้เป็นแบบสตริง #include <stdio.h> void  main() [ int i 1234 ; float f. 56 . 789: char i_str[10] , fstr[10]:  sprintf( istr, %d" i ) ;  sprintf( f str, %0 . 2f" f) : //เมื่อนำไปแสดงผล เราสามารถใช้รูปแบบสตริงได้เลย  printf(  ini %s f. %s  in i_str. f_str); i /ลักษณะผลลัพธ์คือ iii 1234 f. 56 . 79  สิ่งที่เราได้เรียนรู้ไนบทนี้ คือข้อมูลชนิดอักขระ สตริง รวมถึงการรับและแสดงผลข้อมูลใน ลักษณะต่างๆ  ซึ่งถือเป็นพื้นฐานที่สำคัญยิ่งของภาษา c เพราะสตริงเป็นข้อมูลหลักทีถูกใช้งาน บ่อยที่สุด และการแสดงผลก็ต้องทำควบคู่กันไปตลอด ดังนั้น เราควรศึกษาทั้ง 2  เรื่องนี้ให้เกิด ความเข้าใจที่ดีพอในระดับหนึ่ง มิฉะนั้นอาจเกิดปัญหาในการเรียนรู้เรื่องต่อตไปได้  ให้ดูจาก
--- Page 90 ---
     . รราร >า ปต  . ;: {?,:.: :,:::7 . ก ext ecred_ob]ec >[ay .. aa].sele selec . dc erator cunsse .. the is x m รอ .       ต olea object* operator):  selected anrror . nirror อ  none อ bject
--- Page 91 ---
= ตัวเลขและการคำนวณ นิดข้อมูลที่สำคัญอย่างหนึ่งซึ่งเราต้องใช้งานกันอยู่ตลอดในการเขียนโปรแกรมนั่นภก็คือ ช. ข้อมูลชนิดตัวเลข และในบางครั้งก็จำเป็นต้องดำเนินการบางอย่างกับข้อมูลดังกล่าวด้วย  เครืองหมายทางคณิตศาสตร์ ก่อนจะนำไปใช้งานในขันตอนต่อไป  เช่น การบวก ลบ  คูณ หาร เป็นต้น  แต่ในบางลักษณะอาจไม่มีเครื่องหมายสำหรับกรณีนั้นโดยตรง เราต้องใช้ฟังก์ชันที่  เกี่ยวข้อง หรือกำหนดวิธีการคำนวณเอาเอง ดังรายละเอียดที่เราจะได้เรียนรู้กันในบทนี้  เครื่องทิมายสำทิธับการกำทินดค่า  เครื่องหมายสำหรับการกำหนดค่า (assignment operator) ก็คือเครื่องหมายเท่ากับ (=) นันเอง โดยการใช้เครื่องหมายชนิดนี้ ต้องมีองค์ประกอบ 2 อย่างคือ ตัวแปรที่อยู่ทางฝั่งช้ายของ  เครื่องหมาย และค่าที่อยู่ทางฝั่งขวาของเครื่องหมาย ชึ่งสามารถสรุปได้ดังตาราง เครื่องหมาย ชื่อเรียก ตัวอย่างการใช้งาน เท่ากับ หรือกำหนดค่า (assignment) x = 10 ลักษณะการใช้เครื่องหมาย โดยทั่วไปเราก็คุ้นเคยกันดีอยู่แล้ว เช่น int  x 12345; float y. 6 .789; char title[] "c programming  language นอกจากนี้ เราสามารถกำหนดค่าต่อเนื่องกันในแบบ chaining assignment โดยค่าจะ ถูกกำหนดให้แก่ตัวแปรจากขวาไปช้าย เช่น
--- Page 92 ---
92 การเขียนโปรแกรมกาษา c ขั้นพืนฐาน int x, y. z ; x . y= z = 10 ;  จากโค้ดข้างบน การกำหนดค่าจะเรียงตามลำดับคือ z = 10, y = z และ x= y นันแสดง ว่าทัง ix, y และ z จะมีค่าเป็น 10 เหมือนกันหมด ตัวอย่าง 5-1 หากเราต้องสลับค่าระหว่างตัวแปร ดู 66 c = ด (66) 0  = b  (99) 2 ตัว ในแบบที่ต้องใช้ตัวแปรที่สามเข้ามาช่วยสำหรับ b  =  99 b = c  (66) การพักข้อมูล มีหลักการดังนี้ คำอธิบาย  โค้ด ค่าของดัวแปร สมมติว่าเราจะสลับค่าระหว่าง 2 ตัวแปรคือ a และ b a = 66 a = 66 b = 99 b = 99 สร้างตัวแปรที่สาม  (c) เพื่อใช้พักข้อมูล โดยให้มีค่า c = a a = 66 เท่ากับตัวแปรที่หนึ่ง ๖ = 99 c = 66  ให้ตัวแปรที่หนึ่ง มีค่าเท่ากับตัวแปรที่สอง a = d a = 99 b = 99 c = 66  ให้ตัวแปรที่สอง มีค่าเท่ากับตัวแปรที่สาม b = c a = 99 b = 66 ตัวแปรที่จะสลับค่าระหว่างกัน ต้องเป็นชนิดเดียวกัน หรือชนิดที่สามารถแปลงข้อมูล ระหว่างกันได้โดยอัตโนมัติแบบ implicit (automatic) conversion เช่น short., int., long เป็นต้น # include <stdio h>  before  swapping: 198, ไว -lอa9 after  swapping: b 1อ8 void  main() i int a 108 ; int b 1009 ; int c.: //สร้างตัวแปรที่สามเพื่อใช้พักข้อมูล printf( " inbefore  swapping: a %d b %d" a. b) ; c a: กให้ตัวแปรที่สามฺมีค่าเท่ากับตัวแปรที่หนึ่ง -1999 ,
--- Page 93 ---
 บทที 5 | ตัวเลขและการค้านวณ 93 a b: /น้ำค่าที่สอง ไปเก็บโนตัวแปรแรก b c.; /น้ำค่าแรกที่เก็บในตัวแปรที่สาม ไปเก็บในตัวแปรที่สอง printf(  inafter  swapping: a %d ., b %d  an" a. b) ;  เครื่องทิมายสำทิรับการคำนวณทางคณิตศาสตร์  เครื่องหมายทางคณิตศาสตร์ (arithmetic operator)  ก็คือเครื่องหมายพื้นฐานต่างๆ ที่ใช้ ลบ คูณ และหาร นันเอง โดยต้องดำเนินการกับตัวเลข 2 จำนวน ซึ่งเครื่องหมาย ในกลุ่มนี้คือ  เครื่องหมาย ชือเรียก ตัวอย่างการใช้งาน บวก (addition) 10 + 20 ลบ (subtraction) 1oo 50 คูณ (multiplication) 5 * 10 หาร (division) 50 / 10 % ค่าที่เหลือของการหาร (remainder) 13 % 5 = 3 ถ้าเรากำหนดชนิดข้อมูลของตัวแปรที่ใช้เก็บผลลัพธ์เป็นชนิดจำนวนเต็ม  เช่น  short., int., long ผลลัพธ์จะถูกแปลงเป็นจำนวนเต็มเสมอ แม้ผลลัพธ์ทีได้จะเป็นเลขทศนิยม  ก็ตาม ถ้าเรากำหนดชนิดข้อมูลของตัวแปรที่ใช้เก็บผลลัพธ์เป็นชนิดทศนิยม เช่น  float, double ผลลัพธ์จะถูกแปลงเป็นจำนวนทศนิยม แม้ผลลัพธ์ที่ได้จะเป็นเลขจำนวนเต็ม ก็จะมี .0 ต่อท้าย เช่น จาก 5 => 5.0 การคำนวณระหว่าง จำนวนเต็ม กบ  จำนวนเต็มฺผลลัพธ์ทีได้จะเป็นจำนวนเต็ม เสมอ ดังนั้น ในกรณีนี้  เราควรกำหนดชนิดข้อมูลของตัวแปรที่ใช้เก็บผลลัพธ์เป็นชนิด จำนวนเต็มเช่นกัน นี่คือประเด็นสำคัญที่เราต้องพึงระวังเป็นพิเศษ โดยเฉพาะอย่างยิ่ง กับการหาร เช่น 15 / 10 = 1 การคำนวณระหว่าง จำนวนที่มีทศนิยมฺกับ จำนวนใดต ผลลัพธ์ที่ได้จะเป็นจำนวน ู ที่มีทศนิยมเสมอ ถึงจะได้ค่าเป็นจำนวนเต็มก็จะมี .0 ต่อท้าย ดังนัน  เราควรกาหนด ะู ชนิดข้อมูลของตัวแปรผลลัพธ์ให้เป็นชนิดเลขทศนิยม ฺเช่น float หรือ double มิฉะนัน  อาจได้ผลลัพธ์ที้ไม่ถูกต้อง เช่น 10.5 + o.5 .. 11.0 หรือ 1 + o.0 . 1.0  ในการบวก
--- Page 94 ---
94 การเขียนโปรแกรมกาษา c ขั้นพืนฐาน  เครื่องหมาย 4 และ  ก็เป็นการบวก ลบ ตัวเลขธรรมดา  และสิงทีเราพิจารณาอีก อย่างคือ ชนิดข้อมูลของผลลัพธ์อาจถูกแปลงให้สอดคล้องกับชนิดข้อมูลของตัวแปร ที่ใช้เก็บผลลัพธ์ เช่น int a 15 + 5 ; //20 float b 15 +  5; //20 . 0 (ชนิด  float ) int c. 15 5 ; //10 double d . 15 5 ; //10 . 0  เครื่องหมาย จะเป็นการหารแบบปกติ ที่อาจได้ผลลัพธ์เป็นจำนวนเต็มหรือทศนิยม ๕ู้ (เชนิดข้อมูลของผลลัพธ์จะขึ้นกับชนิดข้อมูลของตัวแปรที่ใช้เก็บผลลัพธ์) เช่น int a 1d i 2 ; //5 int b 1do i. 5 ; //20 double c 1o 2 . 5 : /ia . 0 float d io / 4 ; //2 . 5 int e 1d i 4 ; //ปกติเท่ากับ 2 . 5  (float ) ii แต่ชนิดตัวแปรทีเก็บผลลัพธ์เป็น int //จึงถูกแปลงจาก float => int /นั่นคือ vint)2. 5 วว 2 เครืองหมาย % (หรือเรียกว่า  modulus) เป็นการหารแบบเอาเฉพาะค่าทีเหลือ  (remaining) โดย ทังตัวตังและตัวหารต้องเป็นจำนวนเต็มฺมิฉะนันจะเกิดข้อผิดพลาด เช่น int a 8  %  3 ; fa 2  ค่าสูงสุดที่ 3 หารลงตัวคือ 6 //ดังนั้น ค่าที่เหลือคือ 2 (8 6 ) int b 1o %  5 ; fb o กรณีนี่เป็นการหารแบบลงตัว ดังนั้น ค่าที่เหลือคือ o int c 13 % 4 ; iic 1  ค่าสูงสุดที่ a หารลงตัวคือ 12 //ดังนั้น ค่าที่เหลือคือ า ( 13 12 ) float d 50  %  2 .5 ; ierror ทั้งตัวตั้งและตัาหารต้องเป็นเลขชนิดจำนวนเต็ม
--- Page 95 ---
 บทที 5 | ตัวเลขและการค้านวณ 95 int e 12 . 0 % 5 : ferro^  ทั้งตัวตั้งและตัวหารต้องเป็นเลขชนิดจำนวนเต็ม //เนื่องจาก 12 .0  มีทศนิยม จึงถือเป็นชนิด float การหารระหว่าง จำนวนเต็ม ฺกับ จำนวนเต็มฺผลลัพธ์ที่ได้จะถูกแปลงเป็น จำนวนเต็ม โดยอัตโนมัติ แม้ว่าผลลัพธ์ที่เกิดขึ้นจริงจะมีทศนิยมด้วย (หารไม่ลงตัว) หรือกำหนด ตัวแปรที่เก็บผลลัพธ์เป็นประเภท float หรือ double ก็ตาม จึงอาจได้ผลลัพธ์ที้ไม่ถูก ต้อง ทั้งนี้ หากเราต้องการผลลัพธ์เป็นเลขทศนิยมตามผลหารจริงที่ได้ อาจแปลงชนิด (คาสต์) ตัวตัง และ/หรือ ตัวหาร ให้เป็น float หรือ  double พร้อมกำหนด ตัวแปรที่เก็บเป็นข้อมูลประเภทนี้ด้วยเช่นกัน ดังแนวทางต่อไปนี้ //ปกตินั้น 1o i 4 2 . 5 int a 1o i 4 : ffa 2 เพราะตัวแปรเก็บผลลัพธ์เป็นชนิด int . /ผลลัพธ์จึงถูกแปลงเป็น int  โดยอัตโนมัติ //ดังนั้น ผลลัพธ์ที้ได้จึงไม่ถูกต้อง float d 1o / 4 ; fb 2 . 0 เพราะทั้งตัวตั้งและตัวหารเป็นจำนวนเต็ม . /ผลหารก็จะเป็นจำนวนเต็มด้วย //แม้ b  จะเป็นชนิด float  ก็ตาม //ดังนั้น ผลลัพธ์ที้ได้จึงไม่ถูกต้อง float c (float )10 4 : fic 2 . 5 เพราะแปลงตัวตั้งเป็นชนิด float //ผลลัพธ์จึงเป็นชนิด float ด้วย float d 1o  (float )4 : iid 2 . 5 เพราะแปลงดัวหารเป็นชนิด float . /ผลลัพธ์จึงเป็นชนิด float  ด้วย float e  (float )10 ifloat )4 ; iid 2 . 5 เพราะแปลงทั้งตัวตั้งและตัวหารเป็นชนิด  float /ผลลัพธ์จึงเป็นชนิด float  ค้วย ข้อมูล
--- Page 96 ---
96 การเขียนโปรแกรมกาษา c ขั้นพืนฐาน ตัวอย่าง 5-2 รับค่าความกว้างและความสูงของรูปสี่เหลี่ยมมุมฉาก (rectangle) ผ่านทาง คีย์บอร์ดด้วยฟังก์ชัน scanf( ) แล้วคำนวณหาพื้นที่และความยาวโดยรอบ ดังนี้ #include <stdio.h>  rectangle width >>28  rectangle height >>30 anea 6oo void  nain()  perimeter lee float  width, height area.,  perineter; printf( " inrectangle width >>" ) ; scanf[ "%f" &width) ; printf( "rectangle  height >>" ) ; scanf( %f"  &height ); area idth height: perineter 2  (width height ) ; printf( area %g  inperineter  %g  เn anea perineter ตัวอย่าง 5-3 รับข้อมูลทางคีย์บอร์ดและดำเนินการดังนี้ 1. รับข้อมูลจำนวนสินค้าที่จะซื้อ 2. รับข้อมูลราคาสินค้าต่อหน่วย 3 ให้สินค้ามีส่วนลด 10% (หักจากราคา) 4  คำนวณหาผลรวมที่ต้องจ่ายจริง (จำนวน ix ราคา) 5 รับข้อมูลจำนวนเงินสดที่ผู้ซื้อจ่ายมา 6. คำนวณหาจำนวนเงินที่ต้องทอน  quantity to  buy >>5 price per unit>)158.53 total (bgfore discount): 752 .58 #include <stdio.h> tota.l yafter discount 18%) : 677 25 pay  >>leee void nain()  change: 322.75 int  quantity: float price., total1 total2 pay.,  change; //จำนวนสินค้าต้องเป็นจำนวนเต็ม printf( " inquantity to );  buy > > "
--- Page 97 ---
 บทที 5 | ตัวเลขและการค้านวณ 97 scanf( "%d  &quantity); /ราคาสินค้าอาจมีทศนิยมได้ printf( price  per unit >>" ) ; scanf( %f"  &price) ; //ผลรวม (ก่อนหักส่วนลด) total1  quantity price; printf( "total  (before discount ) : %0 .21" total1) ; //ผลรวม หลังหักส่วนลด 10% total2 itotal1 |100 10)) i 100 : printf(  intotal (after discount 10%% ) %0 .2f" total2 ) //จำนวนเงินสดที่จ่าย printf(  in inpay >>" ) ; scanf( %f" &pay) ; //เงินทอน  change pay total2 ; printf( "change: %0 . 2f in"  change) ; ตัวอย่าง 5-4 รับค่าทางคีย์บอร์ดเป็นจำนวนวินาที แล้วนำมาแปลงเป็นหน่วย ชั่วโมง ฉนาที วินาที เช่น 3665 วินาที เท่ากับ 1 ชั่วโมง 1  นาที 5 วินาที เป็นต้น โดยให้เริ่มจากหน่วยที่มีค่า มากสุดที่เป็นไปได้เสมอ ซึ่งมีแนวทางดังนี้ /3600 (เปลงเป็มจำนวนเต็ม) ัวโมง /3600 (แปลงเ็นจำนวนเค็ม) วินาที นาที ค่าทีเหลือ % 3600 (คาทีเหลือ) วินาที % 60 (ค่าทีเหลือ)
--- Page 98 ---
98 การเขียนโปรแกรมกาษา c ขั้นพืนฐาน ลาดบ หลิกการ ตัวอย่างโค้ด สมมติว่า เวลาทีกำหนดเป็นวินาที เท่ากับ 4ood วินาที t 4000 2 แปลงจากชั่วโมง => วินาที ซึ่ง1 ชั่วโมง เท่ากับ 3600 วินาที h 4000 / 3600 1 ดังนัน  ต้องเอา 3600  ไปหารจากจำนวนวินาที แล้วแปลง เป็นจำนวนเต็ม 3 หาค่าที่เหลือจากจำนวน ชั่วโมง  โดยใช้วิธีการหารแบบเอา 4000 % 3600 400 ค่าที่เหลือ เอาค่าที่เหลือจากข้อ 3 ( วินาที) มาแปลงเป็นนาที โดย 1 นาที m = r / 6o 400 / 60 เท่ากับ 6o วินาที ดังนั้น ต้องเอา 6o ไปหารแล้วแปลงเป็น m = 6 จำนวนเต็ม 5 ค่าที่เหลือจากการหาจำนวนนาที จะกลายเป็นวินาที ซึ่งเราก็ s = r % 60 = 400 % 60  แค่ เอาค่าจากข้อ 3 มาหารด้วย  6o แบบเอาค่าที่เหลือ s 40 6 4000 วินาที เท่ากับ า ชั่วโมง 6 นาที 40 วินาที # include <stdio n> total time in second >>8888 hours: 2 void main() i  ninutes: 26 : seconds : aa int total tine_sec, renain,  lebe hours,  minutes, seconds ; /กำหนดเวลาเป็นวินาที printf(  intotal tine in second >> ); scanf( yd atotal time sec) ; hours total_t ime sec / 3600 ; /ชั่วโมง renain total tine sec %  3600 ; /หาค่าทีเหลือ ninutes renain 60 ; . เนาที seconds renain % 60 ; //ค่าทีเหลือคือ วินาที printf(  inhours: %d hours ) ; printf(  inn inutes: %d ninutes) ; printf(  inseconds %d in"  seconds )  สรุปได้ว่า
--- Page 99 ---
 บทที 5 | ตัวเลขและการค้านวณ 99 ตัวอย่าง 5-5 เปรียบเทียบผลลัพธ์ทีได้ระว่างการหาร จำนวนเต็ม กับ จำนวนเต็ม #include <stdio.h> void  main() int n1 55 , n2 10 ; int a n1 i n2 : float b n1 . n2 ; float  float )n1 n2 ;  float d n1 (float in2 ; float  float )n1 (float )n2 ; printf(  ina %d b %g. c %g . d e %g  เn a. d. c. d., b a 5, b 5, 5.5, d 5.5, 5. 5  เครื่องทิมายสำหิรับการคำนวณและกำทินดค่า  เครื่องหมายสำหรับการคำนวณและกำหนดค่า (arithmetic assignment operator หรือ compound operator) เป็นการนำเครื่องหมายสำหรับการคำนวณ (arithmetic) มารวมกับ  เครื่องหมายสำหรับกำหนดค่า (assignment) เพื่อให้เป็นเครื่องหมายอันเดียวกัน ชึ่งมีดังนี้  เครื่องหมาย ชือเรียก ดัวอย่าง  addition assignment (บวกเพิ่มด้วยค่าเท่ากับ) x += 10  subtraction assignment (ลบออกด้วยค่าเท่ากับ) x -= 50  multiplication assignment (คูณด้วยค่าเท่ากับ) x 20  float division assignment (หารด้วยค่าเท่ากับ) x /= 10 %=  remainder assignment (หารแบบเอาค่าที่เหลือด้วยค่าเท่ากับ) x %= 3 ข้อมูลผลลัพธ์ของเครื่องหมายทุกอัน  จะถูกแปลงให้สอดคล้องกับชนิดข้อมูลของ ตัวแปรทีใช้เก็บผลลัพธ์  เครื่องหมาย += เป็นการบวกค่าเดิมของตัวแปรด้วยค่าที่อยู่ทางด้านขวาของ  เครื่องหมาย  แล้วผลลัพธ์หลังการบวก ก็จัดเก็บไว้ในตัวแปรนั้นตามเดิม (เหมือนกับ การแทนที่ค่าเดิม) เช่น %g . *>
--- Page 100 ---
100 การเขียนโปรแกรมภาษา c ขันพืนฐาน x= 10 x= 10 นำค่าเด็มของ ixมาบวกเพิมอีก1 บวก1 เผิมจากค่าเด็มขอม ix  แล้วเก็บผลลัพธ์ไว้ในตัวแปร x x =  x+ 1 x += 1  แล้วเก็บผลลัพธ์ไว้ที่ตัวแปร x เหมือนเดิม เหมือนเดิม x=  11 x=  11 int  ix 10 ; x+= 1 ; iix=  x +a . 1o +t . 11 x+= 1. 5 ; iix (int)12 . 5 12  float y =  4 . 5 ; y+= 0 . 5 ; iy . 4 . 5 + 0. 5 5 . 0  short 7 . 10 , a = 6 : 7+= 2 ; iiz 1o x ( -2) - 8 7+= a; iiz . 8 . 6 14  เครื่องหมาย เป็นการลบค่าเดิมของตัวแปรด้วยค่าทางด้านขวาของเครื่องหมาย เช่น int x 20 ; x . 15 ; iix=  ix 1o 20 15 a 5  float y. 10 . 5 ; y. ร -0. 5 : iy ว. -10 . 5 ( -0. 5) io. 0  เครื่องหมาย เป็นการคุณค่าเดิมของตัวแปรด้วยค่าทางด้านขวาของเครื่องหมาย เช่น int  ix 5 ; x 2 ; iix 5 2 1o x 1.25 : iix (int)(12.5 ) 12  float y . -2 . 5 ; y 4 : iy . -2 . 5 ( -4) 1o o  เครื่องหมาย /= เป็นการหารค่าเดิมของตัวแปรด้วยค่าทางด้านขวาของเครื่องหมาย เช่น int x 100; x i= 20 : iix 1oo 20 5 float y 40 . 8 ; y/= 4 : iy -40 . 8 [ -4 ) 10 .2 +> az az .
--- Page 101 ---
 บทที 5 | ตัวเลขและการค้านวณ 101  เครื่องหมาย %= เป็นการหารค่าเดิมของตัวแปรด้วยค่าทางด้านขวาของเครื่องหมาย  เพื่อหาค่าที่เหลือ (remainder ) ชึ่งเราก็ใช้หลักการเดียวกับเครื่องหมาย % ดังที่กล่าว มาแล้ว ถ้าหารไม่ลงตัวต้องเปลี่ยนเป็นค่ามากที่สุดที่ไม่เกินค่าของตัวตั้งและหารได้ลง ไป แล้วคำนวณหาที่เหลือ ซึ่งก็คือผลต่างระหว่างค่านั้น ตามหลักการเดิม เช่น int  ix 31 : x %= 4 ; iix 31 %  4 => 28  %  4  => 31 28 3 int y -26 : y %= 8 : iiy 26 %  8 => 24 %  8 => 26 [ -24 ) -2 int z . -15 : z %= 7 ; iiz -15 %  -7 => _14 % .7 => -15 [ -14 ) .1 ตัวอย่าง 5-6 รับตัวเลข 5 จำนวนทางคีย์บอร์ด แล้วหาผลรวมและค่าเฉลีย  value #1 >>30 #include <stdio.h> valua #2 >>29 value #3 )>59 void  main( ) [ value  f4 >>19 int nา n2 n3 . n4 ; sum lle int sum 0 : //เริ่มแรกให้ผลรวมเป็น o average 27.5 float  average; printf(  invalue #1 >>" ) ;  scanf( %d" &n1) : sum a n1: printf( " value #2  >>" ) ; scanf( %d" &n2 ) : sum a n2 : printf( " value #3  >>" ) ; scanf( %d" &n3 ) : sum += n3 : printf( " value #4 >>" ) ; scanf( %d" &n4 ) : sum + n4 ;
--- Page 102 ---
102 การเขียนโปรแกรมภาษา c ขันพืนฐาน average (float ) sum 4 ; /สาเหตุที่ต้องคาสต์ ก็ตามที่ได้กล่าวไปในหัวข้อก่อนนี้ printf( " insum %d sum) printf{ " inaverage %g  เทn" average) ; ตัวอย่าง 5-7 สมมติว่ามียอดเงินคงเหลือในบัญชีจำนวนหนึง  (balance) ให้รับตัวเลขทาง คีย์บอร์ด หากเป็นการฝาก  (deposit) ให้เพิมจากค่าเดิมของยอดคงเหลือ  แต่หากเป็นการถอน  (withdraw) ให้ลบออกจากยอดคงเหลือ # include  <stdio h> balance.: zeee withdra! >)499 void  main()  balance.: sbo int w. d., b 1000 :  deposit >)888 balance.: 1a88 printf( " anbalance: %d d ) ;  deposit >>688 balance.: 2938 printf( " in inwithdraw ).  withdraw))988 scanf( %d &w) ; balance.: llso  b w: printf( " balance: %d" b ) ; printf(" in indeposit >>" ) ; scanf( %d &d) ; b += d; printf( " balance: %d" b) ; printf( " in indeposit >>" ) ; scanf( "%d" &d) ; b += d; printf( " balance: %d" b ) ; printf( " in inwithdraw >> ); scanf( "%d &w) ;  b พ: printf( " balance: %d" b) ; putchar( เn" ): >> 
--- Page 103 ---
 บทที 5 | ตัวเลขและการค้านวณ 103  เครื่องหิมายสำหรับเพิ่มและลดค่า  เครื่องหมายสำหรับเพิ่มและลดค่า (increment & decrement operator) จะใช้กับข้อมูล เพียงจำนวนเดียว เซึ่งเครื่องหมายในกล่มนี้ประกอบด้วย เครืองหมาย ชือเรียก ตัวอย่าง  increment (เพิ่มจากค่าเดิมไปอีก 1) x++ หรือ ++x decrement (ลดจากค่าเดิมลงไป 1) x-- หรือ x--  เครื่องหมาย ++ เป็นการเพิมค่าของข้อมูลจำนวนนันจากเดิมไปอีก a  จึงเทียบเท่ากับ การใช้เครื่องหมาย += 1 นั่นเอง เช่น int a 10 ; a++; ffa 11 หรือเทียบเท่ากับ a += 1 float b 10.75 : ++d ; ib .. 41 75 หรือเทียบเท่ากับ b += า  short c. 999 :  short d ++c ; iid 998  เครื่องหมาย เป็นการลดค่าข้อมูลจำนวนนันจากเดิมลงอีก 1  จึงเทียบเท่ากับการใช้  เครื่องหมาย =. 1 นันเอง เช่น int a 10 ; a ffa 9  หรือเทียบเท่ากับ a ... 4 float b 10.75; b: fb .. 9.75 หรือเทียบเท่ากับ  b . 1  short c 999 ;  short d - c: iid 1ooo ( -999-1) การวางเครืองหมาย ++ หรือ  ไว้ด้านหน้า  (prefix) หรือด้านหลัง  (suffix  หรือ postfix) ของจานวน หากตัวแปรนั้นอยู่เพียงลำพัง ค่าที่ได้จะไม่ต่างกัน เช่น int  x 10 : x++ : iix= 11 ++x: iix= 12
--- Page 104 ---
104 การเขียนโปรแกรมภาษา c ขันพืนฐาน  x- iix 11  x ; iix 1o หากนำเครื่องหมาย ++ หรือ ไปกระทำร่วมกับจำนวนอื่นต ฺจะมีหลักการพิจารณาที่  แตกต่างออกไป ดังนี้ ถ้าวางเครื่องหมาย ++ หรือ ไว้ด้านหน้าจำนวนใด ให้เพิ่มหรือลดค่าของจำนวน ะู นันอีก 1 ก่อน แล้วค่อยนำค่าที้ได้ไปกระทำกับจำนวนอื่น หรือสรุปสั้นๆ เก็คือ ถ้า วางไว้ข้างหน้า ก็ให้คิดตัวที่มี +t หรือ ก่อนนันเอง เช่น  โค้ดที่เขียน วิธีคิด a = 10; (1) ++a 10 + 1 = 11  b ++a: (2) ๖ = 11 c. 100; (1) --c = c - 1 99 d = --c; (2) d = 99 a = 10; (1) ++a = 10 + 1 = 11 b = 100; (2) --b = 100 1 . 99 e = ++a + --b; (3) e = 11 + 99 110 a = 100; (1) ++a = 100 + 1 - 101 a ++a: (2) a = ++a 101 b = 100; (1) ++b  (ตัวแรก) 100 + 1 = 101 (2) ++b  (ตัวหลัง) = 101 + 1 . 102 b = ++b + ++b; (3) ++๖ + ++b 101 102 203 (4) b 203 c 100; (1) ++c (100 + 1) 101 c += ++c; (2) c += ++c => c = c + (++c) = 100+101 (3) c = 201 d = 9: (1) --e = 99 1 = 98 e 99: (2) ++d 9 + 1 = 10 e ส se ++d; (3) ae ++d 98 10 = 88 (4) e ส 88 => e = e 88 (5) e = 99 88 = 11 (ค่าเดิมของ e. คือ 99)
--- Page 105 ---
 บทที 5 | ตัวเลขและการค้านวณ 105 ถ้าวางเครื่องหมาย ++ หรือ ไว้ด้านหลังของจำนวน กรณีนี้มีวิธีการคิดยุ่งยาก เล็กน้อย  โดยให้เพิ่มหรือลดค่าด้วย ++ และ ทีหลังเครื่องหมายประเภท assignment เช่น =, +=, ส. เป็นต้น ให้ดูแนวทางจากโค้ดต่อไปนี้  โค้ดที่เขียน วิธีคิด a = 10; (1) b = a = 10 b . a++;  กำหนดค่าค้วย ก่อน ส่วน ++ ทำทีหลัง (2) a = 10 + 1 = 11 c 100; (1) d = c = 1oo d = c--; (2) c--= 100 - 1 => c = 99 c = 100; (1) c = c = 100 c = c++: (2) c++ ไม่มีผล d = c: (3) d = c . 100 c . 100; (1) c += c = 100 + 100 200 c += c++: (2) c++ 200 + 1 => c 201 d . c: (3) d = c 201 c = 100; (1) d = c + 5 105 (คำนวณ ++ ทีหลัง) d = c++ + 5; (2) ++ = 100 + 1 = 101 a = 5; (1) c = 5 * 10 50 b = 10; (2) a++ = 5 + 1 => a = 6; c = a++ b- (3) ๖-- . 10 - 1 => ๖ = 9 a = 5; (1) --b = 10 - 1 = 9 b 10; (2) c = 5 * 9 = 45 c = a++ b: (3) a++ = 5 + 1 = 6 ความจริงแล้ว  หลักการคำนวณดังที่กล่าวมานี้ พิจารณาตามลำดับความสำคัญของ  เครื่องหมาย ดังที่จะกล่าวถึงในหัวข้อถัดไป ลำดับการประมวลผลของเครื่องทิมาย หากเราต้องใช้เครื่องหมายร่วมกันมากกว่า 1 อย่างสำหรับการคำนวณแบบต่อเนื่องกัน ก็  อาจเกิดปัญหาว่า จะนำเครื่องหมายใดมาพิจารณาก่อน เพราะการวางตำแหน่งหรือจัดกลุ่มที่ต่าง กน ผลลัพธ์ที้ได้ก็อาจแตกต่างกันไปด้วย เช่น ลองพิจารณาโค้ดต่อไปนี้
--- Page 106 ---
106 การเขียนโปรแกรมภาษา c ขันพืนฐาน  ix 1o 20 5 ; /ถ้าคิดในแบบ [10 20 ) / 5 . 6 /ถ้าคิดในแบบ 1o ( 20 5 ) 14  จากโค้ด  หากพิจารณาในมุมมองของเราเอง  อาจตัดสินใจไม่ได้ว่าอันไหนถูกต้อง  ดังนั้น  ในภาษา c (รวมถึงภาษาคอมพิวเตอร์อื่นฯ) จึงมีการจัดลำดับความสำคัญของเครื่องหมาย ชึ่ง จากเครื่องหมายการคำนวณทางคณิตศาสตร์ที่เราได้ศึกษามา ฺสามารถจัดลำดับความสำคัญหรือ ลำดับการประมวลผลได้ดังนี้ อาคิบ  เครื่องหมาย พิจารณาวงเล็บเป็นอ้นดับแรก 2 ax (ค่าติดลบ เช่น -5) 3 ++x.  x (วางไว้ข้างหน้า) i. ii % 5 6 =, += .. /= %= 7 x++. x-- (วางไว้ข้างหลัง)  เครื่องหมายทีมีลำดับเท่ากัน เครื่องหมายที่มาก่อนจะถูกนำมาใช้ในการคำนวณก่อน (หรือ ดำเนินการจากซ้ายไปขวา) โดยแนวทางการใช้งาน มีดังตัวอย่างต่อไปนี้ ตัวอย่าง 5-8 เป็นการทดสอบลำดับความสำคัญของเครื่องหมายทางคณิตศาสตร์ # include <stdio. h> void  main( ) t int a., b, c. d. f. g: a . 2 1oo i 10 : ffa ( 2 100 ) i 1d 20 b 1oo i 1o 2 : fb { 1oo 10 ) 2 20 c . 1 + 100 10 : iic . 1 ( 1oo 10 ) e.
--- Page 107 ---
 บทที 5 | ตัวเลขและการค้านวณ 107 d 2 1oo .า 1o 30 ; iid ( {2 100) 10 ) 30 e. 5 ; f 10 : g e++ f; ig 5 (10 1) 45 //เนื่องจาก e++ มีลำดับความสำคัญต่ำสุด //ดังนั้น การประมวลผลด้วย และกำหนดค่าด้วย //จึงเกิดขื้นก่อน e-- printf( " ina %d  lnb %d  inc %d ind %d %d" 2a b, c, d., g b 28 leo1 ) d se g 45 .ว  ในทางปฏิบัติเพื่อทำให้โค้ดอ่านง่ายขึ้น  และหลีกเลี่ยงข้อผิดพลาดจากลำดับความสำคัญ ของเครื่องหมาย ควรใช้วงเล็บในการจัดแบ่งกลุ่มให้ชัดเจน เหมือนกับที่แสดงในคำอธิบาย  ฟังก์ชันทางด้านคณิตศาสตร์ c จะมี ฟังก์ชันทางด้านคณิตศาสตร์ให้เราเลือกใช้อยู่จำนวนหนึ่ง แต่ฟังก์ชันเหล่านี้ อยู่ในเฮดเดอร์ math.h  ดังนั้น  เราต้องอ้างอิงด้วยคำสั่ง  ceil  ceil include  เสียก่อนจะใช้งานได้  โดยในที่นี้จะกล่าวถึงเฉพาะ 3 2.5 -1.5  ฟังก์ชันที่น่าสนใจpซึ่งเรามีโอกาสได้ใช้งานสำหรับการเขียน 1.5 -2.5 ะ -3 โปรแกรมทั่วซ ไปเท่านั้น (ภาพขวามือใช้ประกอบการ floor floor พิจารณาฟังก์ชัน ceil และ floor) abs(เลขจำนวนเต็ม) หาค่า absolute ของเลขที่กำหนด เช่น abs(-10) => 10  pow(เลขฐาน, ยกกำลัง) หาค่าเลขยกกำลัง เช่น pow(10, 3) => 1000 sqrt( จำนวนบวก) รากที่สองของจำนวนที่ระบฺุ(เต้องไม่ติดลบ) เช่น sqrt(100) 10  cbrt( ตัวเลข)  (cube root) หารากที่สามของจำนวนที่ระบฺุเช่น cbrt(1000) 1d round( ตัวเลข) ประมาณค่าเป็นเลขจำนวนเต็มที่ไกล้เคียง ถ้าเศษหรือทศนิยม เตั้งแต่ o.5  จะปัดเป็นจำนวนเต็มถัดไป เช่น round(1.1) round(1.5) 2 round(0.5) round(0.49) d. round(-1.1) . -1 round(-1.5) . -2  ing a.  ในภาษา
--- Page 108 ---
108 การเขียนโปรแกรมภาษา c ขันพืนฐาน  ceil(ตัวเลข) จำนวนเต็มที่อยู่ถัดไปจากค่าที่ระบฺุ(จากภาพที่แล้ว ให้ดูที่ด้านบนของ ตัวเลขที่ระบุ) เช่น  ceil(1.0)  ceil(1.1) 2  ceil(1.49) 2  ceil(-1.1) . -1  ceil(1.5) 2  ceil(-1.5) -1 floor( ดัวเลข) จำนวนเต็มที่อยู่ก่อนค่าที่ระบฺุ(จากภาพที่แล้ว  ให้ดูจำนวนเต็มที่อยู่ด้าน  ล่างของตัวเลขที่ระบุ) เช่น  floor(1.0)  floor(1.1) 1  floor(1.5) . 1  floor(-1.1) . -2  floor(1.9) . 1 floor(-1.5) -2  trunc(ตัวเลข) ตัดส่วนทศนิยมทิ้งไป ไม่ว่าจะเป็นเท่าไหร่ก็ตาม เช่น  math. trunc(10,99) 10 math. trunc(-10.5) -10  exp(x) หาค่า exponential (e^) เช่น exp(2) e 7.3890 log(x) หาค่า logarithm มีเลขฐานเป็น e เช่น |og(2.71828) 1.0  sin(radian) หาค่า sine ของมุมในหน่วย เรเดียน เช่น sin(3.14/2) 1.0  costradian) หาค่า cosine ของมุมในหน่วย เรเดียน เช่น cos(3.14) = -1.0 tan(radian) หาค่า tangent ของมุมในหน่วย เรเดียน เช่น tan(3.14/4) 1.0  degrees(radian) แปลงจากค่าเรเดียนเป็นองศา เช่น degrees(3.14/2) 90 radians(degree) แปลงจากค่าองศาเป็นเรเดียน เช่น radians(90) 1.57 ตัวอย่าง 5-9  แนวทางการใช้ฟังก์ชันทางด้านคณิตศาสตร์ #include <stdio.h> #include  <math.h> void  main() i printf(" in%g cei1(5. 55 ) ) ; //6 printf( " in%g" floor(1.23) ); //1 printf( " an%g sart (100) ) ; /i1o int radius 10; float area 3 . 141 pow( radius, 2 ) ; printf(  inarea %g area) ; //314 . ,
--- Page 109 ---
 บทที 5 | ตัวเลขและการค้านวณ 109 กาธสร้างเลขสุ่ม ในบางกรณี ค่าที่จะกำหนดให้แก่ตัวแปรอาจมีความไม่แน่นอน  ฺสามารถเป็นไปได้หลาย อย่าง  จึงระบุเอาไว้ล่วงหน้าไม่ได้ และไม่อาจรับค่าจากผู้ใช้ทางคีย์บอร์ดอีกด้วย เช่น  ค่าของตัวแปร a อาจเป็นค่าใดค่าหนึ่งระหว่าง 1 - 9 หรือค่าของตัวแปร b จะเป็นอะไรก็ได้ที่ไม่เกิน 1oo ลักษณะการกำหนดค่าที่ไม่แน่นอนดังกล่าวนี้ เราสามารถนำวิธีการสร้างเลขสุ่มมาใช้ได้ โดยในภาษา c. มีวิธีการสร้างเลขสุ่มได้  อย่างไรก็ตาม  เพื่อให้ได้เลขที่มีค่าไม่แน่นอนในแต่ละ  ครั้ง ผู้เขียนจะแนะนำแนวทางในการสร้างเลขสุ่มที่เรานิยมใช้งานจริงไปเลย ดังขั้นตอนต่อไปนี้ กรณีนี้ เฮดเดอร์ที่เราต้องอ้างอิงด้วย include ก็คือ stdlib.h และ time.h ก่อนที่จะสร้างเลขสุ่มให้เรียกฟังก์ชัน srand( ตัวเลข) โดยตัวเลขที่กำหนดให้แก่ฟังก์ชัน นี้ ควรเป็นเลขที่มีค่าไม่เ |แน่นอน เพื่อให้การสุ่มแต่ละครั้งได้ผลลัพธ์ที่แตกต่างกันออก ไป และส่วนใหญ่ เรานิยมใช้ค่าเวลาปัจจุบัน ซึ่งกำหนดด้วยฟังก์ชัน time(0) เพราะ ค่าเวลาในแต่ละขณะจะเปลี่ยนแปลงไปเรื่อยๆ หาเลขสุ่มด้วยฟังก์ชัน rand() ชึ่งจะได้เป็นเลขจำนวนเต็ม  ทั้งนี้  เมื่อเรียกฟังก์ชัน rand()  แต่ละครั้ง จะได้เลขที่แตกต่างกัน (โค้ดถัดไป  เป็นแค่ แนวทางเฉพาะส่วนที่  เกี่ยวข้อง และผลลัพธ์ที่ได้จะไม่แน่นอน) # include <stdlib.h> / /สำหรับฟังก์ชันการส่มตัวเลข #include <t ime h> / /สำหรับฟังก์ชันอ่านเวลาปัจจุบัน  srand( tine(0) ); //ให้ตัวแปลภาษาจัดเตรียมการสร้างเลขสุ่ม printf('  in%d" rand( //2743 printf( in%d rand //257 printf(' in%d" rand //16282 printf( " in%d rand( //32784 ถ้าเราต้องการเลขสูงสุดเท่าใด อาจนำเลขนั้นมาหารแบบเอาค่าที่เหลือ (เครื่องหมาย %) เช่น (มีคำอธิบายเพิมเติมถัดจากโค้ด) ถ้าต้องการค่าน้อยกว่า 10 ให้หารด้วย 10 เช่น rand() % 10 ถ้าต้องการค่าน้อยกว่า 1oo ให้หารด้วย 1od เช่น rand( ) % 100 ถ้าต้องการค่าน้อยกว่า 1ooo ให้หารด้วย 1ooo เช่น rand() % 1000 ถ้าต้องการค่าน้อยกว่า 2o ให้หารด้วย 20 เช่น rand( ) % 20
--- Page 110 ---
110 การเขียนโปรแกรมภาษา c ขันพืนฐาน ถ้าต้องการค่า ไม่เกิน 1o ให้หารด้วย 11 เช่น rand() % 11 ถ้าต้องการค่า ไม่เกิน 1oo ให้หารด้วย  101 เช่น rand() % 101  srand( tine(0) ) ; int rand( ); int a r % 10 ; //จะได้ค่า o 9 int b rand() %  100 ; //จะได้ค่า 99 int c rand() % 1000; i /จะได้ค่า 999 int d rand( ) %  20 : //จะได้ค่า 0 19 int e rand( ) % 11 : //จะได้ค่า o 1o int f rand( ) % 101 ; //จะได้ค่า o 1oo int g rand( ) %  21 : //จะได้ค่า 0 20  ผู้อ่านอาจสงสัยว่าการนำเลข 10, 100, ไปหารแบบเอาค่าที่เหลือ มันจะได้ผลลัพธ์เป็น อย่างไร เซึ่งขออธิบายเพิ่มเติม ดังแนวทางต่อไปนี้ int rand( ) สมมติว่าสุ่มได้เลข 1234  ถ้าต้องการค่าน้อย 1o 1234 1o 123 4 => 1234 % 1o => 4 หรือคิดง่ายๆ ว่าคือเศษตัาสุดท้ายของมันนันเอง ถ้าเราหารด้วย 1o  ถึงอย่างไรเศษที่เหลือก็ต้องน้อยกว่า 1o สมมติว่าสุ่มได้เลข 2029  ถ้าต้องการค่าน้อยกว่า 1o 2029 1o 202 . 9 = 2029 %  10 => 9 สมมติว่าสุ่มได้เลข 35790  ถ้าต้องการค่าน้อยกว่า 1o 35790 1d 3579. 0 =- 35790 % 1o => o สมมติว่าสุ่มได้เลข 1234  ถ้าต้องการค่าน้อยกว่า 1oo 1234 1oo 12 . 34 => 1234 % 100 => 34 หรือคิดง่ายๆ ว่าคือเศษสองตัวสุดท้ายของมันนั่นเอง สมมติว่าส่มได้เลข 35790  ถ้าต้องการค่าน้อยกว่า 1oo 35790 1oo 357 . 90 => 35790  % 1oo => 90 สมมติว่าส่มได้เลข 1009  ถ้าต้องการค่าน้อยกว่า 1oo 1009 1oo 1o. 09 => 1009 % 1oo =2 09 .. 9 ถ้าต้องการค่าไม่เกิน 1o  เราก็เอา 1า ไปหารแบบเอาค่าทีเหลือ เพื่อไห้ค่าที่เหลือ (เศษ) มีค่าสูงสุดได้แค่  1o เพราะค่าทีเหลือไม่มีทางเท่ากับหรือเกินตัวหาร เช่น
--- Page 111 ---
 บทที 5 | ตัวเลขและการค้านวณ 111 35791 %  11 . 8 35792  %  11 9 35793  %  11 1o 35794 %  11 o หรือสามารถสรุปเป็นสูตรการสร้างเลขสุ่มระหว่าง d - max ได้ดังนี้ r_o_max rand( ) % lmax 1)  แต่กรณีที่เราต้องการค่าในช่วงทีไม่ต้องเริ่มจาก 0 เช่น 1 - 5 10 - 20, 100 999 ให้ใช้ n min_max min rand( ) %  (nax nin + 1) เมือ min และ max คือค่าตำสุดและสูงสุดของช่วงตัวเลขที่ต้องการ ตามลำดับ ซึ่งหลัก การโดยสังเขปคือ สมมติว่าเราต้องการเลขสุ่มระหว่าง 5 20 แสดงว่าหาตัวเลขมาบวกเข้ากับ 5 เพื่อให้ได้ผลบวกตั้งแต่ 5 ขึ้นไปแต่ไม่เกิน 20 นั่นคือ ค่าที่นำมาบวกจะต้องอยู่ระหว่าง 0 ถึง 15 (20 5) เนื่องจาก 5 + 0 = 5 และ 5 + 15 = 20 ซึ่งสิ่งที่เราต้องพิจารณาต่อไปคือ ทำอย่างไร  จึงจะได้เลขระหว่าง 0 - 15 ซึ่งช่วงเลขสุ่มที่เริ่มจาก o - max นี้ ก็ไปตรงกับหลักการหาเลขสุ่มที่  เราเรียนรู้มาแล้ว ดังนัน r_5_20 = 5 a rand() % (20 - 5 + 1) ลองพิจารณาที่ rand() % (20 - 5 + 1) => rand() % (16) =>  จะได้ค่าระหว่าง 0 - 15 ถ้าสุ่มได้เลข 0 => 5 + 0 = 5 ถ้าสุ่มได้เลข 1 => 5 + 1 = 6 ถ้าสุ่มได้เลข 5 => 5 + 5 = 10 ถ้าสุ่มได้เลข 14 => 5 + 14 = 19 ถ้าสุ่มได้เลข 15 => 5 + 15 = 20  สำหรับแนวทางการหาเลขสุ่มในลักษณะต่างๆ รวมถึงประยุกต์`ใช้งานแบบง่ายๆ ตัวอย่างต่อไปนี้  สูตรดังนี้  ให้ดูจาก
--- Page 112 ---
112 การเขียนโปรแกรมภาษา c ขันพืนฐาน ตัวอย่าง 5-10 การสร้างเลขสุ่มตามหลักการที่กล่าวมา โดยกำหนดขอบเขตที่แตกต่างกัน # include <stdio.h> lอ =) 7 รอ => 5b # include <stdlib.n> loo =2 85 # include at ine h> 999 วา 981 lo => 3 void  main() s8 leo =) 97 srand  tine(0)); rand( ; printf( " in o 1o %d" rand() %  11 ) : printf( " in o 5o %d" rand() %  51) ; printf( " in o. 1oo . %d" rand( ) %  101) : printf( " in o 999 %d เn randu) ช 1000 ) ; printf( " mn- printf( " mn 1 1o => %d" (1 rand( ) % ( 10 1 + 1))); printf(  in 50 1oo => %d ( 50 rand() % ( 100 50 1) ) ) : putchar( in") ตัวอย่าง 5-11 สร้างเลขสุ่มแบบจำนวนเต็ม โดยสมมติว่าเป็นการออกรางวัลเลขท้าย 2 ตัว  จำนวน 1 รางวัล, เลขหน้า 3 ตัว และเลขท้าย 3 ตัวอย่างละ 2 รางวัล  ซึ่งมีคำแนะนำดังนี้  รางวัลเลขท้าย 2 ตัว ไม่ ควรใช้วิธีสร้างเลขสุ่มระหว่าง0 - 99 เพราะอาจได้เลขหลักเดียว รางวัลเลขหน้าและท้าย 3 ตัว ไม่ ควรใช้วิธีสร้างเลขสุ่มระหว่าง 0 - 999 เพราะอาจ  ได้เลข 1 - 2 หลัก  สำหรับวิธีที่ควรใช้ในแต่ละรางวัลนั้น rand( )% 10 rand( )% 10 rond( )% 10  ให้สุ่มเลขโดดระหว่าง (0 - 9) ทีละหลัก  แล้วนำมาต่อกันจนครบตามจำนวนหลัก บู ของรางวัลนันซ # include <stdio.h> last  tno digits prize: 4  5 # include <stdlib.n> first  three digits prize: 6  3  7 last  three digits prize: 1 4  8 # include <time h> void  main() srand( tine(0) ): rand( ); /รางวัลเลขท้าย 2 ตัว printf( inlast two digits prize: %d %d => =>
--- Page 113 ---
 บทที 5 | ตัวเลขและการค้านวณ 113 rand( )%10 rand( )%10 ) /รางวัลเลขหน้า 3 ตัว printf(  infirst three digits prize: %d  %d %d" rand( )%10 , rand( )%10 , rand( )%10 ) /รางวัลเลขท้าย 3  ตัว printf( " inlast three digits prize: %d  %d  %d  in rand( )%10 rand( )%10, rand( )%10 ตัวอย่าง 5-12 การสร้างรหัสผ่านแบบสุ่มที่ประกอบด้วย 0 - 9, a - z, a- z รวมกัน 6 ตัว ซึ่ง  หลักการโดยสังเขปคือ นำอักขระที่จะใช้สุ่มเพื่อสร้างรหัสผ่านมาเรียงเป็นสตริงเดียวกัน เช่น '0123..89abcde. ..xyzabcd...xyz' ซึ่งอักขระทั้งหมดรวมกันจะมีความยาวเท่ากับ 10 + 26 + 26 . 62 วิธีการเข้าถึงอักขระตัวใดตัวหนึงภายในสตริง ให้เราระบุเลขลำดับของอักขระตัวนันไว้ ในวงเล็บ [] ต่อท้ายชื่อตัวแปร โดยอักขระตัวแรกจะมีลำดับเป็น 0 เช่น str[0] หมายถึง อักขระตัวแรกที่เก็บในตัวแปร str str[1] หมายถึง อักขระตัวที่สอง str[2] หมายถึง อักขระตัวที่สาม รายละเอียดทั้งหมดของเรื่องนี้ อยู่ในบทที่ 10 แต่เราจะนำสิ่งที่จำเป็นบางส่วนมา  ใช้งานล่วงหน้าไปก่อน สร้างเลขสุ่มให้ได้ค่าระหว่าง 0 - 61 (มีอักขระ 62 ตัว โดยตัวแรกมีลำดับเป็น 0 แสดง ว่าตัวสุดท้ายมีลำดับเป็น 61) นำตัวเลขที่สุ่มได้ไปใช้เป็นเลขลำดับในการอ่านนำอักขระจากสตริง จะได้อักขระ 1 ตัว เช่น ถ้าสุ่มได้เลข 2 ก็อ่านอักขระในลำดับนั้นด้วย str[2] เป็นต้น เนื่องจากเราต้องการรหัสผ่านที่มีอักขระ 6 ตัว ดังนั้น ต้องทำซ้ำก้น 6 ครั้ง
--- Page 114 ---
114 การเขียนโปรแกรมภาษา c ขันพืนฐาน นำอักขระที่ได้ในแต่ละครั้งมาเรียงต่อกัน ก็จะได้รหัสผ่านตามที่ต้องการ # include <stdio. h>  chors[rond( )% 62] p9th 4 n # include <stdlib.n>  chorsirond( )% 62] # include <t ime h>  chars[rand( )% 62] # include <string. h> void main() char chars[100] "0123456789 strcat ( chars.  abcdefghijkinnopgrstuvwxyz ). strcat ( chars.  abcdefghi jkl mnoporstuvnxy7" ) srand  tine(0)): rand( ): int rand( ) %  62 ; //จะได้เลข 0-61 char c1 chars[r] : char c2 chars [rand( ) % 62 ] : char c3 chars [rand( ) % 62 ] : char c4 chars [rand( ) % 62 ] : char c5 chars[ rand( ) % 62 ] ; char c6 chars [ rand( ) % 62 ] ; printf(  inpassword: %c%c%c%c%c%c เท" c1 c2 c3 c4 c6 ) /ตัวอย่างผลลัพธ์ เช่น  jtah2m การแปลงสูตธคณิตศาสตร์เป็นโค้ดภาษา c หากเราจำเป็นต้องคำนวณโดยใช้สูตรทางคณิตศาสตร์ ก็ต้องแปลงสูตรนั้นให้อยู่ในรูปแบบ ของโค้ดภาษา c ชึ่งสามารถสรุปแนวทางในเบื้องต้นได้ดังนี้ สูตร c ab a b  pow(a,  b) a a /b b va  sqrt(a) หรือ pow(a, (1/2)) c5 ,  โค้ดภาษา จ6
--- Page 115 ---
 บทที 5 | ตัวเลขและก รจาบวณ 115 สูตร  โค้ดภาษา c va a'1/)  pow(a,  (1/n)) mc2 m  pow(c, 2) va2  sqrt(pow(a, 2)  pow(๖, 2)) 4_-r3 (4 / 3) 3.141  pow(r. 3) 3 ab + c ((a ๖) + c) / (d + (1 / e)) d + - e la  pow(b, 2)) / (4 (tan(3.141 /a))) 4 x tan(a ตัวอย่าง 5-13 สูตรการหาปริมาตรทรงกลมคือ ให้รับค่ารัศมีทางคีย์บอร์ด แล้วคำนวณ 3 หาปริมาตร  #include <stdio.h> radius of sphere >>15 #include <math. n> volume 19597.5 void  main() { float radius volune ; printf(" inradius of  sphere > > ); scanf( "%5"  &radius) ; volune (4/3 ) (3. 14 )  pow( radius 3 ) ; printf(  volune %g  in"  vo lune ) ; ตัวอย่าง 5-14 สูตรในการคำนวณหามูลค่าในอนาคตของเงินลงทุน (future value) คือ future value anount (1+rate )pertod ซึ่งหากเราเขียนสูตรในแบบโค้ดภาษา c ก็จะเป็นดังนี้ future_ value amount pow( (1 rate) period) + ๖2 a x b2 atr
--- Page 116 ---
116 การเขียนโปรแกรมภาษา c ขันพืนฐาน amount คือจำนวนเงินที่ลงทุนเริ่มแรก a rate คืออัตราดอกเบีย  period คือช่วงระยะเวลาที่ลงทุน  ทั้ง rate และ period. ต้องเทียบกับช่วงเวลาที่เป็นหน่วยเดียวกัน เช่น ฺถ้า rate เป็น  อัตราดอกเบี้ยแบบ % ต่อป ดังนั้น period ก็ต้องมีระยะเวลาเป็นปีด้วย  ให้เขียนโค้ดเพื่อรับข้อมูลทางคีย์บอร์ดที่ต้องใช้ตามสูตรดังกล่าว แล้วคำนวณหาค่า future  value # include <stdio.h> initial investment >)188009  yearly rate (%) >>1. 5 # include <math h>  number of years >25 void  main()  future value 197728. 39  float  amount. rate fv; int  year: . /เงินลงทุนเริมแรก printf(  ininitial  investment >> ): scanf( %f"  &amount ); . /อ้ตราดอกเบียต่อป (%) printf( " yearly rate ( %% ) >> " ) : scanf( "%f arate) : . /ระยะเวลาที่ลงทุน (ปี) printf( " number of  years >> ) :  scanf( ad &year) : rate /= 100; //เปลี่ยน %  เป็นตัวเลข fv amount pow( (1 rate.) year) printf( " infuture value %0 .2f  เn" fv) : ตัวอย่าง 5-15 รูปหลายเหลี่ยม (polygon) ที่ความยาวแต่ละด้านและมุมเท่ากันทั้งหมด มีสูตร  ในการคำนวณหาพื้นที่คือ  polygon_area a xtan  =| nxs2
--- Page 117 ---
 บทที 5 | ตัวเลขและการค้านวณ 117 ชึ่งหากเราเขียนสูตรในแบบโค้ดภาษา c ก็จะเป็นดังนี้  polygon area in pow( s , 2 ) ) i ( 4 tan(3.14/n) ) เมือ n คือจำนวนด้าน และ s. คือความยาวของแต่ละด้าน  ให้เขียนโค้ดเพื่อรับข้อมูลเป็น จำนวนด้านและความยาวของแต่ละด้าน แล้วคำนวณหาพื้นที่ของรูปทรงดังกล่าว #include <stdio.h> number of sides >>6 length  of each sida >>19  #include  <nath h>  polygon area 259 97 void  main() i int n:  float s. a; //จำนวนด้านของรูปหลายเหลี่ยม printf(" annunber of sides >>  ); scanf( %d an) : //ความยาวของแต่ละด้าน printf(" length of each side .> > ) ; scanf( %f" &s ) : a (n pow( s. 2 ) ) i ( 4 tan(3.14/n) ) ; printf(  inpolygon anea %0 . 2f in" a.) ; ตัวเลขและการคำนวณทางคณิตศาสตร์ เป็นพื้นฐานสำคัญที่เราต้องนำไปใช้งานอยู่ตลอด ในการเขียนโปรแกรม  โดยเฉพาะอย่างยิ่ง การเลือกใช้เครื่องหมายหรือฟังก์ชันต่างๆ  เราต้อง เข้าใจหลักการและลักษณะของผลลัพธ์ที่เกิดขึ้น  มิฉะนั้นเกิดข้อผิดพลาดจนส่งผลต่อการทำงาน ของโปรแกรมในขั้นตอนอื่น"ได้
--- Page 118 ---
     . รราร >า ปต  . ;: {?,:.: :,:::7 . ก ext ecred_ob]ec >[ay .. aa].sele selec . dc erator cunsse .. the is x m รอ .       ต olea object* operator):  selected anrror . nirror อ  none อ bject
--- Page 119 ---
อี การเปรียบเทียบและกำทินดเงื่อนไข นบทนี้เราจะได้ศึกษา เกี่ยวกับการใช้คำสั่ง if., else if และ else เพื่อตรวจสอบเงื่อนไขก่อน ที่จะดำเนินการในขั้นตอนต่อไป แต่อย่างไรก็ตาม ฺการตรวจสอบเงื่อนไขดังกล่าวนั้นจะต้อง  ใช้เครืองหมายเปรียบเทียบและตรรกะ ดังนั้น  สิ่งที่เราจะต้องศึกษาเป็นลำดับแรกก็คือ  การใช้  เครื่องหมายในกลุ่ม comparison และ logic  ซึ่งถือเป็นพื้นฐานที่สำคัญอย่างหนึ่งของการเขียน โปรแกรม เพื่อควบคุมการทำงานต่างๆ ให้อยู่ภายใต้เงื่อนไขที่เราต้องการ ข้อมูลชนิดบูลีน (bool และ bool) นอกจากข้อมูลชนิดตัวเลขและสตริงที่เราได้ศึกษาผ่านมาแลว ในภาษา c ยังมีชนิดข้อมูล พื้นฐานที่สำคัญอีกอย่างหนึ่ง นั่นคือ ข้อมูลแบบจริงเท็จ  boolean) ซึงในภาษา c จะแทน ด้วยคำว่า  bool และถือเป็นคำสงวนอีกคำหนึง โดยลักษณะที่สำคัญของข้อมูลชนิดนี้คือ ต้องมีค่าอย่างใดอย่างหนึ่งระหว่าง  o  สำหรับค่าที่เป็น เท็จ 1  สำหรับค่าที่เป็น จริง bool a., p; a . 1 ; //จริง  b . 0 ; //เท็จ การใช้เลข 4 และ  0 แทนค่า จริงเท็จ ในภาษา c บางทีก็สร้างความสับสนเมือเรา เปลี่ยนไปใช้ภาษา อื่นตฺหรือเคยใช้ภาษาอื่นแล้วมาเขียนภาษา c  เนืองจากภาษา คอมพิวเตอร์ส่วนใหญ่ในยุคปัจจุบันจะแทนค่าบูลืนด้วยคำว่า true และ false ะู  ทั้งนี้ เราสามารถปรับเปลี่ยนให้เข้ากับรูปแบบของภาษา อื่นต ดังนี้ (บูลืน: โดยตรง
--- Page 120 ---
120 การเขียนโปรแกรมภาษา c ขันพืนฐาน  อ้างอิงเฮดเดอร์ stdbool.h ด้วยคำสั่ง include กรณีนี้ เราอาจกำหนดชนิดข้อมูลเป็นคำว่า bool เหมือนเดิม หรือจะใช้คำว่า  bool. ก็ได้  กำหนดค่าของตัวแปรเป็นคำว่า true หรือ false โดยตรงได้เลย ชึ่งก็จะมีค่าเทียบ  เท่ากับ 1 และ 0 ตามลำดับ #include <stdbool n>  boo1 a true; /เทียบเท่ากับ boo1 b false; /เทียบเท่ากับ 0. boo1 true ; /เทียบเท่ากับ boo1 false; i/เทียบเท่ากับ 0. boo1 e 0 : /เทียบเท่ากับ false ถ้าเรากำหนดค่าเป็นเลขอื่นซที่ไม่ใช่ 1 กับ 0 หรือ  true กับ false  ให้กับตัวแปร ชนิด bool หรือ bool ค่านั้นจะถูกเปลี่ยนเป็นเลข ไ  เสมอ หรือให้มีค่าเป็น true นั่นเอง เช่น boo1 a.,  b c, d f; a 0 ; b 1 ; c 2 ; d - 1 ; e 3 . 141 : f  xxx" printf( "a %d b %d., c %d., d %d e %d f. %d" a. b. c., d., e. f ); //ผลลัพธ์คือ a o, b . 1. c=1. d ส. e =  1, f=t  สำหรับในหนังสือเล่มนี้ ตหากมีกรณีที่ต้องสร้างตัวแปรแบบจริงเท็จโดยตรง จะเลือกกำหนด  ค่าเป็นคำว่า true/ false แม้ต้องอ้างอิงเฮดเดอร์ stdbool.h ก็ตาม เพื่อให้ผู้อ่านเกิดความเคยชิน เมื่อเปลี่ยนไปเขียนโปรแกรมภาษา อื่นฑในอนาคต e. 1,
--- Page 121 ---
บทที 6 | การเปรียบเทียบและกาหนดเงือนไข 121  เครื่องหิมายสำหิรับการเปรียบเทียบ  เครื่องหมายสำหรับการเปรียบเทียบ (comparison operator) ใช้สำหรับหาค่าความจริง ระหว่างข้อมูล 2 อย่าง เชึ่งหากการเปรียบเทียบเป็นจริง ก็จะได้ผลลัพธ์เป็น true แต่หากเป็นเท็จ  จะได้ผลลัพธ์เป็น false โดยเครื่องหมายในกลุ่มนี้คือ เครื่องหมาย ชื่อเรียก การไช้งาน  เท่ากันกับ (equality หรือ equal to) a == b ไม่เท่ากันกับ (inequality หรือ not equal to) a .!= b  มากกว่า (greater than) a > b น้อยกว่า (less than) a < d >=  มากกว่าหรือเท่ากับ (greater than or equal to) a >= b =< น้อยกว่าหรือเท่ากับ (less than or equal to) a <= b  เครื่องหมายในกลุ่มนี้ จะให้ผลลัพธ์เป็น true  (1) หรือ false  (o) อย่างใดอย่างหนึ่ง เท่านั้น  เครื่องหมาย == เป็นการเปรียบเทียบว่าข้อมูลทั้ง 2 ค่าเท่ากันหรือไม เช่นในโค้ดถัดไป (ความจริง เราไม่จำเป็นต้องเขียนการเปรียบเทียบในวงเล็บก็ได้ แต่ถ้าเขียนจะอ่านโค้ด  ง่ายกว่า) boo1 a (1 .. 2 ) ; //1 .. 2  เป็นเท็จ  ดังนั้น a  false boo1 d (5 .ร 5 ) ; //5 .. 5  เป็นจริง  ดังนั้น b true boo1 c. ya .ร b) ; iifalse .. true เป็นเท็จ //ดังนั่้น c false int  x 10; int y 20 ; boo1 7 ix ==  y) ; /i1o .. 20  เป็นเท็จ  ดังนั้น 7 false boo1 w lz .=  false ) ; iifalse .  false  เป็นจริง //ดังนั่น w true boo1 v (o .= 0 . 0 ) ; //ไม่ว่า o  จะเป็นบวกหรือลบก็มีค่าเท่ากันเสมอ  ดังนั้น v true
--- Page 122 ---
122 การเขียนโปรแกรมภาษา c ขันพืนฐาน  เครื่องหมาย != เป็นการเปรียบเทียบว่าทั้ง 2 ค่านั้น ไม่เท่ากันใช่หรือไม่ เช่น boo1 a (1 .= 2 ) : //1 != 2 เป็นจริง ดังนั้น a true bool b ( 5 .= 5 ) : //5 .. 5 เป็นเท็จ ดังนั้น d false bool c. (a .= b.) : iitrue ! = false  เป็นจริง //ดังนั้น c. true int  x 10 : int y 20 : bool z ix //10 e 20  เ็นจริง ดังนัน z true bool w (z . 0 ) : //1 itrue) o  เป็นจริง //ดังนั้น w true  เครื่องหมาย เป็นการเปรียบเทียบว่าค่าที่ระบุทางด้านข้ายของเครื่องหมาย มากกว่า  ค่าทางด้านขวาหรือไม่ เช่น boo1 a (1 > 2 ) ; //1 > 2  เป็นเท็จ ดังนั้น a false boo1 b ( 5 >  5 ) ; //5  > 5  เป็นเท็จ ดังนั้น b false boo1  c (a b) iio ifalse) d (false) เป็นเท็จ //ดังนั้น c false int  x= 10 ; int y 20 ; boo1 z ix >  y) ; //10 20 เป็นจริง ดังนั้น 7 true boo1 พ (z > 0 ) ; //1 (true) o เป็นจริง ดังนั้น w true boo1 v. (1 >  1.0) ; //1 itrue) > a o เป็นเท็จ /ดังนั้น v false  เครื่องหมาย เป็นการเปรียบเทียบว่าค่าที่ระบุทางด้านข้ายของเครื่องหมายน้อยกว่า  ค่าทางด้านขวาหรือไม่ เช่น boo1 a (1 <  2 ) ; /11.< 2 เป็นจริง ดังนั้น a true boo1 b ( 5 <  5 ) ; //5 < 5  เป็นเท็จ ดังนั้น b  false boo1 c (a <  ๖) ; /11 (true) < o (false) เป็นเท็จ //ดังนั้น c  false int x = 10 ; int y. . 20 : boo1 z ix < y); ii1o < 20  เป็นเท็จ ดังนัน z false boo1 ง (o < 2 ) ; iio <  0  ifalse) เป็นเท็จ //ดังนั้น wี false y): l=
--- Page 123 ---
 บทที 6 | การเปรียบเทียบและกาหนดเงื่อบไข 123  เครืองหมาย >= เป็นการเปรียบเทียบว่าค่าที่ระบุทางด้านช้ายของเครื่องหมาย มากกว่า หรือเท่ากับ ค่าทางด้านขวาหรือไม่ เช่น boo1 a (1 >= 2 ) ; //1 > 2  เป็นเท็จ  ดังนั้น a  false boo1 b (5 >= 5 ) ; //5 ว. 5  เป็นจริง  ดังนัน b true boo1 c ya >= b) ; io  (false) >= a (true) เป็นเท็จ //ดังนั้น c. false int  x 10 : int y 20 ; boo1 z ix >=  y); //10 . 20  เป็นจริง  ดังนัน z true boo1 w (z >= 0 ) ; //1 (true) >= o  เป็นจริง  คังนัน พ true เครืองหมาย <= เป็นการเปรียบเทียบว่าค่าที่ระบุทางด้านข้ายของเครื่องหมาย น้อย กว่าหรือเท่ากับ ค่าทางด้านขวาหรือไม่ เช่น boo1 a . (1 a= 2 ) ; ii1 ... 2  เป็นจริง  ดังนัน a true boo1 b . (5 a= 5 ) ; //5 ... 5  เป็นจริง  ดังนัน b true boo1 c ya a= b) ; //1 (true) อ (true) เป็นจริง //ดังนั่น c. true int  ix . 10 : int y 20 ; boo1 7 . ix <=  y); //10 .. 20  เป็นเท็จ  ดังนั้น 7 false boo1 w lz = 0 ) ; //o (false) .. d  เป็นจริง //ดังนั้น w true  เราสามารถใช้เครื่องหมายในกลุ่มนี้ เพื่อเปรียบเทียบอักขระระหว่าง az (a- z) ได้ เช่นกัน โดยพิจารณาตามลำดับของอักขระ เช่น 'a' < b' เป็นต้น  ซึ่งเบื้องหลังจริงๆ แล้วก็คือการเทียบจากรหัส ascii ของอักขระนันเอง เช่น boo1 a_b ( 'a" < b" ); iitrue boo1 c_a ( "c" < a" ) iifalse boo1 x_z (  x" < 2" ) ; iitrue boo1 d_f ( "d" > 'f ); iifalse
--- Page 124 ---
124 การเขียนโปรแกรมภาษา c ขันพืนฐาน การเปรียบเทียบสตริง การเปรียบเทียบด้วยเครื่องหมายหรือตัวดำเนินการเชิงเปรียบเทียบ ที่ได้กล่าวมานั้น ฺอาจ ใช้ได้เฉพาะกับข้อมูลประเภทตัวเลขและอักขระเท่านัน แต่ไม่สามารถนำมาใช้ในการเปรียบเทียบ ข้อมูลประเภทสตริงได้  ซึงหากนำมาใช้  แม้จะไม่เกิดข้อผิดพลาด  แต่ก็ให้ผลลัพธ์ที่ไม่ถูกต้อง  สำหรับในภาษา c การเปรียบเทียบระหว่าง 2  สตริงว่าเท่ากันหรือไม่ จะต้องใช้ฟังก์ชันสำหรับ กรณีนี้โดยตรง ฺนั่นคือ strcmp() ดังรูปแบบและรายละเอียดต่อไปนี้ strcmp( "สตริง1 สตริง2 .  strcmp มาจากคำว่า string compare ซึ่งก็สื่อความหมายตรงตัวอยู่แล้วว่าใช้ในการ เปรียบเทียบสตริง  ฟังก์ชันนื้อยู่ในเฮดเดอร์ string.h ซึงเราต้องอ้างอิงด้วย include ก่อนใช้งาน ผลลัพธ์ที้ได้จากฟังก์ชันนี้ จะไมใช่ค่าบูลีนแบบจริงเท็จแต่จะเป็นตัวเลข  ซึ่งผู้เขียน ขอสรุปตามลักษณะตัวเลขที่เรานำไปใช้งานจริงเป็นส่วนใหญ่ ดังนี้คือ ถ้าผลลัพธ์เป็นเลข 0 แสดงว่า สตริงทั้งสองอันนั้นเหมือนกัน (เป็นสตริงเดียวกัน) รวมถึงรูปแบบตัวพิมพ์ต้องตรงกันทุกอักขระ ถ้าผลลัพธ์เป็นเลขอื่น" ฺที่ไมใช่ 0 แสดงว่า สตริงทั้งสองอันนั้นไม่เหมือนกัน แนวทางการใช้งานในเบื้องต้น เช่น # include  <string.h> int a strcmp( "he1lo  hello" ); ffa o int b strcmp( "he1lo hi" ) ; fo != .. int c . strcmp( hello "hello" ); iic ! = d (ตัวพิมพ์ ต่างก้น) ลักษณะพืนฐานของคำสัง if หากเรานำข้อมูลมาใช้ในการประมวลผลทันที โดยปราศจากการตรวจสอบความถูกต้องหรือ ข้อยกเว้นบางประการ ก็อาจก่อให้เกิดข้อผิดพลาด หรือไม่ได้ผลัพธ์ตามต้องการ เช่น int  x 10 ; int y. 0; float z (float ix /y; iiz  มีค่าเป็น inf
--- Page 125 ---
 บทที 6 | การเปรียบเทียบและกาหนดเงื่อบไข 125 จากโค้ด z มีค่าเป็น infinity เพราะหารด้วย d ชึ่งลักษณะเช่นนี้เราจะรู้ล่วงหน้า เพราะ กำหนดค่าตัวแปรที่แน่นอนเอาไว้แล้ว แต่ถ้าสมมติว่าเราเปลี่ยนไปรับค่าทางคีย์บอร์ด ดังโค้ด ถัดไป  (เพื่อลดความยุ่งยาก จะแสดงโค้ดเพียงสังเขปเท่านั้น)  scanf( "%f" &x) ; scanf( "%f" &y) ; z = x /y;  จากโค้ดข้างบน  เราไม่อาจคาดเดาได้ว่าผู้ใช้จะใส่ค่าสำหรับตัวแปร y  เป็นเลขอะไร  ซึง ถ้าใส่เป็นเลขที่ไม่ใช่  o ก็ไม่เกิดปัญหาอะไร  แต่ถ้าใส่เลข o ก็จะเกิดปัญหาตามที่กล่าวมาแล้ว ด้วยเหตุนี้ในภาษาคอมพิวเตอร์แทบทั้งหมด เจึงต้องมีกลไกการตรวจสอบข้อมูลบางอย่างเพื่อ กำหนดทางเลือกก่อนกระทำการในขั้นตอนต่อไป เช่น ฺจากโค้ดที่ผ่านมา ถ้าเรานำเงื่อนไขมาเขียน เป็นคำพูดในลักษณะของการตรวจสอบข้อมูลก่อนดำเนินการ ก็จะได้ดังนี้ scanf( %กา &x ) ;  scanf( %f" &y) ; เป็น o  [ ไม่ต้องดำเนินการต่อไป หรือแจ้งข้อผิดพลาด ถ้า y. ไม่เป็น o  [ z = x  /y;  ในภาษา c จะใช้คำสั่ง if  สำหรับการตรวจสอบข้อมูลว่าตรงกับเงื่อนไขที่ระบุหรือไม่ แล้ว กำหนดบล็อกของกลุ่มคำสั่งที่จะดำเนินการต่อไป ถ้าหากเงื่อนไขเป็นจริง ซึ่งรูปแบบพื้นฐานคือ if (เงื่อนไข )  คำสั่งต่างๆ เถ้าเงื่อนไขเป็นจริง( จะมีกี่คำสั่งก็ได้)  เงื่อนไขของคำสั่ง if ต้องเป็นข้อมูลที่มีค่าจริงเท็จ (1 หรือ o) หรือการกระทำที่ให้ผล  ออกมาเป็นเลข 1 หรือ 0 เท่านัน เช่น การเปรียบเทียบด้วย comparison operator หรือการใช้ logical operator ตามที่จะกล่าวถึงในหัวข้อต่อตไป ต้องเขียนเงือนไขไว้ในวงเล็บ i) เสมอ  คำสั่งที่ต้องทำถ้าเงื่อนไขเป็นจริง (หรือ 1) ให้กำหนดไว้ไนวงเล็บ {} แต่ถ้าเงื่อนไขเป็น  เท็จ (หรือ 0) คำสั่งในบล็อกนี้จะถูกข้ามไป ถ้า y
--- Page 126 ---
126 การเขียนโปรแกรมภาษา c ขันพืนฐาน  สำหรับแนวทางการใช้งานเบื้องต้น  จะกำหนดเงื่อนไขเป็นข้อมูลชนิดบูลีน  (true/false) โดยตรงก่อน  ส่วนเงื่อนไขที่เป็นการเปรียบเทียบด้วยเครื่องหมายหรือตัวดำเนินการ  จะกล่าวถึง ในหัวข้อต่อตไป ตัวอย่าง 6-1  แนวทางการเปรียบเทียบเงื่อนไขของ if ในเบื้องต้น #include  <stdio.h> #include  <stdboo1 h> void  main() [ if (1) {  puts( " value is true ) //คำสั่งนี้ถูกดำเนินการ เพราะเงื่อนไขเป็นจริง (1 tnue ) if (0)  puts( " value d is true //คำสั่งนี้ไม่ถูกดำเนินการ เพราะเงื่อนไขเป็นเท็จ (o false)  boo1 a false; if ya) puts( variable a is true" ) //คำสั่งในบล็อกนี้ไม่ถูกดำเนินการ . /เพราะ เงื่อนไซเป็นเท็จ boo1 b (1 ... 1 ) ; fb true if (b) puts( variable b is true" ) //คำสั่งในบล็อก if จะถูกดำเนินการ i /เพราะเงือนไซเป็นจริง boo1 c. true; if ic) [. puts ( variable c. is true" ) : //คำสั่งในบล็อก if จะถูกดำเนินการ i/เพราะเงือนไซเป็นจริง boo1 d 0 : if id) [ puts ( variable d is true" ) //คำสั่งในบล็อก if ไม่ถูกดำเนินการ
--- Page 127 ---
 บทที 6 | การเปรียบเทียบและกาหนดเงือนไข 127 ii เพราะเงื่อนไขเป็นเท็จ (o  faise)  อย่างไรก็ตาม ฺหากภายในบล็อกของ if มีเพียงคำสั่งเดียว ฺเราไม่จำเป็นต้องเขียนคำสั่ง นั้นไว้ในวงเล็บ {} ก็ได้ เช่น if itrue) puts( "he1lo" ) ; i เหากมีคำสั่งเดียว เขียนแบบนี่ได้ if ifalse ) puts(  goodbye" ) ; / เหากมีคำสั่งเดียว เชียนแบบนี่ได้ if (. . . ) puts( "hi" ); / /เฉพาะคำสั่งบรรทัดนี้ที่ชิ้นกับ if puts( ). / /คำสั่งนี้ ไม่ขึ้นกับ if จึงถูกดำเนินการเสมอ อย่างไรก็ตาม ถึงแม้ในกรณีที่เงื่อนไข if มีเพียงคำสั่งเดียว เราไม่จำเป็นต้องกำหนดบล็อก คำสั่งด้วยวงเล็บ {} ดังที่กล่าวมาก็ตาม ฺแต่ในทางปฏิบัติ เราควรหลีกเลี่ยงวิธีการดังกล่าว เพราะ ะู มีโอกาสเกิดข้อผิดพลาดได้ง่าย โดยเฉพาะอย่างยิ่งเมื่อเราเขียนโค้ดที่มี เงื่อนไขซ้อนกันหลายขชั้น ดังนัน แม้จะมีเพียงคำสังเดียวก็ควรกำหนดบล็อกด้วยวงเล็บ {} เสมอ การกำทินดเงื่อนไขด้วยเครื่องทิมายเปรียบเทียบ  เครื่องหมายเปรียบเทียบ (comparison operator) ก็คือกลุ่มเครื่องหมายที่เราได้ศึกษา ผ่านมาแล้วในหัวข้อก่อน" ของบทนี้  เช่น >, <. >=, <= เป็นต้น  เนื่องจากเครื่องหมาย เหล่านี้ จะให้ผลลัพธ์ออกมาเป็นค่าจริงหรือเท็จ ดังนัน  จึงสามารถนำมาใช้สำหรับการกำหนด  เงื่อนไขของคำสั่ง if ได้ ดังแนวทางต่อไปนี้ int a . 1 : if ya . 1) //ถ้าตัวแปร a  มีค่าเท่ากับ 1. puts( "variable a  stores 1 " ) ; int d -5 : if (b . -5) //ถ้าตัวแปร b  มีค่าเท่ากับ -5 puts( "variable a stores 5" ) ;  hey' a.
--- Page 128 ---
128 การเขียนโปรแกรมภาษา c ขันพืนฐาน  จากโค้ดข้างบน คำสั่งในบล็อก if จะถูกดำเนินการทั้งสองอัน เพราะเงื่อนไขตรงกับที่เรา ยู กำหนดหรือเป็นจริงทั้งคู่ อย่างไรก็ตาม ฺสำหรับกรณีการใช้เครื่องหมาย . นัน หากจะเปรียบเทียบ กับค่า true  เราสามารถระบุเฉพาะชื่อตัวแปรก็ได้ ดังแนวทางในโค้ดถัดไป ซึ่งเราจะเขียนแบบ คอลัมน์ด้านช้ายหรือขวา ก็ให้ผลลัพธ์เหมือนกัน เซึ่งโดยทั่วไป เรานิยมเขียนแบบด้านขวามากกว่า boo1 a boo1 a iitrue/ false iifalse if (a . true ) if (a) { puts( " ); /ถ้า a เป็นจริง puts ( " ส่วนในกรณีการเทียบกับค่า false  เราต้องนำเครื่องหมาย  (not) มาวางข้างหน้าเพือ เทียบในทางตรงกันข้าม  (!false true => !0  1) เช่นในโค้ดต่อไปนี้ ด้านบนและล่างคือ รูปแบบที่เทียบเท่ากัน จะเขียนแบบไหนก็ได้ (รายละเอียดเพิ่มเติมเกี่ยวกับเครื่องหมาย  จะ กล่าวถึงในหัวข้อต่อตไป) //รูปแบบที่ boo1 b iitrue/false if (b .. false ) { //ถ้า b  เป็นเท็จ puts ( " //รูปแบบที่ 2 boo1 b iitrue/false if ( !๖) /ถ้า b ไม่เป็นจริง put.s (  สำหรับแนวทางการใช้ if เพิ่มเติมในแบบอื่นซมีดังนี้ int a 10 : int b 20 : if ya <= d) { puts( a is  less  than or  equals b" ) : //กรณีนี้ 1o < 20  เป็นจริง //ดังนั้น  คำสั่ง puts( ) จึงถูกดำเนินการ to
--- Page 129 ---
บทที 6 | การเปรียบเทียบและกาหนดเงือนไข 129 int  x 100 : int y float z ; if (y . 0) { puts( " dividend must be non zero" ); //กรณีนี้ y . o  เป็นจริง //ดังนั้น  คำสั่ง puts( )  จึงถูกดำเนินการ if (y !=  0 ) { z  (float ix i. y: printf( %d %d %. 2f"  x. y, z ) ; ตัวอย่าง 6-2 รับตัวเลขทางคีย์บอร์ดเข้ามา แล้วตรวจสอบว่าเป็นเลขคู่หรือคี่ โดยถ้าหาร ะ ด้วย 2 ลงตัวหรือมีเศษ  (ค่าที่เหลือ) เป็น 0  แสดงว่าเป็นเลขคู่ มิฉะนั้น ถือเป็นเลขคี่ #include <stdio.h> enter  integer  numer >>198 108 is even void  main() f int n; printf( " inenter  integer  nunber >> ): scanf( %d &n) : //ถ้าหาร 2 ลงตัว ( ค่าที่เหลือเป็น o)  แสดงว่าเป็นเลขคู่ if (n %  2 . 0) printf(  in%d is.  evenin" n) ; /ถ้าหาร 2  ไม่ลงตัว ( ค่าที่เหลือไม่เป็น o)  แสดงว่าเป็นเลขคี่ if (n %  2 ต. 0) printf( " in%d is  oddin" n) ; ตัวอย่าง 6-3 เป็นการหาค่ามากที่สุดจาก 3 จำนวนที่รับเข้ามา โดยมีแนวทางดังนี้ 1 รับจำนวนแรกเข้ามา  แล้วกำหนดค่าสูงสุดให้เท่ากับจำนวนแรกไว้ก่อน 2. รับจำนวนที่สองเข้ามา แล้วใช้ if เปรียบเทียบว่า จำนวนที่สองมากกว่าค่าสูงสุดเดิม (จำนวนแรก) หรือไม่ ถ้ามากกว่าก็ให้จำนวนที่สองเป็นค่าสูงสุดแทน 0 :
--- Page 130 ---
130 การเขียนโปรแกรมภาษา c ขันพืนฐาน 3 รับจำนวนที่สามเข้ามา แล้วใช้ if เปรียบเทียบเช่นเดิม ฺถ้าจำนวนที่สามมากกว่าค่าสูงสุด  เดิม  ก็ให้จำนวนที่สามเป็นค่าสูงสุดแทน 4. เมื่อเปรียบเทียบจนครบแล้ว ก็จะได้ค่าสูงสุดของจำนวนทั้งหมด # include <stdio.h> n1 = 10 max = n1 = 10 void main() [ n2 = 15 n2 > max max = n2 = 15 int n1 n2 , n3 nax; n3 = 5 n3 < max  max = 15 printf( " innumber # 1 >>" ) :  number #1 >>-1อ  scanf( "%a &n1) ; number #2 >>9  number #3 >>-99 max n1 ; . /ให้ค่าสูงสุดเท่ากับจำนวนแรกไว้ก่อน max value: a printf( "nunber #2 >>" ) ; scanf( %a &n2 ) ; if (n2 max) . //ถ้าจำนวนที่ 2 มากกว่าค่าสูงสุดก่อนนี้ nax n2 ; //ให้จำนวนที่ 2 เป็นค่าสูงสุดแทน printf( "nunber #3  >>" ) ; scanfi %a" &n3 ) ; if (n3 max) //ถ้าจำนวนที่ 3 มากกว่าค่าสูงสุดก่อนนี้ nax n3 ; i /ให้จำนวนที่ 3 เป็นค่าสูงสุดแทน printf(  inmax  value: %d เn" max) ตัวอย่าง 6-4 ถ้าเปลี่ยนจากการหาค่ามากที่สุดในตัวอย่างที่แล้ว มาเป็นการหาค่าที่น้อยที่สุด  ก็ใช้หลักการเดิม เพียงแต่เปลี่ยนจากการใช้เครื่องหมาย > มาเป็น < เท่านั้นเอง ดังนี้ # include <stdio.h>  numbar #1  >>3.141  number #2  >>.357  number #3  >>1.81 void main( ) [ float n2 n3 , min; min value: 9. 357 printf( " innumber #1 >>" ) ; scanf[ "%f" &n1 ) ; min n1; i /ให้ค่าต่ำสุดเท่ากับจำนวนแรกไว้ก่อน printf( "number #2  ) : n1 >>"
--- Page 131 ---
 บทที 6 | การเปรียบเทียบและกาหนดเงือนไข 131 scanf( %f" &n2 ) ; if (n2 nin) { /ถ้าจำนวนที่ 2 น้อยกว่าค่าสูงสุดก่อนนี้ min n2 ; /ให้จำนวนที่ 2  เป็นค่าตำสุดแทน  printf( "number #3 " ) ; scanf(  %f" &n3 ) ; if (n3 < min) { /ถ้าจำนวนที่ 3 น้อยกว่าค่าสูงสุดก่อนนี้ min n3 ; /ให้จำนวนที่ 3 เป็นค่าต่ำสุดแทน printf( " innin  value: %g  เn" min) ; การใช้คำลัง if-else  คำสั่งในบล็อก if จะถูกดำเนินการ เมื่อเงื่อนไขตรงตามที่ระบุเท่านั้น แต่หากเงื่อนไขเป็น อย่างอื่นที่นอกเหนือไปจากนี้  และถ้าเรามีสิ่งที่ต้องทำในกรณีดังกล่าว ภก็สามารถกำหนดได้ด้วย  คำสั่ง else แล้วตามด้วยบล็อกคำสั่งแบบเยื้องโค้ดเช่นเดียวกับ if ดังรูปแบบต่อไปนี้ if  ( เงื่อนไข)  คำสั่งต่างๆ  ถ้าเงือนไขตรงกับที่กำหนด j else  คำสั่งต่างๆ  ถ้าเงือนไขไม่ตรงกับทีกำหนด  คำสั่ง else ไม่ต้องกำหนดเงื่อนไขใดซให้กับมัน เพราะเป็นทางเลือกที่จะถูกดำเนินการ เสมอหากเงื่อนไขของคำสั่ง if เป็นเท็จ(ไม่ตรงตามที่ระบุ) เช่น ในโค้ดต่อไปนี้ int n //ถ้า n  น้อยกว่าหรือเท่ากับ o คำสั่งในบล็อก  if จะถูกดำเนินการ /มิฉะนั้น (n ไม่น้อยกว่า 0)  คำสั่งในบล็อก else จะถูกดำเนินการ if in & 0) { puts( " number  must be  greater than 0" ) ; 1 else puts(  nunber is ok ) ; float x 10 : int y float 7 ; >>
--- Page 132 ---
132 การเขียนโปรแกรมภาษา c ขันพืนฐาน /หาก y ไม่เป็น  o  คำสั่งในบล็อก if ก็จะถูกดำเนินการ //มิฉะนัน (y เป็น o)  คำสั่งในบล็อก else  ก็จะถูกดำเนินการ if  (y != 0) [ z = x /y; printf{ "%9 . %d %g x., y. z ) ; ) else { puts( "dividend can t be zero" ); ภายในบล็อกของ else หากมีเพียง1 คำสั่งไม่จำเป็นต้องเขียนคำสั่งไว้ในวงเล็บ {} ก็ได้ เหมือนกับ if ดังที่ได้กล่าวมาแล้ว เช่น int x if  ix > 0) puts( " " ) : else puts( " แต่อย่างไรก็ตาม ฺการไม่เขียนคำสั่งไว้ในวงเล็บ {} ก่อให้เกิดข้อผิดพลาดได้ง่าย ดังนั้น แม้  จะมีเพียงคำสั่งเดียว เผู้เขียนแนะนำให้กำหนดบล็อกด้วยวงเล็บ {} เสมอ ตัวอย่าง 6-5 รับข้อมูลรหัสผ่านแล้วให้ใส่,ครั้งที่ 2 เพือการยืนยันรหัส จากนันตรวจสอบ  ว่าการใส่รหัสทั้ง 2 ครั้งตรงกันหรือไม่ # include <stdio. h> enter  password  >abcdef  confirm password >>abcdef # include <string. h> password didn "t natch void main( ) char  pw1[20] pw2 [20] printf( " inenter  password >2 ); gets(pw1 ); printf( " confirm  password >>" ) ; gets(pw2 ) if  (strcnp ( pw1 pw2 ) . o) [ puts( " inpassword ok ) . else puts( " inpassword didn t natch" );
--- Page 133 ---
บทที 6 | การเปรียบเทียบและกาหนดเงือนไข 133 ตัวอย่าง 6-6 จากการตรวจสอบว่าเลขที่รับเข้ามาทางคีย์บอร์ดเป็นเลขคู่หรือเลขคีในตัวอย่าง ก่อนนี้ แทนที่เราจะใช้ if 2 ครั้ง ก็เปลี่ยนมาใช้ if-else แทนดังนี้(ผลลัพธ์เหมือนเดิม) # include <stdio.h> void  main() int n.: printf( " inenter  integer  nunber >> ) ; scanf( %d &n) : //ถ้าหาร 2  แล้วไม่มีค่าที่เหลือ (ค่าเป็น o)  แสดงว่าเป็นเลขคู่ /มิฉะนั้น  ( ค่าที่เหลือไม่เป็น o) แสดงว่าเป็นเลขคี่ if in % 2 .. 0) printf(  in%d is evenin" n.) : า else printf(  in%d is oddin" n) ; การไช้คำสั่ง if-<else if> ถ้าเงื่อนไขที่เราต้องการตรวจสอบสามารถแยกได้หลายกรณี แต่มีเพียงกรณีเดียวเท่านั้นที่  จะถูกดำเนินการ เราอาจตรวจสอบแต่ละเงื่อนไขด้วยคำสั่ง else if ร่วมกับ if ดังรูปแบบต่อไปนี้ if  ( เงื่อนไขที่ 1)  คำสั่งต่างๆ  ถ้าตรงกับเงื่อนไขที่ . else if  ( เงื่อนไขที่ 2 )  คำสั่งต่างๆ  ถ้าตรงกับเงื่อนไขที่ 2 . else if  ( เงื่อนไขที่ 3 )  คำสั่งต่างๆ  ถ้าตรงกับเงื่อนไขที่ 3 else if  ( เงื่อนไขที่ n)  คำสั่งต่างๆ  ถ้าตรงกับเงื่อนไขที่ เราต้องใช้ else if ร่วมกับ if เสมอ และต้องวางไว้ถัดจากบล็อกของ if  สิ่งที่จะเป็นเงื่อนไขของ else if ต้องมีค่าเป็น 1 (true) หรือ 0 (false) โดยใช้หลัก การเดียวกับเงื่อนไขของ if ทุกประการ
--- Page 134 ---
134 การเขียนโปรแกรมภาษา c ขันพืนฐาน จะมีการตรวจสอบเงือนไขด้วย  else if กี่ครั้งก็ได้  แต่จะมีเพียงกรณีเดียวเท่านั้นที่ ถูกดำเนินการ แนวทางการตรวจสอบเงื่อนไขในรูปแบบ if-<else if> มีลักษณะดังโค้ดต่างๆ ต่อไปนี้ int x int y. if ix  > y){ puts( "x greater than  y" ); . else if ix < y) { puts( "x less  than y"); . else if ix . y) { puts( "x  equal to  y"); char size m ; char text [100] ; if  (size . s' )  { text  snal1 . else if  (size . 'm" ) { text mediun ) else if  (size .. 'l") { text "large . else if  (size ร  x" ) { text  extra large ถ้าเงื่อนไขที่กำหนด else if อาจเป็นไปได้หลายกรณี เฉพาะเงื่อนไขแรกซึ่งตรงกับที่กำหนด เทานัน ที่จะถูกดำเนินการ ส่วนอันที่เหลือจะถูกข้ามไป ในลักษณะดังนี้ int age 18 ; char str[10o]; if  yage >= 60 ) str senior j else if  (age >= 20) s str adult . else if  yage >= 12) str  teenager." ง else if  yage >= 4 ) str "child" j else if  yage > 0) [ str "baby puts str); iiteenager
--- Page 135 ---
 บทที 6 | การเปรียบเทียบและกาหนดเงื่อบไข 135 จากโค้ด เรากำหนด age . 18  แสดงว่าตรงกับทั้งเงื่อนไข (age >= 12) รวมทั้ง >= 2) ะ และ (age > o) แต่เนื่องจากเราวางเงื่อนไข >= 12) เอาไว้ก่อนอันอื่น ดังนั้น เฉพาะบล็อก ของเงื่อนไขอันนี้เท่านั้นที่ถูกดำเนินการ และหลังจากที่ทำตามบล็อก else if อันนี้เสร็จ ก็จะข้าม การตรวจสอบในส่วน  if-<else if>  ทั้งหมดไปเลย  ซึ่งตรงนี้แเองที่เป็นข้อแตกต่างระหว่างการใช้  คำสัง if หลายๆ  ครั้ง กับการใช้ if-<else if> ดังการเปรียบเทียบในตัวอย่างถัดไป ตัวอย่าง 6-7 เปรียบเทียบระหว่างการใช้ if-<else if>  และการใช้ if หลายครั้ง  โดยให้ ดูโค้ดจากภาพต่อไปนี้  finclude kstdio.h>  finclude string.h> void  main() { char login[ ] "usar1 char [] if  (strcmp( login, "admin") !=  0 ) { puts( "login  incorrect"); else if  (strcmp( pswd.,  "awerty") !=  "secret") { puts( "password incorrect"); }eise if  (strcmp( pswd., "า) a= 8)  { puts( iantar password"); puts( " goodbye char login[] "user1" iiresult char pswd[i login  incorrect if  (strcmp( login,  "adin") != 8)  {  goodbye ;("login  incorrect"); if  (strcmp( psud, secret") != 3) ("password incorrect"); if  (strcmp( psud == e) puts( "please anter password"); puts( " goodbye" ); firesult login  incorrect password  incorrect  please anter password  goodbye=  (age  (age psud na- puts puts
--- Page 136 ---
136 การเขียนโปรแกรมภาษา c ขันพืนฐาน จากภาพจะเห็นว่าการใช้ if หลายๆ ครั้ง ทุกเงื่อนไขจะถูกตรวจสอบทั้งหมดและหากเป็น จริงดำเนินการตามคำสั่งในบล็อกนั้น แต่การใช้ if-<else if>  เมื่อเจอเงื่อนไขแรกที่เป็นจริงแล้ว ก็จะหยุดตรวจสอบเงื่อนไขถัดไป หรือข้ามบล็อกของ if-<else if> ในส่วนที่เหลือทั้งหมดนั่นเอง ตัวอย่าง 6-8 ให้รับตัวเลขทางคีย์บอร์ดเป็นจำนวนประตูที่ทึมเจ้าบ้านและทีมเยือนทำได้ แล้วใช้ if-<else if>  ตรวจสอบว่าทีมใดเป็นผู้แพ้ เผู้ชนะ หรือ เสมอ # include <stdio.h>  home >>3  goals >>5 void  main() i  guest team is the winner int h_goals ,  g_goals ; ihone  guest printf( " inhome  goals );  scanf( ya" &h_goals ) ; printf( " guest  goals >> ); scanf( %a" &g_g0als ) ; if  (h_goals g_goals ) puts(  inhone  tean is the  winner" ); } else if (h_goals . 9_goals ) โ puts(  inguest tean is the winner" ); i. else . puts(  inboth teans play a draw" ); ตัวอย่าง 6-9 ให้รับข้อมูลทางคีย์บอร์ดเป็นคะแนนระหว่าง 0 - 100 จากนน พิจารณาว่า  คะแนนดังกล่าวควรจะได้เกรดอะไร โดยเกณฑ์การให้เกรดเป็นดังโค้ดต่อไปนี้ (ไเถ้าคะแนนที่กำหนด  ตรงกับหลายเงื่อนไข  ก็จะเลือกดำเนินการตามเงื่อนไขที่มาก่อนเพียงอันเดียว  ดังหลักการที่ได้ กล่าวมาแล้ว) #include  <stdio.h> enter  scone (e lea) >>69  grade: c void  main() int scorne; char grade; printf(  inenter score (o 100 ) );  scanf( %d &scone) ;  goals  guest > >  >>"'
--- Page 137 ---
บทที 6 | การเปรียบเทียบและกาหนดเงือนไข 137 if fscore > 80 ) {  grade a" ; } else if (score > 70 ){  grade b ' } else if (score >=60 ) {  grade  c' า else if (score > 50 ) {  grade d " ; . else [  grade f' printf( " ingrade: %c  grade) ; การใช้คำสัง if-<else if> - else ตามปกตินั้น เงื่อนไขที่กำหนดให้แก่ if-<else if> มักจะเป็นประเด็นหลักตฺที่เราต้องการ ตรวจสอบ  แต่หากมีกรณีอืนซ  ที่อยู่นอกเหนือไปจากนี้ และต้องถูกดำเนินการเมื่อเงื่อนไขต่างๆ ที่กำหนดให้แก่ if-<else if> ไม่มีอันใดตรงตามที่ระบุ ฺก็ให้นำ else มาต่อท้าย if-<else if> ดังนี้ if  ( เงื่อนไขที่ 1) {  คำสั่งต่างๆ  ถ้าตรงกับเงือนไขที่ . else if  ( เงื่อนไขที่ 2 )  คำสั่งต่างๆ  ถ้าตรงกับเงื่อนไขที่ 2 else  คำสั่งต่างๆ  เถ้าไม่ตรงกับเงื่อนไขใดๆ เลย  คำสั่ง else  จะมีความจำเป็นก็ต่อเมื่อ  เงื่อนไขต่างๆ  ที่กำหนดแก่  if-<else if> ยังไม่  ครอบคลุมกรณีที่เป็นไปได้ทั้งหมด เช่นในโค้ดต่อไปนี้ int a if ya < o) โ puts( " negat ive ): 1 else if ya 0) puts( "positive" ); 1 else [ fa o  an
--- Page 138 ---
138 การเขียนโปรแกรมภาษา c ขันพืนฐาน (  neutral ); char ch if  (ch . a" puts( "ant" ); ) else if  ich .. b") { puts( "boy" ); . else if  ich .. 'c") { puts( "cat" ); . else if  fch .. d")  { puts( " ) ; . else { puts( " sorry. character out of range" ) ตัวอย่าง 6-10 สมมติว่ามียอดเงินคงเหลือในบัญชี 30,oo0 บาท ให้รับค่าทางคีย์บอร์ดเป็น จำนวนเงินที่ต้องการถอนจากตู้ atm ซึ่งมีเงื่อนไขที่สำคัญ เช่น balanca: 3e, ebe amount to uithdra>>15e8 ต้องไม่เกินยอดเงินคงเหลือ ต้องไม่เกิน 20,od0 บาท และต้อง balance: 28, 598 เป็นจำนวนเต็มร้อย (หารด้วย 1od ลงตัว) โดยใช้คำสั่ง if-<else balance.: eee if> -else ตรวจสอบเงื่อนไขเหล่านี้ (สำหรับการจัดรูปแบบตัวเลข amount to withdraw>>35899 insufficient balance โดยใช้  คั่นหลักพัน ได้กล่าวไว้แล้วในบทที่ 3) balanca: 3e, eba  #define  posix_c_source 200809| balanca: 3e, ebe  amount to withdraw >>999 #include <locale.h> amount to. withdraw must ae the  muitiples of loa #include <stdio.h> balance: 3e, ebe void  main() . set locale ( lc all, ); int withdraw balance 30000 ; printf( " inbalance: %"d"  balance) ; //จำนวนเงินทีต้องการถอน printf(  inamount to withdraw >> " ) ;  scanf{ %d &withdraw) ; /ถ้ายอดเงินคงเหลือไม่พอ if  ybalance withdraw) puts(  insufficient dalance ); . /ถ้าจำนวนที่จะถอนเกิน  2d odo puts  dog" 39 ,
--- Page 139 ---
 บทที 6 | การเปรียบเทียบและกาหนดเงือนไข 139 else if  (withdraw 20000 ) puts( "can " t witharaw  none than 20000" ) ; //ถ้าไมใช่จำนวนเต็มร้อย (ทาร 1oo  แล้วมีเศษ) else if  (withdraw %  100 != o) printf( amount to withdraw  must be " ) ; printf( the  muitiples of 100" ) ; /ถ้าไม่ตรงตามเงื่อนไขทั้งหมด  แสดงว่าถอนได้ else ก balance withdraw; printf(  inbalance: %"d  in"  balance ) การเปรียบเทียบทางตรรกะ การเปรียบเทียบทางตรรกะ (logical  operator) เป็นการเปรียบเทียบระหว่างข้อมูล 2 อย่างที่จะต้องเป็นชนิดบูลีน นั่นคือ true (1) หรือ false (o) อย่างใดอย่างหนึ่ง และผลลัพธ์ที้ได้ ก็จะเป็น true หรือ false เช่นเดียวกัน โดยใช้เครื่องหมาย หรือตัวดำเนินการดังต่อไปนี้ ตัวคดำเนินการ ชือเรียก การใช้งาน &&  logical and (และ) a &&  b  logical or (หรือ) a li b  logical not (ไมใช่) !a && มีหลักการดังนี้ ถ้าเป็นจริงทั้ง 2 คู่ (true && true) ผลลัพธ์จะเป็นจริง (true หรือ 1) กรณีนอกเหนือจากนี้ทั้งหมด ผลลัพธ์จะเป็นเท็จ (false หรือ 0) boo1 a true b true c false d false r; r ส a  && b; iitrue && true true b  && c.; itrue && false falise  c && d; iifalse && false false (1 . 1 ) && true) itrue && true true (1 <= 1 ) && (1 2 2 ) ; itrue && false falise (1 ! = 1 ) && (1 . 2 ) ) : iifalse && false false
--- Page 140 ---
140 การเขียนโปรแกรมภาษา c ขันพืนฐาน มีหลักการดังนี้ ถ้าเป็นเท็จทั้ง 2 ค่า (false ii false) ผลลัพธ์จะเป็นเท็จ (false) กรณีนอกเหนือจากนี้ทั้งหมด ผลลัพธ์จะเป็นจริง (true) boo1 a true ; b true; c false; d  false r.: = a . b: itrue ii true true b c : iitrue ii false lrue c e : ifalse false false {1 true; iitrue true true (1 [1  > 2 ) ; iitrue false true (1 (1 . 2 ) ; iifalse ii. false false จะเปลี่ยนค่าบูลืนให้เป็นตรงกันข้าม นั่นคือ  เปลี่ยนจาก true เป็น false และจาก false เป็น true หรือเปลี่ยนจาก 1 เป็น 0 และจาก o เป็น 4 เช่น boo1 a true: iifalse boo1 b false ; iitrue boo1 c. ! 0 ; iic false true boo1 d 1 : iitrue d ! d; iid false boo1 e (true ii  false ) ; ii! (true) false boo1 e ! (1 . 1) && ! (1 != 2 ) ; ii! ( true) && (true)  false && false false ให้ดูแนวทางการนำไปใช้งานจริงในหัวข้อถัดไป กาธกำทินดหลายเงื่อนไขด้วย logical operator ในบางกรณี การที่เราจะกระทำสิ่งใดหรือไม่นั้น อาจมีหลายเงื่อนไขที่ต้องพิจารณาร่วมกัน หรือเป็นกรณีที่ เงื่อนไขอย่างหนึ่งจะขึ้นอยู่กับเงื่อนไขอื่นๆ ด้วยนั่นเอง  ซึ่งในลักษณะเช่นนี้เรา สามารถเทียบเงื่อนไขที่เกี่ยวข้องทั้งหมดด้วยดำเนินการด้านตรรกะ (&& หรือ  ii) หรือ logical  operator ทังนึหากเราพิจารณาการใช้ร่วมกับ if  ก็สามารถสรุปได้ดังนี้ ใช้ && ถ้าต้องการให้เงื่อนไข เป็นจริงทั้งหมดฺ ฺจึงจะทำตามคำสั่ง  ใช้ ii ถ้าต้องการให้เงื่อนไข เป็นจริงเพียงอันใดอันหนึ่ง ก็ทำตามคำสั่ง
--- Page 141 ---
 บทที 6 | การเปรียบเทียบและกาหนดเงื่อบไข 141 และตามหลักการของภาษา c ที่ต้องเขียนเงื่อนไขไว้ในวงเล็บ ดังนั้น เราต้องครอบ  เงื่อนไขย่อยต รวมทั้งหมดไว้ในวงเล็บ ( ) เดียวกัน หรือวงเล็บชั้นนอกสุดฺ ในลักษณะดังนี้ (ให้ แทนตัวดำเนินการแบบตรรกะ && หรือ ii) if (( เงื่อนไข ui (เงื่อนไข 2 ) (เงื่อนไข  3 ) (เงื่อนไข  n)) { คำสั่ง เมื่อเปรียบเทียบเงื่อนไขรวมทั้งหมดแล้วเป็นจริง เช่น ลองพิจารณาจากโค้ดต่อไปนี้ (ไม่ขอนำขั้นตอนการประกาศชนิดตัวแปรมาแสดง) /ถ้าตัวแปร  age  ต้องมีค่าระหว่าง 12 19 จึงจะทำตามคำสั่ง if  ( (age >= 12 ) &&  ( age a. 19 ) ) puts( you ane teenager" ); i /ถ้าไมใส่ login หรือ  password  เพียงอันใดอันหนึ่ง ก็แสดงคำเตือน if  ((strcmp( login 0) ii. (strcmp (pw . 0)) { puts( "ท่านต้องใส่ข้อมูลให้ครบทั้งสองช่อง" ) นอกจากนี้ ยังสามารถตรวจสอบได้มากกว่า 2 เงื่อนไข และควรใช้วงเล็บในการแยกแต่ละ กลุ่ม ให้ชัดเจน ว่าเงื่อนไขใดจะเปรียบเทียบกับเงื่อนไขใด เพื่อป้องกันข้อผิดพลาดได้ เช่น /ถ้าเงื่อนไขคือ x ค้องมีค่าระหว่าง 1-100  และหารด้วย 5  ลงตัว if ( (x  > 0) && (x < 100) &&  ix % 5 .. 0) ) { อย่างไรก็ตาม ฺการเขียนรวมเงื่อนไขที่ชับซ้อนกว่านี้ อาจก่อให้เกิดข้อผิดพลาดได้ง่าย ฺถ้า เรายังไม่มีความชำนาญในการเขียนโค้ดมากพอ ซึงเราอาจแยกเปรียบเทียบเงื่อนไขทีละส่วนโดย  เก็บผลลัพธ์ไว้ในตัวแปร แล้วค่อยนำตัวแปรทังหมดมาเทียบกัน เช่น char gender[] /i"  male i" fenale bool single iitrue/ false /หากเป็นผู้ชายต้องแต่งงานแล้ว (ไม่โสด ) boo1 ก ustrcmp (gender male" ) .. 0) && (! single) ;
--- Page 142 ---
142 การเขียนโปรแกรมภาษา c ขันพืนฐาน //ถ้าเป็นผู้หญิงต้องยังโสด boo1 f  (strcmp (gender female ) .. 0) && (single) ; i/เปรียบเทียบ 2  เงื่อนไข  โดยต้องให้อันใดอันหนึ่งเป็นจริง //ดังนั้น จึงเชื่อม 2  เงื่อนไขด้วย . if (m ii f) puts(  you are  welcome ) /ถ้าเรามีความชำนาญแล้ว อาจเขียนรวบทั้งหมดในขั้นตอนเดียว ดังนี้ i if  ((ustrcmp (gender male ) .. d) && (! single)) ((strcmp ( gender , female" ) . 0) && (single ) ))) puts(  you ane welcone ): ตัวอย่าง 6-11  ในการระบุตำแหน่งบนพื้นโลก เราต้องกำหนดค่า 2 อย่างคือ  (latitude) ต้องมีค่าระหว่าง -90 ถึง 90  (longitude) ต้องมีค่าระหว่าง -180 ถึง 180 ว0 j00 )30 150 60 120- jd ;90 90* 3ง 60" 80' เ09 a0 30" 20^  latitude  longitude ให้รับค่าทั้งสองอย่างทางคีย์บอร์ด แล้วตรวจสอบโดยใช้ if ร่วมกับตัวดำเนินการทางตรรกะ ว่าอยู่ในช่วงที่เป็นไปได้หรือไม่  ละติจูด  ลองจิจูด ]20
--- Page 143 ---
บทที 6 | การเปรียบเทียบและกาหนดเงือนไข 143 #include <stdio.h> enter latitude >>199.1234 latitude  incorrect.! void  main() enter longitude>>159.6789  float lat.  lon;  longitude ok printf( " inenter lat itude >>" ) ; scanf( "%f" &lat ): if ulat . 90 ) && flat < 90 ) )  { puts ( lat itude ok" ) ; ) else puts( "latitude  incorrect! " );  printf(  inenter  longitude ): scanf( "%f" &1on) : if ((ion >= 180 ) && ylat z. 180) ) { puts( " longitude ok" ) : . else . puts( " longitude.  incorrect! " ); ตัวอย่าง 6-12 เราสามารถจำแนกบุคคลเป็น generation ต่างๆ ได้ตามปี พ.ศ. ที่เกิดดังนี้ (แหล่งข้อมูลต่าง= ต อาจกำหนดช่วงปีพ.ศ. ที่แตกต่างกันบ้างเล็กน้อย) ปี พ.ศ. ที่เกิด  ceneration 2443  และตำกว่า  lost generation 2444 2467  greatest generation 2468 2488 silent generation 2489 2507 baby boomer generation 2508 - 2519 generation ix 2520 2538 generation 2539 2555 generation z >>"
--- Page 144 ---
144 การเขียนโปรแกรมภาษา c ขันพืนฐาน ให้รับข้อมูลเป็นปี พ.ศ. ที่เกิด  แล้วใช้  logical operator  ร่วมกับ if-<else  if> else  ในการตรวจสอบว่าปีดังกล่าวตรงกับ generation ใด #include <stdio.h> year born   (8. e. ) >>2525 you ane  generation v # include  <string. h> void nain() i int y; char  gen[50] ; printf( " inyear born (b.e. ) >>" ) : scanf( "%d" &y) ; if ly 4= 2443 ) strcpy igen,  lost  generation" ); else if  ((y ว= 2444 ) && ly a. 2467 )) strcpy ilgen,  "greatest  generation") ; else if (ly ว= 2468 ) && ly z. 2488 ) ) { strcpy ilgen, "silent  generation" ); else if y >= 2489 ) && ly a. 2507 ) ) {. strcpy lgen,  baby booner  generation ); else if uy >= 2508 ) && ly .. 2519) ) { strcpy lgen,  "generation x" ); else if uy >= 2520 ) && ly a. 2538) ){ strcpy lgen,  generation  /" ); else if aly ว 2539 ) && ly 4= 2555 ) ) { strcpy lgen,  generation  z" ); else strcpy igen, unknown  generation" ) ; printf( "you ane %s  in" gen) ;
--- Page 145 ---
 บทที 6 | การเปรียบเทียบและกาหนดเงื่อนไข 145 ตัวดำเนินการแบบ ternary ตัวดำเนินการแบบ ternary เป็นการเปรียบเทียบเงื่อนไขในอีกลักษณะหนึ่ง ซึ่งมีหลักการ คล้ายกับ if-else แต่เขียนได้กระชับกว่า โดยมีรูปแบบดังนี้ (เงือนไข ) ? กรณีเงื่อนไชเป็นจริง  กรณีเงือนไขเป็นเท็จ  เงื่อนไข ก็คล้ายกับที่เรากำหนดให้แก่ if หรือ else if โดยต้องให้ผลลัพธ์ออกมาเป็น ค่าบูลืน (จริง/เท็จ) เท่านัน กรณีเงื่อนไขเป็นจริง ฺอาจเป็นการส่งค่าบางอย่างหรือค่าจากตัวแปรกลับออกไป โดย การระบุค่าหรือชื่อตัวแปรที่เก็บข้อมูลนั้น หรือเป็นคาสั่งให้ทำการบางอย่าง เช่น เรียก  ฟังก์ชันขึ้นมาทำงาน หรือการคำนวณ เป็นต้น ซึ่งส่วนนี้จะถูกดำเนินการเฉพาะกรณี ะู ที่เงื่อนไขเป็นจริงเท่านั้น กรณีเงื่อนไขเป็นเท็จ ก็เช่นเดียวกับกรณีเงื่อนไขเป็นจริง แต่ส่วนนี้จะถูกดำเนินการ ะู เฉพาะกรณีที่เงื่อนไขเป็นเท็จเท่านั้น  แนวทางการใช้ตัวดำเนินการแบบ ternary เช่น int a 1. b -10 : int nax (a > b) ? a d;  โค้ดนี้หมายความว่า ถ้า a  มากกว่า b  ให้คืนค่าจากตัวแปร a กลับไป  มิฉะนั้น ให้คืนค่าจากตัวแปร  b หรือเขียนในแบบ if else คือ if (a b) . max a.: ) else nax d: int total int  carriage  (total > 1000) ? o 50 : i*  โค้ดนี้หมายความว่า ถ้ายอดซื้อรวม 1ooo  บาทขึ้นไป ให้ยกเว้นค่าจัดส่ง (o บาท ) มิฉะนั้น ให้คิดค่าจัดส่ง 50 บาท ตังแต่
--- Page 146 ---
146 การเขียนโปรแกรมภาษา c ขันพืนฐาน อย่างไรก็ตาม  ฺในกรณีที่ตัวดำเนินการแบบ  ternary คืนค่าเป็นข้อมูลชนิดสตริง  เราไม่ สามารถนำค่ามากำหนดให้แก่ตัวแปรโดยตรงได้ เช่น โค้ดต่อไปนี้จะเกิดข้อผิดพลาด int nun char s [ ]  (nun %  2 . 0) ? "even odd fa^ror วัตถุประสงค์ของโค้ดข้างบนนี้คือ ถ้าจำนวนนั้นหารด้วย 2 ลงตัว (เศษหรือค่าที่เหลือเป็น ู o) ให้คืนค่าแบบสตริงเป็นคำว่า "even มิฉะนั้นให้คืนค่าเป็นคำว่า "odd" แต่ในภาษา c เราทำ แบบนี้ไม่ได้ ทั้งนี้ หากเราต้องการคืนค่าเป็นสตริงแล้วนำไปกำหนดให้แก่ตัวแปร อาจเปลี่ยนไป ใช้ฟังก์ชัน strcpy() หรืออื่นฯ แทน เช่น int nuท char s [20] ; //ให้กำหนดค่าไว้ไนส่วนจริง/ เท็จ ของ  ternary ( ไม่ต้องส่งค่ากลับออกไป)  (num 7 2 .. 0) ? strcpy/ s., even ) strcpy( s "odd" ); การใช้คำลัง switch case  คำสั่ง switch case เป็นการแยกวิธีดำเนินการออกเป็นกรณีต่างๆ โดยนำข้อมูลมาตรวจสอบ หากตรงกับกรณีใด  สิ่งที่กำหนดเอาไว้สำหรับกรณีนั้นก็จะถูกดำเนินการ เซึ่งรูปแบบทั่วไปคือ switch  ( สิ่งที่ต้องการตรวจสอบ) case กรณีที่ 1 :  คำสัง break; case กรณีที่ 2 :  คำสัง break; case กรณีที่ n.:  คำสัง break;  default : คำสั่ง ฺถ้าไม่ตรงกับกรณีใดเลยซ( เทียบได้กับ else )
--- Page 147 ---
บทที 6 | การเปรียบเทียบและกาหนดเงือนไข 147 ลักษณะของ switch case จะคล้ายกับ if-<else if>-else ซึ่งมีแนวทางการใช้งาน ดังนี้ int ทนา  switch (nun) [ case : puts( "positive ) ; break; case 0 : puts( neutral" ); break ; case 1 : puts( "negat ive ) ; break ; default : puts (  unknown" )  จากโค้ดหมายความว่า กรณีที่ตัวแปร num เป็น 1 จะแสดงข้อความ 'positive กรณีที เป็น d จะแสดงคำว่า "neutral.' กรณีที่เป็นเลข -1 จะแสดงคำว่า "negative'  แต่หากไม่ตรงกับ กรณีใด (ไมใช่เลข 1, 0, -1) จะแสดงคำว่า unknown เป็นต้น โดยลักษณะเกี่ยวกับ switch-  case ที่ควรรู้เพิ่มเติมคือ ตัวแปรหรือข้อมูลที่จะตรวจสอบด้วยคำสั่ง switch ต้องเป็นชนิดเลขจำนวนเต็ม หรือ  อักขระ (char) หรือบูลีน (เทียบเท่ากับ 1 และ o) เท่านั้น แต่ จะเป็นชนิดเลขทศนิยม หรือสตริงไม่ได้ จะมีกรณีที่กำหนดด้วย default หรือไม่ก็ได้ ขึ้นกับว่าเรากำหนด case ให้ครอบคลุม กรณีที่จะเป็นไปได้ทั้งหมดหรือไม ซึ่งก็เช่นเดียวกับ else ที่ใช้ร่วมกับ if-<else if> ที่  จะมี else ต่อท้ายหรือไม่ก็ได้ การกำหนดคำสัง break ต่อท้ายในกรณีต่างๆ  ก็เพื่อหยุดการทำงานของคำสั่ง switch  ไว้แค่ตรงนัน เมือเจอกรณีทีต้องการแล้ว และออกจากบล็อก switch ไป ทังนีหากไม่มี  คำสั่ง break กำกับเอาไว้  คำสั่งทั้งหมดในส่วนที่เหลือกึยังถูกตรวจสอบและดำเนินการ ทงหมด  ซึ่งผิดกับหลักการของคำสั่ง switch เช่น )โค้ดและผลลัพธ์ต่อไปนี้ char size  m"  switch (size) case s puts( "snal1" ) case m. puts( mediun case _ puts( " large .า 1 : ให้ลองดู
--- Page 148 ---
148 การเขียนโปรแกรมกาษา c ขันพืนฐาน  default:  puts (  unknown" ) . ลักษณะผลลัพธ์  medium  large  unknown จากผลลัพธ์จะพบว่า คำสังตังแต่ case: m เป็นต้นไป จะถูกดำเนินการทั้งหมด แม้ว่า  เงื่อนไขของกรณีเหล่านั้นไม่ตรงกับค่า m ก็ตาม ลักษณะเช่นนี้จึงขัดกับหลักการของ  คำสั่ง switch case ที่ควรจะเลือกทำเพียงกรณีใดกรณีหนึ่งเท่านั้น และจากเหตุผลที่ กล่าวมา จึงจำเป็นต้องมีคำสั่ง break ต่อท้ายในทก case เสมอ  ค่าที่เราจะกำหนดเป็นเงื่อนไขของแต่ละ case นั้น จะเป็นสิ่งต่อไปนี้ไม่ได้คือ จะเป็นข้อมูลชนิด float หรือ double หรือค่า nบll ไม่ได้  จะนำค่าจากตัวแปรมาใช้โดยตรงฺหรือนำมาคำนวณแล้วกำหนดให้เป็นเงื่อนไขของ case ไม่ได้ ยกเว้นค่าคงที่ชนิดเลขจำนวนเต็มหรืออักขระ ถ้าเป็นเลขหรืออักขระที่กำหนดค่าโดยตรงที่แต่ละ case  สามารถนำมาคำนวณ ด้วยเครื่องหมายต่างๆ แล้วกำหนดให้เป็นเงื่อนไขของ case ได้  แต่ต้องเป็นเลข จำนวนเต็ม หรือคำนวณแล้วได้เลขจำนวนเต็ม #include <stdio.h> void  main() l int a 10 : int b 20 ; float c 10. 5;  const int  d 30 ; char e e'  float f; switch (a) { case a b: ferror เพราะใช้ค่าจากตัวแปร f a + b; break : case 1o 20 : iok  แบบนี้ทำได้ เพราะกำหนดค่าโดยตรง i. 1o 20 ; break: case o. 0 1 : fierror เพราะเป็นเลขทศนิยม f 0. 0 : break;
--- Page 149 ---
 บทที 6 | การเปรียบเทียบและกาหนดเงื่อนไข 149 case c.: ferror  เพราะใช้ค่าจากตัวแปร f= c 2 ; break;  case d 2 : iok  แบบนี่ทำได้เพราะ d  เป็นค่าคงที่ f c 2 ; break;  case e: ferror  เพราะใช้ค่าจากตัวแปร break: case z iok  แบบนี่ทำได้ เพราะกำหนดค่าโดยตรง break: หากมีหลาย case ที่ต้องทำคำสั่งในแบบเดียวกัน เราไม่จำเป็นต้องเขียนคำสั่งเหล่านั้น ซ้ำซ้อนกันก็ได้ แต่สามารถนำไปเขียนไว้ที่ case ตัวสุดท้ายที่ตรงกับเงื่อนไขได้เลย เช่น int nonth ii1 12 switch  (nonth) case 1: case 3 : case 5 : case 7 : case 8 : case 10: case 12 : puts( "this nonth has 31  days" ); break; case 4 : case 6 : case 9 : case - 1 : ( this nonth has 30 days" ); break; case 2 :  puts ( this nonth has 28-29  days" ) break; default : puts( "nunber out of range )  โค้ดข้างบนหมายความว่า หาก month มีค่าอย่างใดอย่างหนึงระหว่าง 1, 3, 5 7 8 10 12 จะแสดงคำว่า  "this month has 31 days'  แต่หากเป็นลข 4 6. 9, 11 จะแสดง คำว่า  "this month has 30  days' หรือหากเขียนโดยใช้คำสั่ง if-<else  if>-else  ร่วมกับ  เครื่องหมาย i จะได้ดังนี้ puts
--- Page 150 ---
150 การเขียนโปรแกรมภาษา c ขันพืนฐาน int m if (๓==1||๓==3| |๓==5 | |๓==7||๓==8| |๓==10||๓==12) {. puts( this month has 31  days" ); . else if (๓==4|/๓==6| |๓==9||๓==11) { puts( this month has 30 days" ); . else it /"==2 ) puts( this month has 28 29  days" ); . else { puts(  nunber out of range ): ตัวอย่าง 6-13  ให้รับตัวเลข 2 จำนวนเข้ามาทางคีย์บอร์ด แล้วรับเครื่องหมายอย่างใดอย่าง หนึ่งระหว่าง +, i และ %  จากนั้นใช้ switch case เพื่อแยกวิธีการคำนวณในแต่ละกรณี (ตัวอย่างนี้ มีการรับข้อมูลชนิด char ด้วยฟังก์ชัน scanf( ) ชึ่งจะมีปัญหาเช่นเดียวกับการรับข้อมูล ชนิดสตริง ดังนั้น เราจะแก้ปัญหาด้วยวิธีการเดียวกันตามที่เคยกล่าวไว้แล้วในบทที่ 4) # include <stdio.h> enter num  #1 enter operator  (+, ,/, ) >>/ enter num#2 >>3 void main() { float n1, n2 , n; 15  /  3 5 char op; printf( " inenter nuท #1 >>" ) ; scanf( "%f" &n1 ) ;  getchar( ); printf( "enter  operator ( + , i ช) >>" ) : scanf{ "%c &op) ; printf( "enter nนก #2 >>" ) ; scanf[ "%f" &n2 ) ; switch  yop) case rn n2 : break; case n n2 : break; case n. n2 : break; case n n1 /n2 : break ; case % n (int )n1 % lint )n2 ; break: >>15 n1 n1 n1
--- Page 151 ---
 บทที 6 | การเปรียบเทียบและกาหนดเงือนไข 151 printf( in%g  %c  %g  %g  in" n1 op. r) ; การตรวจสอบอักขระด้วยฟังก์ชันที่คืนค่าแบบบูลีน c. มีฟังก์ชันจำนวนมากที่คืนค่าหรือได้ผลลัพธ์เป็นค่าแบบบูลีน (true/false) โดย เฉพาะอย่างยิ่งฟังก์ชันประเภทการตรวจสอบอักขระ ซึ่งฟังก์ชันบางส่วนเราก็มีโอกาสได้นำมาใช้ บ่อยต ในบทต่อตไป ดังนี้ isdigit() ตรวจสอบว่าอักขระที่ระบุเป็นเลข 0 - 9 หรือไม่ ถ้าใช่จะได้ค่าเป็น 1  (true) มิฉะนัน  จะคืนค่า 0 (false) isalpha()  ตรวจสอบว่าค่าที่ระบุเป็นตัวอักษร a=z หรือไม่ ถ้าเป็นตัวพิมพ์ใหญ่ (a z) จะคืนค่า 1 ถ้าเป็นตัวพิมพ์เล็ก (a z) จะคืนค่า 2 กรณีอื่นไ จะได้ค่าเป็น 0 isalnumu) ตรวจสอบว่าค่าที่ระบุเป็นตัวอักษร a- z หรือเลข 0 - 9 หรือไม่ ถ้าเป็นตัวพิมพ์ใหญ่ (a- z) จะคืนค่า 1 ถ้าเป็นตัวพิมพ์เล็ก (a - z) จะคืนค่า 2 ถ้าเป็นตัวพิมพ์เลข 9) จะคืนค่า 4 กรณีอื่น" จะได้ค่าเป็น 0  isupper() ตรวจสอบว่าค่าที่ระบุเป็นตัวอักษรพิมพ์ใหญ่หรือไม่ ถ้าเป็นตัวพิมพ์ใหญ่ (a z) จะคินค่า 1 กรณี อื่น" จะได้ค่าเป็น 0  islower() ตรวจสอบว่าค่าที่ระบุเป็นตัวอักษรพิมพ์ใหญ่หรือไม่ ถ้าเป็นตัวพิมพ์เล็ก (a z) จะคืนค่า กรณีอื่น จะได้ค่าเป็น 0 tolower( ) แปลงอักขระเป็นตัวพิมพ์เล็กและพิมพ์ใหญ่ ตามลำดับ โดยฟังก์ชันเหล่านี้ จะคืนค่า toupper() เป็นอักขระหลังการแปลง เช่น char c  toupper('c');  ฟังก์ชันทั้งหมดที่แสดงในตารางนี้ อยู่ในเฮดเดอร์  ctype.h ดังนัน  เราต้องอ้างอิงด้วย  include จึงจะใช้งานได้ และค่าที่จะกำหนดให้กับแต่ละฟังก์ชันต้องเป็นชนิด char หรือเป็นชนิด int ที่เป็นรหัสของอักขระที่ต้องการตรวจสอบ และเนื่องจากค่าที่คืนกลับมาเป็นชนิดตัวเลข ซึ่งเรา สามารถเทียบเป็นค่าบูลีนได้นันคือ false o. true > 0 ถ้าเราต้องการตรวจสอบแค่ค่าจริงเท็จก็  สามารถใช้ร่วมกับคำสั่ง if ได้  ซึ่งขอให้ดูแนวทางการใช้งานจากตัวอย่างต่อไปนี้ n2 ,  ในภาษา (0 -
--- Page 152 ---
152 การเขียนโปรแกรมภาษา c ขันพืนฐาน ตัวอย่าง 6-14 แนวทางการใช้ฟังก์ชัน isxxx( ) เพื่อตรวจสอบข้อมูลอักขระ #include <stdio.h> 1is digit x is not digit # include <string.h> a  is  alpha # include  <ctype h> a is  alpha is  not upper a is  upper void  main() putchar(  in" ); anter digit (8-9) )x error.!  please enter9-9 char s[20] ; strcpy( s yisdigit( "1")) ? not ") printf(" 1 is  %sdigit in" s ) ; strcpy( s yisdigit( x" )) ? not ") printf( x is  %sdigit in s ) ; strcpy( s yisalpha( "a" )) ? hot "); printf( "a is  %salpha in s ) ; strcpy( s yisalpha( "a" )) ? not "); printf( "a is  %salpha in s ) ; strcpy( s (isupper( "a" )) ? not ") printf( "a is  %supper in s ) ; strcpy( s (isupper( "a" )) ? not ") printf( "a is  %supper in s ) ; char d; printf( " inenter digit (0-9 ) >> " ); scanf{ %c &d) ; if (! isdigit (d)) printf( "error! please enter 0-9|n" ): . else printf( "thank.! for  entering digit in" );  สิ่งสำคัญที่เราได้ศึกษาในบทนี้ก็คือ การใช้เครื่องหมายเปรียบเทียบรูปแบบต่างๆ ในกลุ่ม  comparison และ  logic  ชึ่งให้ผลลัพธ์แบบบูลีน นอกจากนี้ยังได้กล่าวถึงการกำหนดแเงื่อนไข ด้วยคำสัง if,  else-if, else และ switch  เพื่อตัดสินใจก่อนจะดำเนินการในขั้นตอนต่อไป ชึ่ง ถือเป็นพื้นฐานที่สำคัญอย่างหนึ่งของการเขียนโปรแกรม  เพื่อควบคุมการทำงานต่างๆ ภายใต้  เงื่อนไขที่เราต้องการ
--- Page 153 ---
กาธทำซ้ำแบบวนธอบ ารทาชาแบบวนรอบ หรือการวนลูป (loop) เป็นการทำงานในลักษณะเดิมตั้งแต่เริ่มต้นไป กานทินสุดมเอ้วกรัยมาเรีมทาโหมเชนนิไบเรือย จนกว่าจะครบจำนวนรอบหรือตรงกับ  เงื่อนไขที่กำหนดเอาไว้ โดยในภาษา c. นั้นมีรูปแบบของการวนลูปให้เลือกใช้หลายอย่างเช่น for., while หรือ do while เป็นต้น  ซึ่งเนื้อหาในบทนี้ก็จะกล่าวถึงหลักการของลูปแต่ละแบบ และ แนวทางการเลือกลูปที่เหมาะสมกับงานแต่ละอย่างอีกด้วย การใช้ลูปแบบ for ขั้นพื้นฐาน กรณีที่เราจะทำคำสั่งในลักษณะเดิมแบบซ้ำๆก็ต้องเขียนโค้ดที่คล้ายๆ กันหลายครั้ง เช่น การพิมพ์เลข 1 - 5 ออกไปที่ส่วนแสดงผล printf( " in%d" 1) ; printf(" in%d" 2 ) ; printf( " in%d" 3 ) printf( " in%d" 4 ) printf( " in%d 5 ) ลองคิดดูว่า หากจำนวนตัวเลขที่เราต้องการพิมพ์มีมากกว่านี้ จะเกิดความยุ่งยากเพียงใด หรือบางทีก็ต้องนำเงื่อนไขอย่างอื่นมาพิจารณาด้วย เราอาจ ไม่ทราบล่วงหน้าว่าต้องทำซ้ำกี่ครั้ง ะ ดังนัน ในภาษาคอมพิวเตอร์แทบทั้งหมดรวมถึงภาษา c จึงมีคำสั่งสำหรับการทำงานแบบวงรอบ ตามจำนวนครั้งที่กำหนด หรือเรียกว่าการวนลูป (loop) นนเอง โดยในหัวข้อนี้เราจะเริ่มศึกษา ะู จากการใช้คำสั่ง for ขั้นพื้นฐานไปก่อน ซึ่งมีรูปแบบอย่างง่ายดังนี้ for (ตัวแปร ค่าเริ่มต้น;  เงื่อนไขการวนลูป;  การเปลี่ยนค่าตัวแปร)  คำสังต่างๆ
--- Page 154 ---
154 การเขียนโปรแกรมภาษา c ขันพืนฐาน ข้อกำหนดทั้ง 3 ส่วนคือ ตัวแปร เงื่อนไข และการเปลี่ยนค่า ต้องอยู่ภายในวงเล็บ ( ) เสมอ โดยคั่นแต่ละส่วนด้วยเครื่องหมาย semicolon  (;) ตัวแปร หรือตัวนับ  ก็คือค่าที่จะถูกนำไปใช้เมื่อมีการวนลูปในแต่ละรอบ โดยต้องระบุ ค่าเริ่มต้นให้กับตัวแปรเสมอ เพื่อกำหนดขอบเขตเริ่มแรกในการทำงานของลูป เงื่อนไขการวนลูป เป็นการกำหนดขอบเขตการทำงานหรือการวนรอบของลูป ชึ่งตาม  ปกติแล้ว  เงื่อนไขดังกล่าวนี้ต้องเป็นการเปรียบเทียบที่ให้ผลลัพธ์ออกมาเป็นบูลืน  (true false) โดยการวนลูปจะเกิดขึ้นเมื่อเงื่อนไขเป็นจริง  แต่หากเงื่อนไขเป็นเท็จ ก. จะสินสุดการวนลูป การเปลี่ยนค่าของตัวแปร  เราต้องเลือกเครื่องหมายอย่างใดอย่างหนึ่งมาเปลี่ยนค่า ของตัวแปรในการวนลูปแต่ละรอบ เช่น เพิ่มค่าทีละ ส หรือเพิมค่าทีละ 5 หรือลดค่า ทีละ 2 เป็นต้น เราต้องคั่นระหว่างการกำหนดค่าของตัวแปร  เงื่อนไข และการเปลี่ยนค่า ด้วย  เครื่องหมาย semicolon(;) เสมอ เช่น จากการพิมพ์เลข 1 - 5 ออกไปที่ส่วนแสดงผลดังโค้ดที่ผ่านมา หากเปลี่ยนมาเขียน เป็นลูปแบบ for จะได้ดังนี้ for vint 1 . 1 ; i .. 5 ; 1++ ) { printf( " in%d" i ) ;  จากโค้ดที่ผ่านมา ลักษณะการวนลูปคือ เราพิจารณาคร่าวซ ได้ว่า  ลูปเริ่มจาก . .. 1 จนกว่าเงือนไข า <= 5 จะเป็นเท็จ หรือ i > 5  จึงจะสิ้นสุดการวนลูป และ i++ แสดงว่าเพิ่มค่าตัวนับครั้งละ 1 (i = 1) เข้าสู่การวนลูปแรก  แล้วตรวจสอบเงื่อนไข (i <= 5) ซึ่งเป็นจริง ก็ทำคำสั่ง ภายในบล็อกของ for จนครบทุกคำสั่ง(นับเป็น 1 (i++ => 2) เพิมค่าของตัวแปรไปอีก 1 (คือส่วนที่กำหนดด้วย   i++) แล้วตรวจสอบ  เงื่อนไข (i <= 5) ซึ่งเป็นจริง ก็ทำตามคำสั่งทั้งหมดในบล็อก for (i++ => 3) เพิมตัวแปรไปอีก 4 จากนันตรวจสอบเงื่อนไข (i 5) ซึงเป็นจริง ก็ทำ  คำสั่งในบล็อก for จนครบ (i++ => ...)  เพิ่มค่าตัวแปร  แล้วตรวจสอบเงื่อนไขเช่นนี้ไปเรื่อยตจนกว่าเงื่อนไข (i <= 5) จะเป็นเท็จ นั่นคือค่าของตัวแปรมีค่ามากกว่า 5 จึงจะสิ้นสุดการวนลูป ลูป) <4=
--- Page 155 ---
 บทที 7 | การทาชำแบบวนรอบ 155 ลองมาดูโค้ดเพิ่มเติมในลักษณะอื่นท เช่น สมมติว่าเราต้องการพิมพ์ เฉพาะเลขคู่ระหว่าง 1 10 นั่นแสดงว่าเราต้องเริ่มจาก 2 แล้วเพิ่มค่าตัวแปรทีละ 2 เซึ่งเขียนเป็นโค้ดได้ดังนี้ for (int i 2 ; i a 10 ; 1 + 2 ) [ printf( %d 1) ; . /ผลลัพธ์คือเลข  2  4 6  8  10  สำหรับตัวแปรหรือตัวนับที่ใช้กับลูป for  ไม่จำเป็นต้องใช้ชนิด int เท่านัน  แต่อาจเป็น ข้อมูลชนิดตัวเลขอื่นไ ก็ได้ เช่น short., char,  double หรือ float เช่น กรณีต่างๆ ต่อไปนี้ for  (double  d . 0 . 5 ; d aa 6 . 5 ; d = 1. 5 ) printf( %0 . 1f d) ; //ผลลัพธ์คือ 0. 5 2 . 0 3 . 5 5 . 0 6 . 5 . /พิมพ์ อักขระ a z for  (cnar ch 'a" ch . 7` ; ch++ ) {. printf( "%c ch) ; //ผลลัพธ์คือ a  b  cd  x y z การเปลี่ยนแปลงค่าของตัวแปรนั้น อาจเป็นการลดค่าลงจากเดิมก็ได้ แต่ในกรณีนี้ เราต้อง พิจารณาค่าเริ่มต้นของตัวแปรและเงื่อนไขให้สัมพันธ์กันด้วย เช่น โค้ดต่อไปนี้ for (int 1 20 ; 1 >= 1 : i . 2 ) printf( "%d i) ; /ผลลัพธ์คือ 20 18 16 6  4  2 จากโค้ดข้างบนหมายความว่า ค่าของตัวแปรจะเริมจาก 20  แล้วเงื่อนไขคือ  ถ้าตัวแปร มีค่ามากกว่าหรือเท่ากับ 1 ก็จะวนลูปต่อไปเรื่อย ต พร้อมกับลดค่าลงครั้งละ 2 จนกว่าเงื่อนไข (i >= 1) เป็นเท็จ หรือจนกว่า i < 1 นันเอง จึงจะออกจากลูป ในอีกลักษณะหนึงคือ การพิมพ์อักขระจาก f => a เชน for  ychar ch f" ch >= a" ch- - printf( "%c ch) ; i ผลลัพธ์คือ f le d c  b  a long.,
--- Page 156 ---
156 การเขียนโปรแกรมภาษา c ขันพืนฐาน for นอกจากจะกำหนดเป็นคำสั่งทั่วไปแล้ว ก็อาจมีการตรวจสอบเงื่อนไขด้วย  คำสัง if หรือ switch ซ้อนอยู่ข้างใน เซึ่งไม่ได้มีข้อกำหนดอะไรเป็นพิเศษ  ขอให้ดูแนวทางจาก  โค้ดต่อไปนี้ //ถ้าต้องการตรวจสอบว่า ตั้งแต่ 1 -100 i /มีจำนวนที่ทั้ง 6 และ 8 หารลงตัวกี่จำนวน int  count 0 : for yint i 1 ; i <= 100 ; 1++ ) if (i  %  6 . o && i %  8 . 0) i count++ : printf( %d" count ): ii4 ตัวอย่าง 7-1 เป็นการใช้ลูป for เพื่อวนรับข้อมูลตัวเลข 5 จำนวนจากผู้ใช้ผ่านทางคีย์บอร์ด พร้อมกับบวกเพิ่มเข้าไปในผลรวม แล้วแสดงผลลัพธ์และหาค่าเฉลี่ย # include <stdio.h> number #1 >>38  number  #2 >>18  number  #3 >>28 void  main() number #4  >>10 float านทn sun 0. 0 ;  number  #5 >>58 slm: 128 putchar( เn" ); averag=: 24 for (int i 1 : i <= 5;  1++ ) [ printf( "number #%d >> i ) : scanf( "%f" &num) sun += ทนา; printf(  insum: %g sum) printf( " inaverage: %g  anา sun 5 ) ตัวอย่าง 7-2 การหาค่าของเลขยกกำลัง ก็คือการนำเลขฐานมาคูณกันเป็นจำนวนครังเท่ากับ เลขชี้กำลัง เช่น 103 . 10 * 10 10 โดยให้รับข้อมูลทางคีย์บอร์ดเป็นเลขฐานและเลขยกกำลัง จากนั้นใช้ลูป for เพื่อคำนวณหาค่าของเลขยกกำลัง และจะเทียบกับการใช้ฟังก์ชัน pow( ) ของ ภาษา c.  ให้ดูด้วยว่าได้ค่าเท่ากันกับที่เราคิดเองหรือไม่ # include <stdio.h> base >>-5 # include  <stdbool h>  power  (+int) >>3 # include  <math.h> -5 ^  3 -125  using  pow(-5, 3) -125 ภายในลูป
--- Page 157 ---
 บทที 7 | การทาชำแบบวนรอบ 157 void  main( ) float base result 1 ; int power: boo1 erno^ false: printf( " inbase ); scanf( %f"  &base ) ; printf( power (+int) >>" ) ; scanf( %d  &power) ; if {power . 0) result 1 : } else if  (power >= u) { for (int i 1 : i <  power; 1++ ) { result = base; า ) else [ result 0: ernor true; if u!error) [ printf( " in%g %d %g base.,  power result ) ; printf(  inusing  pow(%g , %d) %gin" base power pow( base  power) ); ง else { puts( " inerror!  invalid  nurberin" ); การกำเินดลูป for ซ้อนกัน การกำหนดลูป for ซ้อนกันกึคล้ายกับกรณีที่เราใช้เงื่อนไข if ซ้อนกัน โดยเมื่อเกิดการวน  ลูปชั้นนอกในแต่ละรอบ จะทำให้ลูป for ทีอยู่ชันในวนไปจนครบรอบตามเงือนไข แล้วจึงจะกลับ ง ออกมาวนลูปชั้นนอกในรอบถัดไป ซึ่งเราจะวางลูป for ซ้อนกันกี่ชั้นก็ได้ ดังรูปแบบต่อไปนี้ >>"
--- Page 158 ---
158 การเขียนโปรแกรมภาษา c ขันพืนฐาน for ต. for ( .. ) [ แนวทางการใช้งาน เช่น สมมติว่าเราต้องการพิมพ์ตัวเลข 5 บรรทัด โดยในแต่ละบรรทัดนั้น  ก็จะพิมพ์เลข 1- 10 นั่นแสดงว่าลูปชั้นนอกจะต้องวน 5 รอบ  แล้วลูปชั้นในจะต้องวน 10 รอบ ดังนี้ for vint i = i <= 5 ; i++ ) - 2 3 4 5 6 7 8 9  le 1 2 3 a 5 s 7 8 9  la for (int j j <= 10; ]++ ) 2 3 5. 6 7 8 9  le printf( "%d j) ; ู 2 3 : 5 6 7 8 9 le 2 3 5 s 7 8 9.  l8 putchar( เn" ) : / /ขื้นบรรทัดใหม่ จาก  แโค้ด ลูปชั้นใน (i) จะต้องวนไปจนครบรอบก่อน ดังจะเห็นได้จากการพิมพ์ตัวเลข 1-10 ในแต่ละบรรทัด แล้วจึงจะกลับสู่ลูปชั้นนอก (i) ชึ่งในกรณีนี้ระหว่างลูป และ j ไม่ได้เกี่ยวข้อง ะ หรือมีผลต่อกัน เพียงแค่วนลูปให้ครบตามจำนวนรอบเท่านั้น อย่างไรก็ตาม  ฺอาจมีบางกรณีที่ต้องนำตัวแปรของลูปชั้นนอกไปใช้ร่วมกับตัวแปรของลูป ชั้นใน  เดังในโค้ดต่อไปนี้ ซึ่งเราจะให้ลูปชั้นในวนรอบเป็นจำนวนครั้งเท่ากับค่าในแต่ละรอบของ  ลูปชั่นนอก เช่น วนลูปชั้นนอกครั้งที่ 1 วนลูปชั้นใน 1 รอบ วนลูปชั้นนอกครั้งที่ 2 วนลูปชั้นใน 2 รอบ วนลูปชั้นนอกครั้งที่ 3 วนลูปชั้นใน 3 รอบ ดังนัน เราต้องนำตัวแปรของลูปชั้นนอกมาเป็นขอบเขตของเงื่อนไขของลูปชั้นใน ดังนี้ for  yint i  1 ; i <= 5 ; 1++ ) - 1 2 for (int j j < i: ]++ ) { 2 3 printf( "%d ]) ; 1 2 3 a 1 2 3 4   5  for 1 : 1 ; 1 ;
--- Page 159 ---
 บทที 7 | การทาชำแบบวนรอบ 159  putchar( เn" ) ; ตัวอย่าง 7-3 เป็นการสร้างตารางสูตรคูณ โดยใช้ลูปแบบ for ซ้อนกัน 2 ชัน  muitiplication  table 2 3 4 5 6  lo 2 s 8 le 12 14 1s 18 29 3 4 9. 12 15 18 21 24 27 33 4 8 12 16 2e 24 28 32 36 49 5  lo 15 2d 25 3o 35 48 45 5o 6 12 18 24  3e 36 42 48 54 69 t 14 21 28 35 42 49 56 63 7o i x 1 1 x 2 1 x  3 ax 4 8 16 24 32 4d 48 s6 54 72 8o 9 18 27 36 45 54 63 72 81 99 2 x  1 2 x 2 2 x  3 2 x 4  le 28 3e 48 5b se 78 8e  9e loe 3 x 1 3 x 2 3 x 3 3 x 4 # include <stdio.h> #include  <string.h> void  main( ) printf( " printf( "multiplicat ion table ): printf( in"); ii 'เลูปชั้นนอก (i) สำหรับตัวเลขในแนวตั้ง for (int i ป; i <- 10;  1++ ) { //ลูปชั้นใน  (j) สำหรับเลขในแนวนอน for (int j 1 ; j <= 10 ; ]++ ) //คอลัมน์แรก ความกว้างเป็น 2 และจัดชิดข้าย if uj ร 1)  { printf( 2d" i j) ; . //คอลัมน์ถัดไป ความกว้างเป็น 5 และจัดชิดขวา else printf( "%5d" i j) ; putchar(   wn");  //ถ้าครบลูป j ให้ขึ้นแถวใหม่  aา "%-
--- Page 160 ---
160 การเขียนโปรแกรมภาษา c ขันพืนฐาน การใช้คำสัง break ตามปกติแล้ว ลูปแบบ for จะเกิดการวนรอบไปจนกว่าเงือนไขจะเป็นเท็จ แต่อาจมีข้อกำหนด บางอย่างที่ต้องการให้ลูปหยุดทำงานในขณะใดขณะหนึ่ง ถึงแม้เงื่อนไขการวนลูปจะยังเป็นจริงอยู่ ก็ตาม ฺซึ่งลักษณะเช่นนี้ เราสามารถนำคำสั่ง break มาวางไว้ณ จุดที่ต้องการออกจากลูปได้เลย เช่น int sumn 0 ; for vint n. = 1 : n = 10 : n++ ) { sum .= n: if (n >= 5 ) break: printf( " sun %d" sun) /i1 +2  + 3+/4  + 5 15  จากโค้ดข้างบน เมื่อ n . 5 การวนลูปจะสิ้นสุดลง เพราะถูกกำหนดด้วยคำสัง break ถึง แม้จะยังไม่ครบตามเงื่อนไข แต่อย่างไรก็ตาม กรณีที่ใช้คำสั่ง break ร่วมกับ switch  และซ้อน อยู่ในลูป for จะไม่มีผลให้ลูปหยุดการทำงานแต่อย่างใด เช่น ตัวอย่างต่อไปนี้ ตัวอย่าง 7-4 ตรวจสอบว่าเมื่อเราใช้คำสั่ง switch ที่ต้องมี break ในแต่ละ case หากซ้อน  อยู่ในลูป for จะเกิดผลอย่างไร # include <stdio.h> is odd 2  is even 3 is  odd void main() 4  is avan 5 is  odd int renainder 0 ; 6 is even for (int n 1 : n <= 10 ; n++ ) f is odd remainder n % 2 : 8 is evaา 9 is  odd  switch( renainder) le  is avan  case 0: printf( %d is  evenin" n) : break: default: printf( "%d is oddin" n) : break:
--- Page 161 ---
 บทที 7 | การทาชำแบบวนรอบ 161 จากโค้ด จะเห็นว่าลูป for วนรอบตั้งแต่ค่าแรกจนถึงค่าสุดท้าย (ท = 1 ถึง n = 10) แม้ ภายในลูปจะมีคำสั่ง break ของ switch ก็ตาม ฺนั่นแสดงว่า คำสั่ง break ของ switch ไม่มีผล ต่อลูป for การใช้คำสั่ง continue คำสัง continue เป็นการสั่งให้วนลูปถัดไปทันที โดยไม่ทำคำสั่งภายในลูป for ที่อยู่ถัดจาก  continue ลงไป ดังนั้นจึงใช้ในทางตรงกันข้ามกับคำสั่ง break เช่น ในโค้ดต่อไปนี้ int sนา 0; for (int n . .ร 10 ; nrt) i if (n sa 5 ) {  continue; surt = nะ printf( " sun %d" sum) ; //1 + 2  +  3  +  4  +  6  +  7  +  8  + 9 + 1o 50  จากโค้ด เมื่อ n . 5 จะวนลูปถัดไปทันที ดังนั้น คำสั่ง sum += 5 จึงถูกข้าม แล้วทำต่อ ในลูปต่อไป (ถ้าเป็น break จะออกจากลูป) การกำทินดลูป for แบบไม่รู้จบ (infinite loop)  กรณีที่เราต้องการวนลูปไปเรื่อยตแบบไม่กำหนดเงื่อนไขไว้ล่วงหน้าว่าจะหยุดเมื่อใด ก็อาจ สร้างเป็นลูปแบบไม่รู้จบ (infinite loop) โดยไม่ต้องมีส่วนที่กำหนดค่าเริ่มต้น ส่วนเงื่อนไข และ ส่วนการเปลี่ยนค่า แต่เขียนลงไปเฉพาะเครื่องหมาย semi-colon(;) จำนวน 2 อันไว้ในวงเล็บ for (  ; ;  โค้ดข้างบนจะทำให้เกิดการวนลูปแบบไม่รู้จบ  ดังนั้น เราจะต้องกำหนดเงื่อนไขบางอย่าง ไว้ในบล็อกร่วมกับการใช้คำสั่ง break เพื่อหยุดการวนรอบของลูป ดังตัวอย่างถัดไป 4 :
--- Page 162 ---
162 การเขียนโปรแกรมภาษา c ขันพืนฐาน ตัวอย่าง 7-5 เป็นการสร้างลูป for เพือรับตัวเลขระหว่าง 50 100 แต่หากผู้ใช้ใส่ ค่า ที้ไม่อยู่ในช่วงนี้  เก็จะรับค่าใหม่ไปเรื่อยต จนกว่าจะใส่ค่าได้ถูกต้อง เชึ่งในกรณีนี้  เราไม่ทราบว่า  ล่วงหน้าจะต้องทำซ้ำกี่ครั้ง ดังนัน for แบบไม่รู้จบ  แล้วถ้าใส่ข้อมูลถูกต้องก็จะออก จากลูปด้วยคำสั่ง break # include  <stdio.h> enter integer  number sb 198>>49 enter integer  number se loo >>101 enter. integer  number se lอo >>74 void  main() thanks ! int กะ for (  : printf( enter. integer  nunber 50 1oo >>" ) : scanf( "%d &n) : if (n >= 50 && n <= 100) . puts( thanks! " ) break; //ออกจากลูป fon จากโคดข้างบนเราจะวนลูปเพื่อรับค่าจากผู้ใช้ไปเรื่อยจจนกว่าจะใส่ค่าระหว่าง 50-100 ชึ่ง ในกรณีนี้แเราไม่ทราบล่วงหน้าว่าต้องวนลูปกี่รอบ ดังนั้น จึงต้องมากำหนดเงื่อนไขภายในลูป หลัง  จากที่ได้รับข้อมูลเข้ามาแล้ว แต่โดยทั่วไป เราไม่นิยมใช้ลูป for ในแบบไม่รู้จบกันมากนัก เพราะ ยังมีลูปอื่นต ฺที่ถูกสร้างมาเพื่อวัตถุประสงค์นี้โดยตรงอยู่แล้ว เช่น while และ do-while ดังที่จะ กล่าวถึงในหัวข้อต่อตไป ลักษณะที่ควธรู้เพิ่มเติมเกียวกับลูป for นอกจากพื้นฐานทั่วไปของลูป for ที้ได้กล่าวในหัวข้อต่างๆ ที่ผ่านมา เก็ยังมีสิ่งที่เราควรรู้ เพิ่มเติมอีกหลายอย่าง ชซึ่งแยก"พิจารณาได้ดังต่อไปนี้ ตัวแปร หรือตัวนับที่ประกาศขึ้นในลูป for จะใช้ได้เฉพาะภายในลูปนี้เท่านั้น โดยหลัง จากสิ้นสุดลูปแล้ว ไม่สามารถอ้างถึงตัวแปรนี้ได้อีก ยกเว้นเราจะสร้างตัวแปรไว้ก่อนลูป  แล้วนำมาเป็นตัวนับภายในลูป for แม้ลูปจะสินสุดแล้ว  ก็ยังสามารถใช้ตัวแปร ดังกล่าวต่อไปได้ เช่น for vint x/.= 10 ;  ix <= 100 ;  ix .ร 10 ) int y = จึงใช้ลูป
--- Page 163 ---
 บทที 7 | การทาชำแบบวนรอบ 163 printf{ "%d" x); nernor printf{ "%d" y); fie ror int y; for (y 100 ; y.>= 10 : y. 10) printf( "%d" y); iok  สามารถอ้างถึงตัวแปร y. ตรงนี้ได้ ถ้าตัวแปรนั้นถูกประกาศเอาไว้ก่อนนี้แล้ว  เราไม่สามารถนำมาประกาศช้ำในลูป for  ได้อีก เช่น int 1 ; int n; for (int i . ป; 1 .. 10 ; 1++ ) i fierror int n i ; fierror ในการกำหนดเงื่อนไขของลูป ฺถ้าเป็นกรณีที่ต้องคำนวณค่าเพื่อนำมาเปรียบเทียบ ก็ ควรทำการคำนวณให้ได้ผลลัพธ์ออกมาก่อน  แต่ไม่ควรทำการคำนวณ ฺณฺตำแหน่งที่ กำหนดเงื่อนไข เพราะจะเกิดการคำนวณซ้ำๆ ในทุกรอบของการวนลูป ดังโค้ดถัดไป ซึ่งเราไม่ควร์ใช้รูปแบบแรก แต่ควร์ใช้รูปแบบที่สองมากกว่า /. /รูปแบบแรก คำนวณในขั้นตอนการระบุ เงื่อนไขของลูป /. /ไม่ควรใช้แบบนี้ int a 10 ; int d 5 ; for (int x =  1; x <= (a b) ; x++ ) t . /รูปแบบที่สอง คำนวณก่อนแล้วค่อยนำมากำหนดเป็นเงื่อนไข  /ควรใช้แบบนี้มากกว่า int a 10 ; int d 5 ; int c a b: for( int x =  1;  x <= c.: x++)
--- Page 164 ---
164 การเขียนโปรแกรมภาษา c ขันพืนฐาน ในบางครั้ง  การเปลี่ยนค่าของตัวแปร อาจอยู่นอกขอบเขตของเงื่อนไขที่เรากำหนด เอาไว้ โดยเฉพาะอย่างยิ่งกรณีที่ใช้เครื่องหมาย !=  ในการเปรียบเทียบ  ซึงลักษณะ เช่นนี้จะทำให้ลูปทำงานต่อไปเรื่อย ๓ แบบไม่รู้จบ  เช่นในโค้ดถัดไป  เราเพิ่มค่า  ครั้งละ 2 ดังนั้น ในแต่ละลูปค่า i จะเป็น 1, 3, 5, 7,  แต่เรากำหนดเงื่อนไขเป็น i != 6  จึงไม่มีลูปใดที่จะทำให้เงื่อนไขนี้เป็นเท็จและหยุดการทำงานลงได้  เซึ่งวิธีแก้ปัญหานี้ คือ หลีกเลี่ยงการเปรียบเทียบด้วยเครื่องหมาย != แล้วเปลี่ยนไปใช้พวก > >=. <=  แทน for yint i =  1 ; i ! = 6 ; i += 2 ) [ iii . 1. 3 5 , 7 , 9 printf( "%d i ) ; //เกิด infinite loop  ในกรณีที่เรากำหนดเงื่อนไขเป็นเท็จตั้งแต่เริ่มแรก คอมไพเลอร์จะไม่แจ้งข้อผิดพลาด และไม่มีการทำคำสั่งใดตในบล็อกของ for เช่น โค้ดถัดไป ซึ่งเรากำหนดค่า n = 10o แต่เงื่อนไขคือ n <= 10 ทำให้เงื่อนไขเป็นเท็จตั้งแต่เริ่มแรก ดังนั้น คำสั่งทั้งหมดใน  บล็อก for จึงถูกข้ามไป for (int n 100 ; n <= 10 ; n. = 5 ; ) f printf( "%d ำ) : ในส่วนของค่าเริมต้น เราสามารถกำหนดตัวแปรและค่าเริมต้นได้มากกว่า 1 ตัว โดย  คันแต่ละตัวด้วยเครืองหมาย comma (,) เช่น int i, sum ; for (i 1  sumn = 0: i < 10 : 1++ ) { suii += i; printf( sum ad sun) //45 ในส่วนของการเปลี่ยนค่าตัวแปร เราสามารถอัปเดตตัวแปรพร้อมกันได้มากกว่า 1 ตัว โดยคั่นแต่ละตัวด้วยเครื่องหมาย comma  (,) เช่น for (int i 1, j 10 ; i < 5 : i++ . j + 10) printf( "%d x %d %d%n i., j. i j); <=.
--- Page 165 ---
 บทที 7 | การทาชำแบบวนรอบ 165  เราสามารถใช้คำสั่ง for  expression  โดยไม่ต้องมีบล็อก  {} แต่ต้อง มี เครื่องหมาย  ปิดท้ายวงเล็บ  แล้วนำคำสังที่ต้องการทำมาเขียนไว้ในส่วนของ การเปลี่ยนค่าได้เลย โดยคั่นระหว่างคำสั่งด้วยเครื่องหมาย comma  (,) เช่น int 1; for (i 0 ; 1 <  5 ; i++,  printf( "%d 1) ) ; //ต้องมี ปิดท้าย เพราะเป็น expression ภาษา c. ไม่มีข้อห้ามในการเปลี่ยนค่าของตัวแปรภายในลูป  แต่เราต้องแน่ใจว่า การกระทำเช่นนั้นจะไม่ส่งผลให้ลูปทำงานผิดพลาด เช่นในโค้ดถัดไป ชึ่งจะเกิดการวนลูป แบบไม่รู้จบ เพราะค่าของ  จะเท่าเดิมตลอด for (int i = 4; 1 <= 5;  1++ ) [ //เกิด  infinite loop i. printf( "%d i) ; กาธใช้ลูปแบบ while การทำงานเป็นวงรอบด้วยลูป for มักจะใช้เฉพาะกรณีที่เราทราบค่าเริ่มต้นและค่าสุดท้าย ของการวนรอบ  แต่หากไม่ทราบค่าเหล่านี้ล่วงหน้า แต่ทราบเพียงเงื่อนไขบางอย่างที่ทำให้เกิดการ วนรอบ ก็อาจเปลี่ยนมาใช้ลูป while แทนได้ โดยลูปแบบ while จะมีการตรวจสอบเงื่อนไขก่อน วนรอบ หากตรงตามที่กำหนด (เป็นจริง) ก็จะเริ่มทำตามคำสั่งในลูป แล้ววนรอบไปเรื่อย" จนกว่า  เงื่อนไขจะเป็นเท็จ แแบบดังนี้  while ( เงือนไข)  คำสั่งต่างๆ  สำหรับเงื่อนไข ก็กำหนดคล้ายกับคำสั่ง if คือต้องเป็นการเปรียบเทียบที่ให้ค่าออกมาเป็น ะู  (true หรือ false) เท่านัน เช่น การแสดงตัวเลข 1 - 5 while int x = 1 ; while  ix <= 5) printf( %d x) ; x-+ ; ในแบบ ซึ่งมีรูปเ โดยใช้ลูป ค่าบูลืน
--- Page 166 ---
166 การเขียนโปรแกรมภาษา c ขันพืนฐาน หลักการทำงานของโค้ดข้างบนคือ ลูป while จะตรวจสอบเงื่อนไขที่ตอนต้นลูป โดยเริ่ม  แรก 1 <= 5 เป็นจริง จึงเริมทำคำสั่งต่างๆ ภายในบล็อกของมัน แล้วก่อนจะวนลูปถัดไป ก็ตรวจ สอบเงื่อนไข x <= 5 ถ้าเป็นจริง  ก็ทำคำสั่งในลูปจนครบ จากนั้นก็ตรวจสอบเงื่อนไข เป็นเช่นนี้ไป  เรื่อยต จนถึง x = 6 ชึ่ง 6 <= 5 เป็นเท็จ ดังนันลูป while จึงหยุดการวนรอบ และไม่ทำคำสัง ภายในบล็อกของมันต่อ ซึ่งลักษณะที่เราควรรู้เพิ่มเติมเกี่ยวกับลูปแบบ while มีดังนี้ ภายในบล็อกของลูป while  จะต้องมีคำสั่งที่สามารถทำให้เงื่อนไขเปลี่ยนจากจริง เป็นเท็จได้ มิฉะนั้นจะเกิดการวนรอบแบบไม่รู้จบ เช่นโค้ดต่อไปนี้ while itrue) . /เงื่อนไขเป็นจริงตลอด ( "hello" ) ; i. /จึงเกิดการวนลูปไม่รู้จบ (infinite) int x 1 : while ix <- 5 ) /เกิดการวนลูปไม่รู้จบเช่นกัน printf( "%d x) ; ควรหลีกเลี่ยงการใช้เครื่องหมาย !=  ในการเปรียบเทียบเงือนไขด้วยเหตุผลที คล้ายกับลูปแบบ for เพราะหากเราพิจารณาไม่รอบคอบพอ เงื่อนไขนั้นอาจไม่มีทางที่ จะเป็นเท็จได้ จนเกิดการวนลูปไม่รู้จบ ดังการเปรียบเทียบในโค้ดถัดไป //หากทำแบบนี้ จะเกิดการวนลูปไม่รู้จบ //เพราะ x ไม่มีทางเท่ากับ 6  เงื่อนไขจึงเป็นจริงตลอด int  x 1 : while ix ! = 6 ) printf( "%d x) ; x += 2 : iix= . 3 , 5 . 7. 9 , //ควร์ใช้ < >หรือ >  ในการเปรียบเทียบมากกว่า int x 1 : while ix<  6 ) i[ printf( "%d x) ; x += 2 ; iix= 1. 3 , 5  เราสามารถนำคำสั่ง break มาใช้กับ while เพื่อให้หยุดการวนรอบได้เช่นเดียวกับ for ดังโค้ดต่อไปนี้ ชึ่งจะพิมพ์ตัวเลข 1 - 5 แล้วหยุด puts za.
--- Page 167 ---
 บทที 7 | การทาชำแบบวนรอบ 167 int  x 1 ; while ftrue) if ix  > 5 )  [ break; printf( "%d x) ; x++ : หรือสามารถใช้คำสั่ง continue เพื่อวนลูปถัดไป โดยไม่ทำคำสั่งส่วนที่เหลือของบล็อก while int x: while (true) printf( "positive  integer  nunber >> ); scanf( "%d" &x ) : if ix <  0 | { cont inue; ในกรณีการประกาศตัวแปร ก็สามารถนำหลักการที่ได้กล่าวไว้ในลูปแบบ for มา  ใช้งานได้ เช่น ควรประกาศตัวแปรไว้ก่อนลูป  แต่ไม่ควรประกาศไว้ภายในลูป  เพราะจะเกิดการ  ประกาศชาๆ ในการวนลูปแต่ละรอบ ไม่ควรทำการคำนวณ ณ  จุดที่กำหนดเงื่อนไข  เพราะเกิดการคำนวณแบบซ้ำซ ในแต่ละลูป  เช่นในโค้ดถัดไป  ควรใช้รูปแบบทางด้านล่างมากกว่าที่จะใช้รูปแบบ ทางด้านบน int  x 10 ; while  ix 100 ) int y  x; / /ไม่ควรประกาศตัวแปรไว้ในลูป int  x 10; int y: . แต่ควรประกาศไว้ก่อนลูป while  ix <. 100)
--- Page 168 ---
168 การเขียนโปรแกรมภาษา c ขันพืนฐาน y= x; //ไม่ควรทำการคำนวณในขั้นตอนการครวจสอบเงื่อนไข //เพราะจะเกิดการทำซ้ำำในทุกลูป int a 1o b 5 : int ix 1 : while ix < ya + b) ) { //ควรคำนวณให้เสร็จก่อน แล้วค่อยไปกำหนดเงือนไข int a 1o b 5 : int c a b.; int  ix 1 : while ix<  c)  [ เราสามารถใช้ลูป while ซ้อนก้น หรือใช้จะใช้ลูป while ซ้อนกับ for ก็ได้ ทั้งนี้ขึ้นกับ ลักษณะของงานที่จะทำเป็นหลัก ให้ดูโค้ดของกรณีนี้จากตัวอย่างต่อตไป ตัวอย่าง 7-6 การตรวจสอบว่า ถ้าเราสร้างสุ่มระหว่าง 0 - 100 จะต้องสุ่มกี่ครั้ง จึงจะได้ เลขที่มีค่าตั้งแต่ 9o ขึ้นไป #include <stdio.h> 37 48 15 13 78 19 18  38  46 14 17  93 # include <stdlib.h> randomized 12 tine(s) #include  <time h> void main() srand{ time(0) ): int x o. times 0: putchar( in" ); whi le  ix 90)  /ถ้าได้ค่าทีน้อยกว่า 90 ต้องวนลูปต่อไป x = rand(). 7 101 ; //ค่าเลขสุ่มที่จะได้ จะอยู่ระหว่าง o 1oo printf( "%d x) ; times +- 1 : printf(  inrandomized %d time(s) เn" times )
--- Page 169 ---
 บทที 7 | การทาชำแบบวนรอบ 169 ตัวอย่าง 7-7 เป็นการรับรหัสผ่านจากผู้ใช้ ถ้ารหัสที่ถูกต้องคือ 567890 ซึ่งหากใส่ผิดก็ให้ ใส่ใหม่ ดังนั้น while  ในการรับข้อมูลไปเรื่อยๆ จนกว่าจะใส่ ค่าที่ถูกต้อง # include <stdio.h> enter  password >>555 anter.  password >>5678 #include <stdboo1 h> enter  password >>56789  #include <string. h> enter  password >>567890 thanks! void  nain() char  password[10] ; putchar( เn" ) ; i /ให้เงื่อนไชเป็น true เพื่อวนลูปไปเรื่อยฯ while (true) printf( "enter password >> " )  (password) /ถ้าใส่รหัสถูก ให้ออกจากลูป  while if  (strcnp ( password 567890" ) 0) { break; puts ( tnanks! ) : กาธใช้ลูปแบบ do-while  ลูปแบบ do-while เป็นการวนลูปโดยใช้เงื่อนไขเป็นตัวกำหนดคล้ายกับลูปแบบ while แต่  ในกรณีของ do while การตรวจสอบเงื่อนไขจะเกิดขึ้นที่ท้ายลูป ดังนั้น จึงต้องทำคำสั่งภายใน  บล็อกของมันอย่างน้อย a  ครั้ง โดยตราบใดที่เงื่อนไขยังเป็นจริง ฺการวนลูปจะดำเนินไปเรื่อยๆ จนกว่า เงื่อนไขจะเป็นเท็จ ซึ่งรูปแบบของลูปนี้คือ do  คำสั่งต่างๆ while ( เงื่อนไช) ;  สำหรับการกำหนดเงื่อนไขก็มีหลักการเช่นเดียวกับลูปเ แบบ  while หรือคำสั่ง if คือต้อง เป็นการเปรียบเทียบที่ให้ค่าออกมาเป็น true หรือ false เท่านั้น และต้องเขียนเงื่อนไขไว้ในวงเล็บ ดังตัวอย่างต่อไปนี้ จึงใช้ลูป gets z-
--- Page 170 ---
170 การเขียนโปรแกรมภาษา c ขันพืนฐาน ตัวอย่าง 7-8 เป็นการใช้ลูป  do while เพื่อรับข้อมูลตัวเลขจากผู้ใช้จนกว่าจะได้ค่าที่  มากกว่า 99 #include  <stdio. h> enter  number greater than 99 >>98 enter number greater than  99 >)99 enter number greater than 99  >>1188 void  nain() { enter number greater than  99 >>188 thanks! int x; putchar( ); do printf( enter  nunber greater than  99 >> ) ; scanf( "%d &x ) : ง  while ix <= 99 ) ; printf( thanks! เn") ;  จากโค้ดข้างบน  เมื่อเริ่มต้นลูป  จะแสดงข้อความให้ผู้ใช้ใส่ข้อมูลทันที โดยยังไม่มีการ ตรวจสอบเงื่อนไขใดต เมื่อทำครบทุกคำสั่งในบล็อก  จึงจะตรวจสอบเงื่อนไขที่ท้ายลูป  และถ้า  เงื่อนไขเป็นจริง เช่น  เราใส่ข้อมูลที่น้อยกว่าหรือเท่ากับ 99 ก็จะวนลูปถัดไปเรื่อยต จนกว่าจะใส่  ค่าที่มากกว่า 99 เพื่อให้เงื่อนไขเป็นเท็จ จึงจะออกจากลูป โดยลักษณะที่ควรรู้เพิ่มเติมเกี่ยวกับ  ลูปแบบ do-while คือ กรณีของลูป  do while  ต้องมี  semi-colon  (;) ปิดท้ายวงเล็บที่กำหนดเงื่อนไขของ  ลูปเสมอ เช่น do .  while ( . . ) : ii ต้องมี seni  coion ปิดท้ายเงื่อนไข do while กับแบบ while มีข้อแตกต่างที่สำคัญดังนี้ while จะตรวจสอบเงื่อนไขก่อนเริ่มลูป  และจะวนลูปก็ต่อเมื่อเงื่อนไข เป็นจริง  do while จะตรวจสอบเงื่อนไขที่ท้ายลูป  นั่นแสดงว่าลูปแบบนี้จะต้อง  ทำตามคำสั่งที่กำหนดในบล็อกของลูปอย่างน้อย 4  ครั้ง และจะวนลูปถัดไปเมื่อ  เงื่อนไขเป็นจริงเช่นเดียวกัน  in ลูปแบบ  ลูปแบบ  ลูปแบบ
--- Page 171 ---
 บทที 7 | การทาชำแบบวนรอบ 171  จากการที่ลูปแบบ  do while จะตรวจสอบเงื่อนไขที่ท้ายลูป ฺดังนั้น ลูปแบบนี้จึงเหมาะกับ บู  งานที่ต้องมีการกระทำบางอย่างไปก่อนในครั้งแรก แล้วค่อยตรวจสอบเงื่อนไขภายหลัง เนื่องจากลูปแบบนี้ จะใช้เงือนไขเป็นตัวกำหนดขอบเขตการวนลูป ดังนั้น คำสั่งภายใน  บล็อก do จะต้องมีกรณีที่จะทำให้เงื่อนไขมีค่าเป็นเท็จ หรือไม่ก็ใช้คำสั่ง break เพื่อ หยุดการทำงานแเช่นเดียวกับลูปแบบ while มิฉะนั้นจะเกิดการวนรอบแบบไม่รู้จบ เช่น int resuit ; do result rand( ) %1000 ; if  (result > 500) break; .  while (true) printf( random number %d result ); ลักษณะปลีกย่อยเพิมเติมอืนฑ ก็สามารถนำหลักการที้ได้กล่าวไว้ในลูปเ แแบบ while มาใช้ได้ ตัวอย่าง 7-9 การนับจำนวนตัวอักษรทีเป็นสระ  (vowel) ในภาษาอังกฤษ ด้วยการใช้ลูป  do while โดยในแต่ละลูปจะใช้ฟังก์ชัน  getchar( ) เพื่อรับอักขระ 4 ตัวจาก ผู้ ใช้ด้วย แลว  ตรวจสอบว่าอักขระตัวนั้นเป็นสระหรือไม่ ถ้าเป็นก็นับเพิ่มไปอีก 1 ชึ่งเราจะวนลูปรับค่าไปเรื่อยๆ จนกว่าผู้ใช้จะใส่เลข 0 จึงหยุดหรือออกจากลูป #include <stdio.h> enter o to  stop enter char >)e #include  <stdbool .h> anter char >>d #include  <ctype h> enter char >วน enter char >>6 enter char sa void  nain() enter char >)- int  count._ vowels 0 : enter. char ))1 enter char >>0 char c.: antar char ))n enter char >>9 printf(  inenter d. to stopin" ) ;  vowe1 letters: 5 do . printf( enter char >>" ) : c. getchar( );  getchar( ); iiclear ไา if (c . 0" )  {
--- Page 172 ---
172 การเขียนโปรแกรมภาษา c ขันพืนฐาน break; c tolower(c); ii แปลงเป็นตัวพิมพ์เล็ก if ic== a" lic== e iic=="i" lic== o" |ic== น") {  count_ vowe1s++ ;  while (true) ; printf( " invowe1  letters: %din"  count_ vowels ) ตัวอย่าง 7-10 เป็นการสร้างเกมทายตัวเลข โดยมีหลักการดังต่อไปนี้ เมื่อเริ่มเกมให้สร้างเลขสุ่มฺ ให้มีค่าระหว่าง 0-99 do-while  หรือ while  หรือ for  ก็ได้ แล้วแต่ถนัด  เพื่อให้ผู้เล่นใส่ตัวเลข ที่ต้องการทาย ถ้าผู้เล่นใส่เลขที่มากกว่าค่าที่สุ่มได้ ให้แสดงข้อความว่า "เน้อยกว่านี้' ถ้าผู้เล่นใส่ เลขที่น้อยกว่าค่าที่สุ่มได้ ให้แสดงข้อความว่า "มากกว่านี้"  ในที่นี้มีข้อกำหนดว่าให้ทายได้ไม่เกิน 7 ครั้ง ++ + enter integer  number 1-19o า ะ ดังนั้นจึงให้วนลูปเพื่อทายไปจนกว่าจะถูก  guesstimate #1 >>58 less than s9 (ชนะ) แต่ถ้าทายครบ 7  ครั้งแล้วยังไม่ถูก  guesstimate  #2 >>38  ก็ให้ถือว่าแพ้ less than 3b  guesstimate #3 >>28  greater than 2d # include <stdio.h> # include <stdlib. h>  guesstimate #4 ))25 # include <t ine. h> greater than 25 #include <stdbool h>  guesstimate  #5 >>28 greater than 28 void main()  guesstimate #6 >>29 srand( tine(0) ): yesi the  number is 29 i /สร้างเลขสุ่มสำหรับให้ทาย int rand num rand( ) % (1oo 1 + 1 ) : int  count 1 : //ทายครังที่เท่าไหร่ const int max 7 ; //ทายผิดไม่เกิน 7  ครั้ง int guess  num : //ค่าที่ผู้เล่นทายแต่ละครั้ง  ใช้ลูป
--- Page 173 ---
 บทที 7 | การทาชำแบบวนรอบ 173 printf(  in** * ente^  integer  number +-100 * * * in" ) ; do [ /รับค่าตัวเลขที่ทายในแต่ละครั้ง printf{  inguesstinate #%d  count ): scanf( "%d  &guess_ ทนท) : //ถ้าเลขที่ผู้ไช้ทาย มากกว่า เลขที่สุ่มได้ //ให้แสดงข้อความว่า น้อยกว่านี้ i เหมายถึง ให้ใส่เลขที่น้อยกว่านี if  lguess ทนา rand_num) printf( " less than %a1n"  guess_nun) ; /ถ้าเลขที่ผู้ใช้ทาย เน้อยกว่า เลขที่สุ่มได้ / /ให้แสดงข้อความว่า มากกว่านี้ /หมายถึง ให้ใส่เลขที่มากกว่านี้ else if  yguess_num rand_num) l printf( "greater than %din  guess_nun) ; /ถ้าเลขที่ผู่ใช้ทาย เท่ากับ เลขที่สุ่มได้ /นั่นคือทายถูกต้อง ให้ออกจากลูป else if  lguess  num rand_num) l printf( "yes! the  number is %ain"  guess_num) ; break: /ถ้าทายผิดครบจำนวนครั้งที่กำหนดไว้ / /ให้จบเกม และออกจากลูป if  (count . max) printf( " ingame oven!  guessed ); printf( "nore than  %d times in max) ; break:  count-+ : //เพิ่มตัวนับ ว่าเป็นการทายครั้งที่เท่าไร  while (true) ; เนื้อหาหลักที่เราได้เรียนรู้ไนบทนี้คือ การวนลูป (loop) แบบต่างๆ เช่น for., while หรือ  do while  เป็นต้น  ชึ่งลูปทั้งหมดเหล่านี้ล้วนเป็นพื้นฐานสำคัญของการเขียนโปรแกรมภาษา c เพื่อควบคุมการทำงานแบบชำqจนกว่าจะครบรอบตามต้องการ  และเนื่องจากลูปแต่ละแบบมี หลักการกำหนดเงื่อนไขที่แตกต่างกัน ดังนั้น เราต้องเลือกลูปให้เหมาะสมกับงานที่ต้องดำเนินการ  จึงจะได้ผลลัพธ์ที่ถูกต้องและไม่เกิดข้อผิดพลาด  >>" you